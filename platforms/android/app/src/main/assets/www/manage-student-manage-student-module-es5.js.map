{"version":3,"sources":["webpack:///src/app/manage-student/manage-student.page.scss","webpack:///src/app/manage-student/manage-student-routing.module.ts","webpack:///src/app/manage-student/manage-student.page.html","webpack:///src/app/manage-student/manage-student.module.ts","webpack:///src/app/manage-student/manage-student.page.ts"],"names":["routes","path","component","ManageStudentPageRoutingModule","imports","forChild","exports","ManageStudentPageModule","declarations","ManageStudentPage","navCtrl","dataProvider","authProvider","translate","alertCtrl","camera","network","route","router","zone","platform","students","allStudents","show_loading","queryParams","subscribe","params","getCurrentNavigation","extras","state","isUpdated","userdata","JSON","parse","localStorage","getItem","getStudents","get","response","lang","data","details","school_id","getSchoolStudents","then","res","console","log","length","splice","error","showToast","event","input","document","getElementById","value","serachStudent","student","navigation","course_id","dateSelected","getFormatedDate","Date","run","navigate","infiniteScroll","setTimeout","concat","target","complete","selector","template"],"mappings":"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","file":"manage-student-manage-student-module-es5.js","sourcesContent":["export default \"ion-item p {\\n  font-size: 12px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL21hbmFnZS1zdHVkZW50LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQztFQUNDLGVBQUE7QUFBRiIsImZpbGUiOiJtYW5hZ2Utc3R1ZGVudC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbXtcclxuXHRwe1xyXG5cdFx0Zm9udC1zaXplOiAxMnB4O1xyXG5cdH1cclxufVxyXG5cclxuIl19 */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ManageStudentPage } from './manage-student.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ManageStudentPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ManageStudentPageRoutingModule {}\n","export default \"<ion-header mode=\\\"md\\\">\\n  <ion-toolbar>\\n  \\t<ion-buttons slot=\\\"end\\\">\\n  \\t\\t<ion-back-button></ion-back-button>\\n  \\t</ion-buttons>\\n     <ion-toolbar>\\n     \\t<ion-title>{{'sidemenu.manage_student' | translate}} </ion-title>\\n      </ion-toolbar>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content mode=\\\"md\\\">\\n\\t<div class=\\\"students\\\" id=\\\"students\\\" *ngIf=\\\"allStudents\\\"> \\n\\t\\t<!-- <ion-virtual-scroll [items]=\\\"students\\\" approxItemHeight=\\\"320px\\\"> -->\\n\\t\\t\\t<ion-item style=\\\"width: 100%;\\\">\\n        \\t\\t<ion-searchbar mode=\\\"ios\\\" [(ngModel)]=\\\"searchtxt\\\" placeholder=\\\"{{'search.search' | translate}}\\\" id=\\\"search\\\" (keyup)=\\\"filterList($event)\\\"></ion-searchbar>\\n\\t\\t\\t</ion-item>\\n\\t\\t<ion-card  class=\\\"text-left body-font card heigt-min\\\"  *ngFor=\\\"let student of allStudents\\\">\\t\\t\\n\\t\\t\\t<ion-item  (click)=\\\"openStudentDetails(student)\\\">\\n\\t\\t\\t\\t<ion-avatar slot=\\\"start\\\">\\n\\t\\t\\t\\t\\t<img [src]=\\\"student.pic\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/logo.png';\\\">\\n\\t\\t\\t\\t</ion-avatar>\\n\\t\\t\\t    <ion-label>\\n\\t\\t\\t    \\t<h4>{{student.name}}</h4>\\n\\t\\t\\t    \\t<p>{{student.student_id}}</p>\\n\\t\\t\\t    \\t<p>{{student.class_name}}</p>\\n\\t\\t\\t    </ion-label>\\n\\t\\t\\t</ion-item>\\n\\t\\t</ion-card> \\n\\t\\t\\t<!-- </ion-virtual-scroll> -->\\n\\t\\t\\n\\t</div>\\n\\t<div class=\\\"students\\\" id=\\\"students\\\" *ngIf=\\\"show_loading\\\"> \\n\\t\\t<ion-card  class=\\\"text-left body-font card heigt-min\\\" *ngFor=\\\"let dummy of ' '.repeat(20).split(''), let x = index\\\">\\t\\t\\n\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t<ion-avatar slot=\\\"start\\\">\\n\\t\\t\\t\\t\\t<ion-skeleton-text [animated]=\\\"true\\\"></ion-skeleton-text>\\n\\t\\t\\t\\t</ion-avatar>\\n\\t\\t\\t\\t<ion-label>\\n\\t\\t\\t\\t\\t<h4><ion-skeleton-text [animated]=\\\"true\\\" style=\\\"width: 80%;\\\"></ion-skeleton-text></h4>\\n\\t\\t\\t\\t\\t<p><ion-skeleton-text [animated]=\\\"true\\\" style=\\\"width: 60%;\\\"></ion-skeleton-text></p>\\n\\t\\t\\t\\t\\t<p><ion-skeleton-text [animated]=\\\"true\\\" style=\\\"width: 30%;\\\"></ion-skeleton-text></p>\\n\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t</ion-item>\\n\\t\\t</ion-card> \\n\\t  </div>\\n\\t\\n\\t<ion-infinite-scroll (ionInfinite)=\\\"doInfinite($event)\\\">\\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n\\n\\n</ion-content>\\n \";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ManageStudentPageRoutingModule } from './manage-student-routing.module';\n\nimport { ManageStudentPage } from './manage-student.page';\nimport { PipesModule } from '../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ManageStudentPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [ManageStudentPage]\n})\nexport class ManageStudentPageModule {}\n","import { Component, OnInit,NgZone } from '@angular/core';\nimport { NavController, NavParams, AlertController, Platform } from '@ionic/angular';\nimport { AuthService } from '../service/auth/auth.service';\nimport { DataService } from '../service/data/data.service';\nimport { TranslateService } from '@ngx-translate/core';\n//import { TabsPage } from '../tabs/tabs';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\n\n@Component({\n  selector: 'app-manage-student',\n  templateUrl: './manage-student.page.html',\n  styleUrls: ['./manage-student.page.scss'],\n})\nexport class ManageStudentPage implements OnInit {\n\tuserdata:any;\n\tlang:any;\n\tstudents=<any>[];\n    allStudents=<any>[];\n\tsearchtxt:any;\n  show_loading = true;\n  constructor(public navCtrl: NavController, \n\t\t  //\tpublic navParams: NavParams, \n\t\t  \tpublic dataProvider: DataService,\n\t\t    public authProvider: AuthService, \n\t\t    //public app: App, \n\t\t    public translate: TranslateService,\n\t\t    public alertCtrl: AlertController, \n\t\t    public camera: Camera, \n\t\t    public network: Network,\n              private route : ActivatedRoute,\n              private router:Router,\n              public zone:NgZone, \n\t\t    public platform: Platform) {\n    this.route.queryParams.subscribe(params => {\n        if (this.router.getCurrentNavigation().extras.state) {\n             let isUpdated = this.router.getCurrentNavigation().extras.state.isUpdated;\n             if(isUpdated){\n               this.userdata = JSON.parse(localStorage.getItem(\"userloggedin\"));\n               this.getStudents();\n             }\n        }\n      });\n  \t\t this.userdata = JSON.parse(localStorage.getItem(\"userloggedin\"));\n  \t\t //this.getStudents();\n\t    this.translate.get(\"alertmessages\").subscribe((response) => {\n\t      this.lang = response;\n\t    })\n\t}\n\n  ngOnInit() {\n    this.userdata = JSON.parse(localStorage.getItem(\"userloggedin\"));\n    this.getStudents();\n  }\n  ionViewWillEnter(){\n  }\n  getStudents(){\n  \tlet data={\n  \t\t'school_id':this.userdata.details.school_id\n  \t}\n  \t// this.dataProvider.showLoading();\n    this.show_loading = true;\n\tthis.dataProvider.getSchoolStudents(data).then(res => {\n        console.log('seminar class',res);\n        this.show_loading = false;\n        if(res.data){\n        \tthis.students=res.data;\n          if(this.students.length > 1){\n            this.allStudents = this.students.splice(0, 20);\n          }else{\n            this.allStudents = this.students;\n          }\n        }\n     \n\t}).catch(error=>{\n\t\t// this.dataProvider.hideLoading();\n\t\tthis.dataProvider.showToast(error);\n\t\tconsole.log(error)\n\t})\n  }\n\n    filterList(event){\n    //this.selectTopic=[];\n    let input = (<HTMLInputElement>document.getElementById('search')).value;\n    let data={\n      'school_id':this.userdata.details.school_id,\n      'search_str':input\n    }\n    this.show_loading = true;\n    this.dataProvider.serachStudent(data).then(res => {\n    //  this.dataProvider.hideLoading();\n    this.show_loading = false;\n        if(res && res.data){\n\n          if(res.data.response){\n            this.students=res.data.response;\n            console.log(this.students);\n            if(this.students.length > 1){\n              this.allStudents = this.students.splice(0, 20);\n            }else{\n              this.allStudents = this.students;\n            }\n          }\n        }\n    }).catch(error=>{\n     // this.dataProvider.hideLoading();\n     this.show_loading = false;\n      this.dataProvider.showToast(error);\n      console.log(error)\n    }) \n\n\n    // console.log(input);\n    // const items = Array.from(document.getElementById('students').children);\n    // items.forEach(item => {\n    //       const shouldShow = item.textContent.toLowerCase().indexOf(input) > -1;\n    //       (<HTMLElement>item).style.display = shouldShow ? 'block' : 'none';\n    // });\n\n  }\n\n  openStudentDetails(student){  \n    console.log(student);\n  \tconst navigation: NavigationExtras = {\n      state : {\n\t        student: student,\n\t        course_id: '',\n\t        dateSelected: this.dataProvider.getFormatedDate(new Date())\n    \t}\n      };\n      //console.log(navigation);\n      this.zone.run(() => {\n        this.router.navigate(['edit-student-profile'], navigation);\n      });\n  }\n    doInfinite(infiniteScroll:any) {\n      this.show_loading = true;\n    setTimeout(() => {\n      this.allStudents = this.allStudents.concat(this.students.splice(0, 20));\n      infiniteScroll.target.complete();\n      this.show_loading = false;\n    }, 500);\n  }\n\n}\n"]}