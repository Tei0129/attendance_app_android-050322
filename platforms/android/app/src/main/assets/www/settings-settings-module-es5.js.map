{"version":3,"sources":["webpack:///src/app/settings/settings-routing.module.ts","webpack:///src/app/settings/settings.module.ts","webpack:///src/app/settings/settings.page.scss","webpack:///src/app/settings/settings.page.ts","webpack:///src/app/settings/settings.page.html"],"names":["routes","path","component","SettingsPageRoutingModule","imports","forChild","exports","SettingsPageModule","declarations","SettingsPage","dataProvider","authProvider","camera","translate","router","storage","geoService","alertCtrl","user","name","pic","username","email_id","phone_no","oldpass","newpass","parent_register_link","teacher_register_link","delay_rule","warning_report","warning_report_second","warning_report_third","school_details","country","displayPic","lang","userDetails","passwordType","passwordIcon","passwordTypecnf","passwordIconcnf","schoolDetail","countries","countryDetails","get","subscribe","res","getCountry","localStorage","getItem","JSON","parse","console","log","details","first_name","last_name","country_ar_name","selectedCountyCode","country_code","is_school_admin","school_logo","userType","user_type","getAllRules","hideLoading","flushLocalStorage","navigate","replaceUrl","then","getEnCountries","getArCountries","getCountryDetails","data","school_id","user_no","user_details","teacherLink","parent_link","report_condition","second_report_condition","third_report_condition","deactivate_date","error","showToast","new_pass_required","old_pass_required","session_id","users","country_en_name","showLoading","updateUserSettings","response","session","message","language","emit","setItem","stringify","loggedinUser","i","length","password","image","publishEvent","errorALertMessage","deleteSchoolSettings","msg","deactive_date","revertDeletedSchoolSettings","create","header","image_option","buttons","text","handler","openCamera","gallery","openGallery","alert","present","options","quality","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","PNG","mediaType","MediaType","PICTURE","sourceType","PictureSourceType","CAMERA","getPicture","imageData","PHOTOLIBRARY","myMoment","ok","duration","diff","total","asMilliseconds","t","seconds","Math","floor","minutes","hours","days","selector","template"],"mappings":"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","file":"settings-settings-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SettingsPage } from './settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SettingsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPageRoutingModule } from './settings-routing.module';\n\nimport { SettingsPage } from './settings.page';\nimport { PipesModule } from '../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SettingsPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [SettingsPage]\n})\nexport class SettingsPageModule {}\n","export default \"app-settings:host .center-row {\\n  text-align: center;\\n}\\napp-settings:host .center-row h3 {\\n  width: 100%;\\n}\\napp-settings:host .image-column {\\n  text-align: center;\\n}\\napp-settings:host .image-column .profilepicture {\\n  margin: 15px 0;\\n  border-radius: 50%;\\n  height: 100px;\\n}\\napp-settings:host .background-input {\\n  background-color: #ececec;\\n  margin: 10px 0;\\n}\\napp-settings:host .eye-pass {\\n  font-size: 19px !important;\\n  position: absolute;\\n  left: 9px;\\n  top: 0px;\\n  --color: unset;\\n  --background: unset;\\n  --box-shadow: unset;\\n  color: #aaa9a9;\\n  z-index: 21;\\n  width: 51px;\\n  height: 44px;\\n}\\napp-settings:host ion-navbar {\\n  direction: ltr;\\n}\\napp-settings:host ion-label {\\n  color: #9a9999;\\n}\\napp-settings:host .add-image-icon {\\n  position: absolute;\\n  top: 83px;\\n  left: 56%;\\n  background: #fff;\\n  height: 30px;\\n  width: 30px;\\n  text-align: center;\\n  border: 2px solid #fff;\\n  border-radius: 50%;\\n}\\napp-settings:host .add-image-icon ion-icon {\\n  color: green;\\n  font-size: 26px;\\n}\\napp-settings:host .add-image-icon ion-icon::before {\\n  font-size: 25px;\\n}\\n.deactive-account p {\\n  margin-bottom: 0;\\n  margin-top: 0;\\n  padding: 5px;\\n  color: #444;\\n  background-color: #f8bf1f;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NldHRpbmdzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLGtCQUFBO0FBQUo7QUFDSTtFQUNFLFdBQUE7QUFDTjtBQUVFO0VBQ0Usa0JBQUE7QUFBSjtBQUNJO0VBQ0ksY0FBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtBQUNSO0FBRUU7RUFDSSx5QkFBQTtFQUNBLGNBQUE7QUFBTjtBQUVFO0VBQ00sMEJBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxRQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxjQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FBQVI7QUFFRTtFQUNFLGNBQUE7QUFBSjtBQUVFO0VBQ0UsY0FBQTtBQUFKO0FBRUU7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtBQUFKO0FBQ0k7RUFDSSxZQUFBO0VBQ0EsZUFBQTtBQUNSO0FBQ0k7RUFDSSxlQUFBO0FBQ1I7QUFJRTtFQUNFLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EseUJBQUE7QUFESiIsImZpbGUiOiJzZXR0aW5ncy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhcHAtc2V0dGluZ3M6aG9zdCB7XHJcbiAgLmNlbnRlci1yb3d7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBoM3tcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC5pbWFnZS1jb2x1bW57XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAucHJvZmlsZXBpY3R1cmV7XHJcbiAgICAgICAgbWFyZ2luOiAxNXB4IDA7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgIGhlaWdodDogMTAwcHg7XHJcbiAgIH1cclxuICB9IFxyXG4gIC5iYWNrZ3JvdW5kLWlucHV0e1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWNlY2VjO1xyXG4gICAgICBtYXJnaW46IDEwcHggMDtcclxuICB9IFxyXG4gIC5leWUtcGFzc3tcclxuICAgICAgICBmb250LXNpemU6IDE5cHggIWltcG9ydGFudDtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgbGVmdDogOXB4O1xyXG4gICAgICAgIHRvcDogMHB4O1xyXG4gICAgICAgIC0tY29sb3I6IHVuc2V0O1xyXG4gICAgICAgIC0tYmFja2dyb3VuZDogdW5zZXQ7XHJcbiAgICAgICAgLS1ib3gtc2hhZG93OiB1bnNldDtcclxuICAgICAgICBjb2xvcjogI2FhYTlhOTtcclxuICAgICAgICB6LWluZGV4OiAyMTtcclxuICAgICAgICB3aWR0aDogNTFweDtcclxuICAgICAgICBoZWlnaHQ6IDQ0cHg7XHJcbiAgfVxyXG4gIGlvbi1uYXZiYXJ7XHJcbiAgICBkaXJlY3Rpb246IGx0cjtcclxuICB9XHJcbiAgaW9uLWxhYmVse1xyXG4gICAgY29sb3I6ICM5YTk5OTk7XHJcbiAgfVxyXG4gIC5hZGQtaW1hZ2UtaWNvbiB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDgzcHg7XHJcbiAgICBsZWZ0OiA1NiU7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgd2lkdGg6IDMwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgaW9uLWljb257XHJcbiAgICAgICAgY29sb3I6IGdyZWVuO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMjZweDtcclxuICAgIH1cclxuICAgIGlvbi1pY29uOjpiZWZvcmV7XHJcbiAgICAgICAgZm9udC1zaXplOiAyNXB4O1xyXG4gICAgfVxyXG59XHJcbn1cclxuLmRlYWN0aXZlLWFjY291bnR7XHJcbiAgcHtcclxuICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgICBtYXJnaW4tdG9wOiAwO1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgY29sb3I6ICM0NDQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhiZjFmO1xyXG4gIH1cclxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController, Platform,AlertController } from '@ionic/angular';\nimport { AuthService } from '../service/auth/auth.service';\nimport { DataService } from '../service/data/data.service';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { GeoServiceProvider } from '../service/geo-service/geo-service'\nimport { Storage } from '@ionic/storage';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss'],\n})\nexport class SettingsPage implements OnInit {\n\n  user = {\n    name: '',\n    pic: '',\n    username: '',\n    email_id: '',\n    phone_no: '',\n    oldpass: '',\n    newpass: '',\n    parent_register_link:true,\n    teacher_register_link:true,\n    delay_rule:'',\n    warning_report:'',\n    warning_report_second:'',\n    warning_report_third:'',\n    school_details:'',\n    country:''\n  }\n  displayPic:any = '';\n  lang:any = {};\n  userDetails:any = {}\n  passwordType: string = 'password';\n  passwordIcon: string = 'eye-off';\n  passwordTypecnf: string = 'password';\n  passwordIconcnf: string = 'eye-off';\n  userType:any;\n  schoolDetail:any={};\n  is_school_admin:any;\n  parent_link:any;\n  teacherLink:any;\n  countries:any=[];\n  selectedCountyCode:any;\n  countryDetails:any={};\n  deactivate_date: any;\n  /**\n   * Class list constructor\n   * @param app   Root app \n   * @param dataProvider  Use for getting data from the API\n   * @param authProvider  Use for authentication purpose\n   * @param translate used for translation service\n   * @param events App events \n   */\n  constructor(public dataProvider: DataService, \n  \t\t\t  public authProvider: AuthService, \n  \t\t\t  public camera: Camera,\n            //  public app: App,\n          public translate: TranslateService, \n\t\t\t    private router:Router,\n          private storage: Storage,\n            //  public events: Events,\n          private geoService:GeoServiceProvider, \n          public alertCtrl: AlertController) {\n    this.translate.get(\"alertmessages\").subscribe((res)=>{\n      this.lang = res;\n    })\n    this.getCountry();\n  }\n\n  ionViewWillEnter() {\n    if(localStorage.getItem(\"userloggedin\")){\n      this.userDetails = JSON.parse(localStorage.getItem(\"userloggedin\"));\n      console.log(this.userDetails);\n      this.user.name = this.userDetails.details.first_name +' '+ this.userDetails.details.last_name\n      this.user.username = this.userDetails.details.username;\n      this.user.email_id = this.userDetails.details.email_id;\n      this.user.phone_no = this.userDetails.details.phone_no;\n      this.user.school_details = this.userDetails.details.school_details;\n      this.user.country = this.userDetails.details.country_ar_name;\n      this.selectedCountyCode = this.userDetails.details.country_code;\n      if(this.userDetails.details.is_school_admin==1){\n          console.log('vv',this.userDetails.details.is_school_admin);\n          this.displayPic = this.userDetails.details.school_logo;\n      }else{\n        this.displayPic =   this.userDetails.details.pic;   \n      }\n      this.userType =   this.userDetails.details.user_type;\n      this.is_school_admin =   this.userDetails.details.is_school_admin;\n      if(this.userType==1){\n        this.getAllRules();\n      }\n    }else{\n      this.dataProvider.hideLoading();\n      this.authProvider.flushLocalStorage();\n      this.router.navigate(['login'], { replaceUrl: true });\n      //this.app.getRootNav().setRoot(\"LoginPage\");\n    }\n  }\n  getCountry(){\n    this.storage.get('language').then(res=>{\n     if(res=='en'){\n      console.log(res);\n       this.countries = this.geoService.getEnCountries();\n     }else{\n       this.countries = this.geoService.getArCountries();\n     }\n   })\n  }\n  assignCountry(){\n    console.log(this.selectedCountyCode);\n    this.countryDetails=this.geoService.getCountryDetails(this.selectedCountyCode);\n    console.log(this.countryDetails);\n  }\n  /**\n   * Show hidden password on frontend \n   */\n  showpass() {\n    this.passwordType = this.passwordType === 'text' ? 'password' : 'text';\n    this.passwordIcon = this.passwordIcon === 'eye-off' ? 'eye' : 'eye-off';\n  }\n\n  /**\n   * Show hidden confirm password on frontend \n   */\n  showpasscnf() {\n    this.passwordTypecnf = this.passwordTypecnf === 'text' ? 'password' : 'text';\n    this.passwordIconcnf = this.passwordIconcnf === 'eye-off' ? 'eye' : 'eye-off';\n  }\n  getAllRules(){\n    let data={\n      school_id:this.userDetails.details.school_id,\n      user_no:this.userDetails.details.user_no\n    }\n    this.dataProvider.getAllRules(data).then(res=>{\n      if(res){\n        this.schoolDetail=res.school_details;\n        if(res.user_details.teacher_register_link=='1'){\n          this.teacherLink=true;\n        }else{\n          this.teacherLink=false;\n        }\n        if(res.user_details.parent_register_link=='1'){\n          this.parent_link=true;\n        }else{\n          this.parent_link=false;\n        }\n        // this.teacherLink=res.user_details.teacher_register_link;\n        // this.parent_link=res.user_details.parent_register_link;\n        console.log(this.teacherLink,this.parent_link);\n        this.user.delay_rule=this.schoolDetail.delay_rule;\n        this.user.warning_report=this.schoolDetail.report_condition;\n        this.user.warning_report_second=this.schoolDetail.second_report_condition;\n        this.user.warning_report_third=this.schoolDetail.third_report_condition;\n        if(this.schoolDetail.deactivate_date){\n          this.deactivate_date = this.schoolDetail.deactivate_date;\n        }\n      }\n      console.log('res',res)\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n\n  /**\n   * Update the user details\n   */\n  update(){\n    if(this.user.oldpass != '' && this.user.newpass == ''){\n      this.dataProvider.showToast(this.lang.new_pass_required);\n    }else if(this.user.oldpass == '' && this.user.newpass != ''){\n      this.dataProvider.showToast(this.lang.old_pass_required);\n    }else{\n      let data:any = {\n        user_no: this.userDetails.details.user_no,\n        session_id: this.userDetails.session_id,\n        users: {\n          email_id: this.user.email_id,\n          phone_no: this.user.phone_no,\n          oldpass: this.user.oldpass,\n          newpass: this.user.newpass\n        },\n        parent_register_link:this.user.parent_register_link,\n        teacher_register_link:this.user.teacher_register_link,\n        delay_rule:this.user.delay_rule,\n        warning_report:this.user.warning_report,\n        warning_report_second:this.user.warning_report_second,\n        warning_report_third:this.user.warning_report_third,\n        pic: this.user.pic\n      }\n      if(this.selectedCountyCode){\n        data.country_en_name=this.countryDetails.country_en_name;\n        data.country_code=this.countryDetails.country_code;\n        data.country_ar_name=this.countryDetails.country_ar_name;\n      }\n      console.log(data);\n\n      this.dataProvider.showLoading();\n      this.dataProvider.updateUserSettings(data).then((response)=>{\n        this.dataProvider.hideLoading();\n        if(response.session){\n          console.log(response);\n          this.dataProvider.showToast(response.message);\n          if(this.selectedCountyCode){\n            this.userDetails.details.country_en_name=this.countryDetails.country_en_name;\n            this.userDetails.details.country_code=this.countryDetails.country_code;\n            this.userDetails.details.country_ar_name=this.countryDetails.country_ar_name;\n          }\n          this.userDetails.details.email_id = this.user.email_id;\n          this.userDetails.details.phone_no = this.user.phone_no;\n          if(this.userDetails.details.is_school_admin==1){\n            this.dataProvider.language.emit('ar');\n            console.log('here');\n            this.userDetails.details.school_logo = (response.pic != '') ? response.pic : this.displayPic;\n          }else{\n            this.userDetails.details.pic = response.pic != '' ? response.pic : this.displayPic;\n          }\n          localStorage.setItem(\"userloggedin\", JSON.stringify(this.userDetails));\n          \n            if(localStorage.getItem('earlyLogin')){\n             let loggedinUser=JSON.parse(localStorage.getItem(\"earlyLogin\"));\n              console.log(loggedinUser);\n             for (var i =0;  i < loggedinUser.length; i++) {\n               if(loggedinUser[i].name == this.userDetails.details.first_name){\n               console.log(loggedinUser[i].name,this.user.name,this.user.newpass);\n                 if(this.user.newpass !=''){\n                   loggedinUser[i].password=this.user.newpass;\n                 }\n                if(this.userDetails.details.is_school_admin==1){\n                    console.log('loggedinUser[i]',this.userDetails.details.school_logo);\n                   loggedinUser[i].image=this.userDetails.details.school_logo;\n                }else{\n                   loggedinUser[i].image=this.userDetails.details.pic;                 \n                }\n             }\n            }\n            localStorage.setItem(\"earlyLogin\",JSON.stringify(loggedinUser));\n          }\n          this.authProvider.publishEvent( true);\n        }else{\n          this.authProvider.flushLocalStorage();\n          this.dataProvider.errorALertMessage(response.message);\n          this.router.navigate(['login'], { replaceUrl: true });\n          //this.app.getRootNav().setRoot(\"LoginPage\");\n        }\n      }).catch(error =>{\n        this.dataProvider.hideLoading();\n        this.dataProvider.errorALertMessage(error);\n      })\n    }\n  }\n\n  deleteSchool(){\n    this.dataProvider.showLoading();\n    let data = {\n      school_id: this.userDetails.details.school_id,\n      user_no: this.userDetails.details.user_no\n    }\n    this.dataProvider.deleteSchoolSettings(data).then((response)=>{\n      this.dataProvider.hideLoading();\n      // if(response.session){\n        console.log(response)\n        this.dataProvider.errorALertMessage(response.msg);\n        this.deactivate_date = response.deactive_date;\n        // this.router.navigate(['login'], { replaceUrl: true });\n      // }\n    }).catch(error =>{\n        this.dataProvider.hideLoading();\n        this.dataProvider.errorALertMessage(error.msg);\n      })\n  }\n\n  revertSchoolDeletion(){\n      this.dataProvider.showLoading();\n      let data = {\n        school_id: this.userDetails.details.school_id,\n        user_no: this.userDetails.details.user_no\n      }\n      this.dataProvider.revertDeletedSchoolSettings(data).then((response)=>{\n        this.dataProvider.hideLoading();\n        console.log(response);\n        // if(response.session){\n          this.dataProvider.errorALertMessage(response.msg);\n          this.deactivate_date = '';\n          // this.deactivate_date = response.response.deactivate_date;\n          // this.router.navigate(['login'], { replaceUrl: true });\n        // }\n      }).catch(error =>{\n          this.dataProvider.hideLoading();\n          this.dataProvider.errorALertMessage(error.msg);\n        })\n  }\n\n  /**\n   * alert to show image take choice\n   */\n async takePicture() {\n  const alert= await this.alertCtrl.create({\n      header: this.lang.image_option,\n      buttons: [\n        {\n          text: this.lang.camera,\n          handler: () => {\n            this.openCamera();\n          }\n        },\n        {\n          text: this.lang.gallery,\n          handler: () => {\n            this.openGallery()\n          }\n        }\n      ]\n    })\n  await alert.present()\n  }\n\n  /**\n   * mobile camera to take image \n   */\n  openCamera() {\n    let options: CameraOptions = {\n      quality: 79,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.PNG,\n      mediaType: this.camera.MediaType.PICTURE,\n      sourceType: this.camera.PictureSourceType.CAMERA\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n      if (imageData) {\n        console.log(imageData);\n        this.displayPic = 'data:image/png;base64,'+imageData;\n        this.user.pic = 'data:image/png;base64,'+imageData;\n      }\n    })\n  }\n\n  /**\n   * Open gallery to take image\n   */\n  openGallery() {\n    let options: CameraOptions = {\n      quality: 79,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.PNG,\n      mediaType: this.camera.MediaType.PICTURE,\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n      if (imageData) {\n        console.log(imageData);\n        this.displayPic = 'data:image/png;base64,'+imageData;\n        this.user.pic = 'data:image/png;base64,'+imageData;\n      }\n    })\n  }\n\n  ngOnInit() {\n  }\n\n  getDeactivateTime(){\n    let myMoment: moment.Moment = moment(this.deactivate_date, \"YYYY-MM-DD HH:mm:ss\");\n\n        let ok = moment();\n        var duration = moment.duration(ok.diff(myMoment));\n        var total = duration.asMilliseconds();\n\n        var t = total;\n        var seconds = Math.floor((t / 1000) % 60);\n        var minutes = Math.floor((t / 1000 / 60) % 60);\n        var hours = Math.floor(t / (1000 * 60 * 60) % 24);\n        var days = Math.floor(t / (1000 * 60 * 60 * 24));\n        return {\n            'total': t,\n            'days': days,\n            'hours': hours,\n            'minutes': minutes,\n            'seconds': seconds\n        };\n  }\n\n}\n","export default \"<ion-header mode=\\\"md\\\">\\n  <ion-toolbar transparent>\\n    <ion-buttons slot=\\\"end\\\">\\n   \\t\\t<ion-back-button></ion-back-button>\\n   \\t</ion-buttons>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>   \\n    <ion-title text-right>{{'setting.title' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding mode=\\\"md\\\">\\n  <div *ngIf=\\\"deactivate_date\\\" class=\\\"deactive-account\\\">\\n    <p>{{'setting.deactive_account_text' | translate}} {{getDeactivateTime().hours + 'H ' + getDeactivateTime().minutes + 'M '}}</p>\\n  </div>\\n    <div class=\\\"image-column\\\">\\n        <img [src]=\\\"displayPic\\\" class=\\\"profilepicture\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/logo.png';\\\">\\n      <div class=\\\"add-image-icon\\\" (click) = \\\"takePicture()\\\">\\n        <ion-icon name=\\\"add\\\"></ion-icon>\\n      </div>\\n    </div>\\n  <ion-row class=\\\"center-row\\\" justify-content-center>\\n    <h3 style=\\\"margin-top: unset;\\\">{{user.name}}</h3>\\n  </ion-row>\\n  <ion-list>\\n    <ion-item class=\\\"background-input\\\" align-items-center>\\n      <ion-label color=\\\"dark\\\" position=\\\"floating\\\">{{'setting.name' | translate}}</ion-label>\\n      <ion-input type=\\\"text\\\" name=\\\"name\\\"  [value]=\\\"user.name\\\" disabled text-right>\\n      </ion-input>\\n    </ion-item>\\n    <ion-item class=\\\"background-input\\\">\\n      <ion-label color=\\\"dark\\\" position=\\\"floating\\\">{{'setting.peronalid' | translate}}</ion-label>\\n      <ion-input type=\\\"text\\\" name=\\\"personalid\\\" [value]=\\\"user.username\\\" disabled text-right>\\n      </ion-input>\\n    </ion-item>\\n    <ion-item class=\\\"background-input\\\">\\n      <ion-label color=\\\"dark\\\" position=\\\"floating\\\">{{'setting.email' | translate}}</ion-label>\\n      <ion-input type=\\\"email\\\" name=\\\"email\\\" #email='ngModel' pattern=\\\"[A-Za-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,3}$\\\"\\n        [(ngModel)]=\\\"user.email_id\\\" text-right>\\n      </ion-input>\\n    </ion-item>\\n    <div *ngIf=\\\"email.invalid && (email.touched)\\\" class=\\\"alert alert-danger\\\">\\n      <div *ngIf=\\\"email.errors.pattern\\\">\\n        {{'validations.invalidemail' | translate}}\\n      </div>\\n    </div>\\n    <ion-item class=\\\"background-input\\\">\\n      <ion-label color=\\\"dark\\\" position=\\\"floating\\\">{{'setting.phone' | translate}}</ion-label>\\n      <ion-input type=\\\"number\\\" name=\\\"phone\\\" #phonenumber='ngModel' [(ngModel)]=\\\"user.phone_no\\\" text-right>\\n      </ion-input>\\n    </ion-item>\\n    <ion-item class=\\\"background-input\\\">\\n      <ion-label color=\\\"dark\\\" position=\\\"floating\\\">{{'setting.oldpass' | translate}}</ion-label>\\n      <ion-input [type]=\\\"passwordType\\\" name=\\\"oldpassword\\\" #oldpassword='ngModel' [(ngModel)]=\\\"user.oldpass\\\"\\n        text-right>\\n      </ion-input>\\n      <ion-button  clear icon-only type=\\\"button\\\" item-right class=\\\"eye-pass\\\" (click)=\\\"showpass()\\\">\\n        <ion-icon [name]=\\\"passwordIcon\\\" > </ion-icon>\\n      </ion-button>\\n    </ion-item>\\n    \\n    <ion-item class=\\\"background-input\\\">\\n      <ion-label color=\\\"dark\\\" position=\\\"floating\\\">{{'setting.newpass' | translate}}</ion-label>\\n      <ion-input [type]=\\\"passwordTypecnf\\\" name=\\\"newpassword\\\" #newpassword='ngModel' [(ngModel)]=\\\"user.newpass\\\"\\n        text-right>\\n      </ion-input>\\n      <ion-button ion-button clear icon-only type=\\\"button\\\" item-right class=\\\"eye-pass\\\" (click)=\\\"showpasscnf()\\\">\\n        <ion-icon [name]=\\\"passwordIconcnf\\\" > </ion-icon>\\n      </ion-button>\\n    </ion-item>\\n    <div *ngIf=\\\"is_school_admin\\\">\\n      <ion-item class=\\\"background-input\\\" *ngIf=\\\"userType=='1'\\\">\\n        <p color=\\\"dark\\\" position=\\\"floating\\\">{{'setting.parent_share_link' | translate}}</p>\\n        <ion-toggle [checked]=\\\"parent_link\\\" color=\\\"primary\\\" [(ngModel)]=\\\"user.parent_register_link\\\"  slot=\\\"end\\\"></ion-toggle>\\n      </ion-item>\\n      <ion-item class=\\\"background-input\\\" *ngIf=\\\"userType=='1'\\\">\\n        <p color=\\\"dark\\\" position=\\\"floating\\\">{{'setting.teacher_register_link' | translate}}</p>\\n        <ion-toggle [checked]=\\\"teacherLink\\\" color=\\\"primary\\\" [(ngModel)]=\\\"user.teacher_register_link\\\"  slot=\\\"end\\\"></ion-toggle>\\n      </ion-item>\\n      <ion-item class=\\\"background-input\\\" *ngIf=\\\"userType=='1'\\\">\\n        <ion-label color=\\\"dark\\\" position=\\\"floating\\\">{{'setting.delay_rule' | translate}}</ion-label>\\n        <ion-input type=\\\"number\\\" [(ngModel)]=\\\"user.delay_rule\\\" ></ion-input>\\n      </ion-item>\\n      <ion-item class=\\\"background-input\\\" *ngIf=\\\"userType=='1'\\\">\\n        <ion-label color=\\\"dark\\\" position=\\\"floating\\\">{{'setting.warning_report' | translate}}</ion-label>\\n        <ion-input type=\\\"number\\\" [(ngModel)]=\\\"user.warning_report\\\" ></ion-input>\\n      </ion-item>\\n      <ion-item class=\\\"background-input\\\" *ngIf=\\\"userType=='1'\\\">\\n        <ion-label color=\\\"dark\\\" position=\\\"floating\\\">{{'setting.warning_report_second' | translate}}</ion-label>\\n        <ion-input type=\\\"number\\\" [(ngModel)]=\\\"user.warning_report_second\\\" ></ion-input>\\n      </ion-item>\\n      <ion-item class=\\\"background-input\\\" *ngIf=\\\"userType=='1'\\\">\\n        <ion-label color=\\\"dark\\\" position=\\\"floating\\\">{{'setting.warning_report_third' | translate}}</ion-label>\\n        <ion-input type=\\\"number\\\" [(ngModel)]=\\\"user.warning_report_third\\\" ></ion-input>\\n      </ion-item>\\n      <ion-item class=\\\"background-input\\\" *ngIf=\\\"userType=='1'\\\">\\n        <ion-label color=\\\"dark\\\" style=\\\"    max-width: 78px;\\\" >{{'setting.country' | translate}}</ion-label>\\n        <ion-select class=\\\"set\\\" [(ngModel)]=\\\"selectedCountyCode\\\" (ionChange)=\\\"assignCountry()\\\" interface=\\\"popover\\\" [placeholder]=\\\"user.country\\\">\\n          <ion-select-option *ngFor=\\\"let c of countries\\\" [value]=\\\"c.code\\\">{{c.name}}</ion-select-option>\\n        </ion-select> \\n        <!-- <ion-input type=\\\"number\\\" [(ngModel)]=\\\"user.country\\\" placeholder=\\\"{{user.country}}\\\"  readonly=\\\"true\\\"></ion-input> -->\\n      </ion-item>\\n    </div>\\n    <ion-button  shape=\\\"round\\\"  expand=\\\"full\\\" color=\\\"primary\\\" (click)=\\\"update()\\\">{{'contact.submit' | translate}}</ion-button>\\n    <ion-button *ngIf=\\\"!deactivate_date\\\" shape=\\\"round\\\"  expand=\\\"full\\\" color=\\\"danger\\\" (click)=\\\"deleteSchool()\\\">{{'bulletin.delete' | translate}}</ion-button>\\n    <ion-button *ngIf=\\\"deactivate_date\\\" shape=\\\"round\\\"  expand=\\\"full\\\" color=\\\"danger\\\" (click)=\\\"revertSchoolDeletion()\\\">{{'setting.revert_deletion' | translate}}</ion-button>\\n  </ion-list>\\n\\n\\n</ion-content>\";"]}