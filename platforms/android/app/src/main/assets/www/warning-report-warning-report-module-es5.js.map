{"version":3,"sources":["webpack:///src/app/warning-report/warning-report.page.ts","webpack:///src/app/warning-report/warning-report.page.html","webpack:///src/app/warning-report/warning-report.page.scss","webpack:///src/app/warning-report/warning-report-routing.module.ts","webpack:///src/app/warning-report/warning-report.module.ts"],"names":["WarningReportPage","navCtrl","translate","dataProvider","authProvider","alertCtrl","route","documentService","zone","router","photoViewer","printer","modalCtrl","userDetails","reportData","loader","localStorage","getItem","JSON","parse","getAllWarning","data","details","user_no","session_id","school_id","showLoading","then","res","hideLoading","console","log","error","i","printWarning","options","orientation","print","url","onSuccess","e","showToast","selector","template","routes","path","component","WarningReportPageRoutingModule","imports","forChild","exports","WarningReportPageModule","declarations"],"mappings":"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","file":"warning-report-warning-report-module-es5.js","sourcesContent":["import { Component, OnInit,NgZone } from '@angular/core';\nimport { NavController, AlertController, ModalController } from '@ionic/angular';\nimport { AuthService } from '../service/auth/auth.service';\nimport { DataService } from '../service/data/data.service';\nimport { DatabaseService } from '../service/database/database.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport {CreateClassPage } from '../create-class/create-class.page';\nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\nimport {DocumentService} from '../service/document/document.service';\n\nimport { Printer, PrintOptions } from '@ionic-native/printer/ngx';\n\n@Component({\n  selector: 'app-warning-report',\n  templateUrl: './warning-report.page.html',\n  styleUrls: ['./warning-report.page.scss'],\n})\nexport class WarningReportPage implements OnInit {\n\tuserDetails:any={};\n\treportData:any=[];\n  constructor(public navCtrl: NavController,\n  \t         // public app: App,\n  \t          public translate: TranslateService,\n              public dataProvider: DataService,\n              public authProvider: AuthService,\n              //public events: Events,\n              public alertCtrl: AlertController,\n              private route : ActivatedRoute,\n              private documentService:DocumentService,\n              public zone:NgZone,\n              private router:Router,\n              private photoViewer: PhotoViewer,\n          \t  private printer: Printer,\n              public modalCtrl: ModalController) {\n              }\n\n  ngOnInit(loader:boolean=true) {\n  }\n  ionViewWillEnter(){\n    if (localStorage.getItem(\"userloggedin\")) {\n      this.userDetails = JSON.parse(localStorage.getItem(\"userloggedin\"));\n      this.getAllWarning();\n    }\n  }\n  getAllWarning(loader:boolean=true){\n      let data = {\n        \"user_no\": this.userDetails.details.user_no,\n        \"session_id\": this.userDetails.session_id,\n        \"school_id\": this.userDetails.details.school_id,\n      }\n      if(loader) this.dataProvider.showLoading();\n      this.dataProvider.getAllWarning(data).then(res=>{ \n        this.dataProvider.hideLoading();\n        console.log(res);\n        if(res){\n         // this.dataProvider.viewNotes(res);\n         this.reportData=res;\n        }\n      }).catch(error=>{\n        this.dataProvider.hideLoading();\n        console.log(error);\n      })\n  }\n  printReport(i){\n    console.log(i);\n  \tlet data = {\n        \"user_no\": this.userDetails.details.user_no,\n        \"session_id\": this.userDetails.session_id,\n        \"school_id\": this.userDetails.details.school_id,\n        \"report_number\": i+1\n      }\n      this.dataProvider.showLoading();\n      this.dataProvider.printWarning(data).then(res=>{\n        this.dataProvider.hideLoading();\n        console.log(res);\n        if(res){\n        \tlet options: PrintOptions = { orientation: 'portrait'};\n\t        this.printer.print(res.url,options).then((onSuccess:any)=>{\n\t           console.log('printer.print',onSuccess)\n\t        },(e:any)=>{\n\t           console.log('printer.print',e)\n\t        });\n          // window.open(res.url, '_system');\n        }else{\n          this.dataProvider.showToast('Unable to generate report');\n        }\n      }).catch(error=>{\n        this.dataProvider.hideLoading();\n        this.dataProvider.showToast('Unable to generate report');\n        console.log(error);\n      })\n  }\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n  \\t<ion-buttons slot=\\\"end\\\">\\n  \\t\\t<!-- <ion-button *ngIf=\\\"reportData  && reportData.length\\\" class=\\\"small_btn_header\\\"  small clear icon-only (click)=\\\"printReport()\\\">\\n            <ion-icon name=\\\"print-outline\\\" class=\\\"add-circle\\\" item-end color=\\\"icon-header\\\"></ion-icon>\\n        </ion-button> -->\\n  \\t</ion-buttons>\\n  \\t<ion-buttons slot=\\\"start\\\">\\n  \\t\\t<ion-menu-button></ion-menu-button>\\n  \\t</ion-buttons>\\n    <ion-title>{{'sidemenu.warning_report' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n\\t<ion-row *ngIf=\\\"reportData  && reportData.length\\\" class=\\\"row-top\\\">\\n\\t\\t<ion-list>\\n\\t\\t\\t<ion-card *ngFor=\\\"let repo of reportData let i=index;\\\" class=\\\"card-react\\\" [ngStyle]=\\\"{'background-color': repo.cardColor}\\\">\\n\\t\\t\\t\\t<ion-card-header class=\\\"card-head\\\">\\n\\t\\t\\t\\t\\t<ion-icon (click)=\\\"printReport(i)\\\" name=\\\"print-outline\\\" class=\\\"add-circle\\\" item-end color=\\\"icon-header\\\"></ion-icon>\\n\\t\\t\\t\\t    {{repo.title}} \\n\\t\\t\\t\\t</ion-card-header>\\n\\t\\t\\t\\t<ion-card-content class=\\\"card-content\\\">\\n\\t\\t\\t\\t\\t<h3 *ngIf=\\\"repo.studentDetails\\\">{{'create_notes.student_name' | translate }}: {{repo.studentDetails.first_name  }}</h3>\\n\\t\\t\\t\\t\\t<h3 *ngIf=\\\"repo.studentDetails\\\">{{'create_notes.student_id'| translate }}: {{repo.studentDetails.username  }}</h3>\\n\\t\\t\\t\\t\\t<h3 *ngIf=\\\"repo.studentDetails\\\">{{'createClass.class_name'| translate }}: {{repo.studentDetails.student_class}}</h3>\\n\\t\\t\\t\\t\\t<h3>{{'list-student.unacceptable_absence' | translate}}: {{repo.no_of_unacceptable_absent}}</h3>\\n\\t\\t\\t\\t\\t<!-- <p> {{'student-details.sem' | translate}}: {{repo.sems}} </p> -->\\n\\t\\t\\t\\t</ion-card-content>\\n\\t\\t\\t\\t<div class=\\\"bgIcon\\\">\\n\\t\\t\\t\\t\\t<ion-icon name=\\\"warning-outline\\\"></ion-icon>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</ion-card>\\n\\t\\t</ion-list>\\n\\t</ion-row>\\n \\n\\t<ion-row class=\\\"msg-row\\\" *ngIf=\\\"!reportData  || !reportData.length\\\">\\n\\t\\t<div class=\\\"msg\\\">\\n\\t\\t\\t{{'alertmessages.no_record_found' | translate}}\\n\\t\\t</div>\\n\\t</ion-row>\\n\\n</ion-content>\\n\";","export default \".small_btn_header {\\n  padding-left: 10px;\\n  color: #000;\\n}\\n\\nion-title {\\n  color: #000;\\n  font-size: 1.1rem;\\n  font-weight: bold;\\n}\\n\\n.row-top {\\n  min-height: 100%;\\n  background: #dfe0e0;\\n  padding: 10px;\\n}\\n\\n.row-top ion-list {\\n  width: 100%;\\n  background: unset;\\n}\\n\\n.row-top ion-list .card-react {\\n  margin: 0px 0px 22px;\\n  min-width: 100%;\\n  background: #ffb136;\\n  color: #fff;\\n  border-radius: 13px;\\n  box-shadow: 0px 0px 7px #ffb136;\\n}\\n\\n.row-top ion-list .card-react .card-head {\\n  color: #000;\\n  font-size: 1.2rem;\\n  font-weight: bold;\\n}\\n\\n.row-top ion-list .card-react .card-content h3 {\\n  font-size: 1rem;\\n  margin: 8px 0px;\\n  font-weight: bold;\\n}\\n\\n.row-top ion-list .card-react .card-content p {\\n  font-weight: bold;\\n}\\n\\n.row-top ion-list .card-react .bgIcon {\\n  position: absolute;\\n  bottom: 1vh;\\n  left: 3vw;\\n}\\n\\n.row-top ion-list .card-react .bgIcon ion-icon {\\n  font-size: 4rem;\\n  color: #fff;\\n}\\n\\n.msg-row {\\n  margin: 20px;\\n}\\n\\n.msg-row .msg {\\n  margin: 0px auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3dhcm5pbmctcmVwb3J0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtBQUNKOztBQUNBO0VBQ0ssV0FBQTtFQUNILGlCQUFBO0VBQ0EsaUJBQUE7QUFFRjs7QUFBQTtFQUNDLGdCQUFBO0VBQ0csbUJBQUE7RUFDQSxhQUFBO0FBR0o7O0FBRkk7RUFDQyxXQUFBO0VBQ0EsaUJBQUE7QUFJTDs7QUFISztFQUNRLG9CQUFBO0VBQ04sZUFBQTtFQUVBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsK0JBQUE7QUFJUDs7QUFITTtFQUNDLFdBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0FBS1A7O0FBRk87RUFDQyxlQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FBSVI7O0FBRk87RUFDQyxpQkFBQTtBQUlSOztBQURNO0VBQ0Msa0JBQUE7RUFDRyxXQUFBO0VBQ0gsU0FBQTtBQUdQOztBQUZPO0VBQ0ssZUFBQTtFQUNILFdBQUE7QUFJVDs7QUFHQTtFQUNLLFlBQUE7QUFBTDs7QUFDSztFQUNJLGdCQUFBO0FBQ1QiLCJmaWxlIjoid2FybmluZy1yZXBvcnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNtYWxsX2J0bl9oZWFkZXJ7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XHJcbiAgICBjb2xvcjogIzAwMDtcclxufVxyXG5pb24tdGl0bGV7XHJcblx0ICAgIGNvbG9yOiAjMDAwO1xyXG5cdFx0Zm9udC1zaXplOiAxLjFyZW07XHJcblx0XHRmb250LXdlaWdodDogYm9sZDtcclxufVxyXG4ucm93LXRvcHtcclxuXHRtaW4taGVpZ2h0OiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZDogI2RmZTBlMDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBpb24tbGlzdHtcclxuICAgIFx0d2lkdGg6IDEwMCU7XHJcbiAgICBcdGJhY2tncm91bmQ6IHVuc2V0O1xyXG5cdCAgICAuY2FyZC1yZWFjdHtcclxuICAgIFx0ICAgICAgICBtYXJnaW46IDBweCAwcHggMjJweDtcclxuXHRcdFx0ICAgIG1pbi13aWR0aDogMTAwJTtcclxuXHRcdFx0ICAgIC8vIGhlaWdodDogMjJ2aDtcclxuXHRcdFx0ICAgIGJhY2tncm91bmQ6ICNmZmIxMzY7XHJcblx0XHRcdCAgICBjb2xvcjogI2ZmZjtcclxuXHRcdFx0ICAgIGJvcmRlci1yYWRpdXM6IDEzcHg7XHJcblx0XHRcdCAgICBib3gtc2hhZG93OiAwcHggMHB4IDdweCAjZmZiMTM2O1xyXG5cdFx0ICAgIC5jYXJkLWhlYWR7XHJcblx0XHQgICAgXHRjb2xvcjogIzAwMDtcclxuXHRcdFx0ICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xyXG5cdFx0XHQgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcblx0XHQgICAgfVxyXG5cdFx0ICAgIC5jYXJkLWNvbnRlbnR7XHJcblx0XHQgICAgXHRoM3tcclxuXHRcdCAgICBcdFx0Zm9udC1zaXplOiAxcmVtO1xyXG5cdFx0XHRcdCAgICBtYXJnaW46IDhweCAwcHg7XHJcblx0XHRcdFx0ICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG5cdFx0ICAgIFx0fVxyXG5cdFx0ICAgIFx0cHtcclxuXHRcdCAgICBcdFx0Zm9udC13ZWlnaHQ6IGJvbGQ7XHJcblx0XHQgICAgXHR9XHJcblx0XHQgICAgfVxyXG5cdFx0ICAgIC5iZ0ljb257XHJcblx0XHQgICAgXHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0XHQgICAgICAgIGJvdHRvbTogMXZoO1xyXG4gICAgXHRcdFx0bGVmdDogM3Z3O1xyXG5cdFx0ICAgIFx0aW9uLWljb257XHJcblx0XHQgICAgXHRcdCAgICBmb250LXNpemU6IDRyZW07XHJcbiAgICBcdFx0XHRcdFx0Y29sb3I6ICNmZmY7XHJcblx0XHQgICAgXHR9XHJcblx0XHQgICAgfVxyXG5cclxuXHQgICAgfVxyXG4gICAgfVxyXG59XHJcbi5tc2ctcm93e1xyXG5cdCAgICBtYXJnaW46IDIwcHg7XHJcblx0ICAgIC5tc2d7XHJcbiAgICBcdCAgICBtYXJnaW46IDBweCBhdXRvO1xyXG5cdCAgICB9XHJcbn0iXX0= */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WarningReportPage } from './warning-report.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WarningReportPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WarningReportPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WarningReportPageRoutingModule } from './warning-report-routing.module';\n\nimport { WarningReportPage } from './warning-report.page';\nimport { PipesModule } from '../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    WarningReportPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [WarningReportPage]\n})\nexport class WarningReportPageModule {}\n"]}