{"version":3,"sources":["webpack:///src/app/students/students.page.scss","webpack:///src/app/students/students-routing.module.ts","webpack:///src/app/students/students.page.html","webpack:///src/app/students/students.page.ts","webpack:///src/app/students/students.module.ts"],"names":["routes","path","component","StudentsPageRoutingModule","imports","forChild","exports","StudentsPage","navCtrl","dataProvider","authProvider","translate","alertCtrl","camera","network","route","router","zone","platform","showProfileModal","students","student","userDetails","showCalenderModal","attendanceSheet","attMarkBegin","attNotMarked","lang","delayRule","editMode","currentEvents","isHoliday","noDataFound","studentBehaviour","courseInfo","options","canBackwardsSelected","from","to","disableWeeks","daysConfig","queryParams","subscribe","params","getCurrentNavigation","extras","state","navData","course","console","log","localStorage","getItem","dateSelected","Date","JSON","parse","data","details","user_no","school_id","session_id","getHolidays","then","response","holidays","length","holidayString","holiday_string","forEach","holiday","date","p","disable","push","year","getFullYear","month","getMonth","getDate","day","strint_date","indexOf","error","hideLoading","errorALertMessage","getStudents","flushLocalStorage","navigate","replaceUrl","get","loader","showLoading","userType","user_type","studentData","getFormatedDate","cid","attendance","Object","keys","map","courseId","checkCurrentDate","removeItem","getDelayClassStudentList","res","session","responseData","parseInt","delay_rule","no_students_in_class","checkDateSelected","localAtt","setItem","stringify","message","student_id","is","type","Connection","NONE","UNKNOWN","navigation","course_id","total_delay","run","showToast","complete_att_submission","no_internet","agg_ranking","warning_behaviour","good_behaviour","very_good_behaviour","excellent_behaviour","no_behaviour","event","target","className","query","document","getElementsByName","query1","query2","setTimeout","undefined","currentDate","getTime","hideCalenderModal","future_date","suspend_leave","medical_leave","att_modification_error","sheet","sid","enable_edit","att_already_marked","edit_mode_enabled","not_permission_to_enable","key","submittedByUser","markDelayAttendance","delayAttendance","offline_att_stored","select_att_to_update","create","header","image_option","buttons","text","handler","openCamera","gallery","openGallery","alert","present","quality","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","PNG","mediaType","MediaType","PICTURE","allowEdit","correctOrientation","sourceType","PictureSourceType","CAMERA","targetHeight","targetWidth","getPicture","imageData","updateUserImage","pic","url","PHOTOLIBRARY","selector","template","StudentsPageModule","declarations"],"mappings":"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","file":"students-students-module-es5.js","sourcesContent":["export default \"app-students:host .header-row {\\n  padding-top: 14px;\\n}\\napp-students:host .text-hidden {\\n  width: 35px;\\n  height: 23px;\\n  overflow-x: overlay;\\n  font-size: 12px;\\n}\\napp-students:host .margin {\\n  width: 92%;\\n  margin: 13px;\\n}\\napp-students:host .add-circle {\\n  float: left;\\n  margin-right: 10px;\\n  font-size: 18px;\\n}\\napp-students:host .title {\\n  font-size: 0.9rem;\\n  font-weight: 600;\\n  color: #000;\\n}\\napp-students:host .checkbox-inner {\\n  position: absolute !important;\\n  left: 8px !important;\\n  height: 14px !important;\\n  top: 0 !important;\\n}\\napp-students:host ion-item {\\n  --padding-end: unset;\\n  --padding-start: unset;\\n}\\napp-students:host .student-class h2 {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  font-size: 13px;\\n}\\napp-students:host .student-class p {\\n  margin: 0;\\n  font-size: 12px;\\n  color: #7d7d7d;\\n  padding-top: 5px;\\n}\\napp-students:host .checkbox-area {\\n  margin: 15px 0;\\n}\\napp-students:host .checkbox-area .checkbox-remove {\\n  border: 1px solid grey;\\n  height: 22px;\\n  width: 21px;\\n  margin: 0 auto;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\napp-students:host .checkbox-area .checkbox-remove ion-icon {\\n  font-size: 17px;\\n  font-weight: 800;\\n}\\napp-students:host .checkbox-area .present {\\n  background: #32db64;\\n}\\napp-students:host .checkbox-area .absent {\\n  background: #f53d3d;\\n}\\n@media only screen and (min-width: 250px) and (max-width: 319px) and (orientation: portrait) {\\n  app-students:host .title, app-students:host h4 {\\n    font-size: 0.9rem;\\n  }\\n  app-students:host ion-list {\\n    padding: 5px !important;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3N0dWRlbnRzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNRLGlCQUFBO0FBQVo7QUFFSTtFQUNRLFdBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FBQVo7QUFFSTtFQUNJLFVBQUE7RUFDQSxZQUFBO0FBQVI7QUFHSTtFQUNJLFdBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUFEUjtBQUdJO0VBQ0ksaUJBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7QUFEUjtBQUdJO0VBQ0ksNkJBQUE7RUFDQSxvQkFBQTtFQUNBLHVCQUFBO0VBQ0EsaUJBQUE7QUFEUjtBQUdJO0VBQ0Usb0JBQUE7RUFDRixzQkFBQTtBQURKO0FBSVE7RUFDSSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7RUFDSSxlQUFBO0FBRmhCO0FBSVE7RUFDSSxTQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtBQUZaO0FBS0k7RUFDSSxjQUFBO0FBSFI7QUFJUTtFQUNJLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7QUFGWjtBQUdZO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0FBRGhCO0FBSVE7RUFDSSxtQkFBQTtBQUZaO0FBSVE7RUFDSSxtQkFBQTtBQUZaO0FBS0k7RUFDSTtJQUNJLGlCQUFBO0VBSFY7RUFLTTtJQUNJLHVCQUFBO0VBSFY7QUFDRiIsImZpbGUiOiJzdHVkZW50cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhcHAtc3R1ZGVudHM6aG9zdCB7XHJcbiAgICAuaGVhZGVyLXJvd3tcclxuICAgICAgICAgICAgcGFkZGluZy10b3A6IDE0cHg7XHJcbiAgICB9XHJcbiAgICAudGV4dC1oaWRkZW57XHJcbiAgICAgICAgICAgIHdpZHRoOiAzNXB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDIzcHg7XHJcbiAgICAgICAgICAgIG92ZXJmbG93LXg6IG92ZXJsYXk7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsgIFxyXG4gICAgfVxyXG4gICAgLm1hcmdpbntcclxuICAgICAgICB3aWR0aDogOTIlO1xyXG4gICAgICAgIG1hcmdpbjogMTNweDtcclxuICAgIH1cclxuXHJcbiAgICAuYWRkLWNpcmNsZXtcclxuICAgICAgICBmbG9hdDogbGVmdDtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgfVxyXG4gICAgLnRpdGxle1xyXG4gICAgICAgIGZvbnQtc2l6ZTowLjlyZW07XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICBjb2xvcjogIzAwMDtcclxuICAgIH1cclxuICAgIC5jaGVja2JveC1pbm5lcntcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcclxuICAgICAgICBsZWZ0OiA4cHggIWltcG9ydGFudDtcclxuICAgICAgICBoZWlnaHQ6IDE0cHggIWltcG9ydGFudDtcclxuICAgICAgICB0b3A6IDAgIWltcG9ydGFudDtcclxuICAgIH1cclxuICAgIGlvbi1pdGVte1xyXG4gICAgICAtLXBhZGRpbmctZW5kOiB1bnNldDtcclxuICAgIC0tcGFkZGluZy1zdGFydDogdW5zZXQ7XHJcbiAgICB9XHJcbiAgICAuc3R1ZGVudC1jbGFzc3tcclxuICAgICAgICBoMntcclxuICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICAgICAgICBjb2xvcjogIzdkN2Q3ZDtcclxuICAgICAgICAgICAgcGFkZGluZy10b3A6IDVweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAuY2hlY2tib3gtYXJlYXtcclxuICAgICAgICBtYXJnaW46IDE1cHggMDtcclxuICAgICAgICAuY2hlY2tib3gtcmVtb3Zle1xyXG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBncmV5O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDIycHg7XHJcbiAgICAgICAgICAgIHdpZHRoOiAyMXB4O1xyXG4gICAgICAgICAgICBtYXJnaW46IDAgYXV0bztcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGlvbi1pY29ue1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxN3B4O1xyXG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDgwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAucHJlc2VudHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogIzMyZGI2NDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLmFic2VudHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogI2Y1M2QzZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDI1MHB4KSBhbmQgKG1heC13aWR0aDogMzE5cHgpIGFuZCAob3JpZW50YXRpb246IHBvcnRyYWl0KSB7XHJcbiAgICAgICAgLnRpdGxlLCBoNCB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpb24tbGlzdCB7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDVweCAhaW1wb3J0YW50O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0= */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { StudentsPage } from './students.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StudentsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StudentsPageRoutingModule {}\n","export default \"<ion-header class=\\\"right-direction\\\" mode=\\\"md\\\">\\n  <ion-toolbar transparent>\\n   \\t<ion-buttons slot=\\\"start\\\">\\n   \\t\\t<ion-back-button>\\n   \\t\\t</ion-back-button>\\n   \\t</ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-row >\\n      <ion-col size=\\\"6\\\" align-self-center no-padding>\\n        <ion-buttons start clear>\\n          <!-- <ion-button  small clear icon-only (click)=\\\"submitAttendance()\\\"\\n            *ngIf=\\\"(userType == '1' || userType == '3') && !isHoliday\\\">\\n            <ion-icon name=\\\"send-outline\\\" class=\\\"add-circle\\\" item-end color=\\\"icon-header\\\"></ion-icon>\\n          </ion-button> -->\\n          <ion-button  small clear icon-only (click)=\\\"enableEditingMode()\\\"\\n            *ngIf=\\\"userType == '1' && !editMode && !isHoliday\\\">\\n            <ion-icon name=\\\"pencil\\\" class=\\\"add-circle\\\" item-end color=\\\"icon-header\\\"></ion-icon>\\n          </ion-button>\\n        </ion-buttons>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\" class=\\\"header-row text-right\\\" align-self-center no-padding >\\n        <div class=\\\"title\\\" (click)=\\\"openCalenderModal()\\\">{{dateSelected | date: 'mediumDate'}}</div>\\n      </ion-col>\\n    </ion-row>\\n\\n\\n  </ion-toolbar>\\n  <ion-row>\\n    <ion-col size=\\\"2\\\" align-self-center class=\\\"text-center\\\" style=\\\"background:white;color:black;\\\">{{'delay_stu_list.a_d' | translate}}</ion-col>\\n    <ion-col size=\\\"4\\\" style=\\\"padding-right: 23px;background:white;\\\" align-self-center class=\\\"text-left\\\"></ion-col>\\n    <ion-col size=\\\"6\\\" style=\\\"padding-right: 23px;background:white;color:black;\\\" align-self-center class=\\\"text-right\\\">{{courseInfo?.name}}</ion-col>\\n    <!-- <ion-col size=\\\"1\\\"></ion-col> -->\\n  </ion-row>\\n</ion-header>\\n\\n<ion-content mode=\\\"md\\\">\\n  <div class=\\\"main-content\\\">\\n    <ion-list *ngIf = \\\"students?.length > 0\\\" lines=\\\"none\\\">\\n      <ion-card class=\\\"student-class\\\" *ngFor=\\\"let student of students; let sno = index;\\\">\\n        <ion-card-content no-padding style=\\\"padding: unset;\\\">\\n          <ion-row justify-content-center class=\\\"right-direction\\\">\\n            <ion-col text-left align-self-center no-padding class=\\\"checkbox-area\\\" size=\\\"3.5\\\">\\n              <ion-row>\\n                <ion-col size=\\\"5\\\" align-self-center no-padding>\\n                  <div class=\\\"text-hidden\\\" text-center no-margin>{{student.useedforabsent.one /\\n                    delayRule}}/{{student.useedforabsent.zero}}</div>\\n                </ion-col>\\n                <ion-col size=\\\"7\\\" align-self-center text-left (click)=\\\"changeAttendanceStatus(student)\\\">\\n                  <div class=\\\"checkbox-remove\\\"\\n                    [ngClass]=\\\"{'present': student.sheet['cem-1'] == true, 'absent':  student.suspend_leave == true || student.medical_leave == true, '': student.sheet['cem-1'] == 'undefined'}\\\">\\n                    <ion-icon name=\\\"checkmark\\\" *ngIf=\\\"student.sheet['cem-1'] == true\\\" color=\\\"light\\\"></ion-icon>\\n                    <ion-icon name=\\\"close\\\" *ngIf=\\\"student.suspend_leave || student.medical_leave\\\" color=\\\"light\\\">\\n                    </ion-icon>\\n                  </div>\\n                </ion-col>\\n              </ion-row>\\n            </ion-col>\\n            <ion-col no-padding size=\\\"8.5\\\" align-self-center no-padding>\\n              <ion-item no-padding>\\n                <ion-label  class=\\\"text-right\\\" (click)=\\\"openStudentDetail(student.sid,student)\\\" class=\\\"left-direction\\\">\\n                  <h2><span class=\\\"serial-number\\\">{{sno+1}}.</span> {{student.name}}</h2>\\n                  <p>{{'delay_stu_list.total_delay' | translate}} {{student.total_delay}}</p>\\n                </ion-label>\\n                <ion-avatar item-end slot=\\\"end\\\">\\n                  <img [src]=\\\"student.pic\\\" (click)=\\\"openUserImageModal(student)\\\">\\n                </ion-avatar>\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n        </ion-card-content>\\n      </ion-card>\\n      <ion-button  expand=\\\"block\\\" class=\\\"btn-primary margin\\\" color=\\\"primary\\\" (click)=\\\"submitAttendance()\\\" *ngIf=\\\"(userType == '1' || userType == '3') && !isHoliday\\\">{{'list-student.submitbtn' | translate}}</ion-button>\\n    </ion-list>\\n    <ion-label item-center class=\\\"norecord-found\\\" *ngIf=\\\"students?.length == 0\\\">{{noDataFound}}</ion-label>\\n  </div>\\n</ion-content>\\n\\n<div class=\\\"custom-calender-modal-main\\\" *ngIf=\\\"showCalenderModal\\\">\\n  <div class=\\\"calender-container\\\">\\n    <div class=\\\"calender-body\\\" class=\\\"right-direction\\\">\\n      <ion-calendar #calendar [options]=\\\"options\\\" canBackwardsSelected=\\\"true\\\"  (change)=\\\"onDaySelect($event)\\\"></ion-calendar>\\n    </div>\\n  </div>\\n  <div class=\\\"clickd-div\\\" (click)=\\\"hideCalenderModal()\\\"></div>\\n</div>\\n\\n<div class=\\\"custom-modal-main\\\" *ngIf=\\\"showProfileModal\\\" (click)=\\\"hideUserImageModal($event)\\\">\\n  <div class=\\\"custom-modal\\\">\\n    <div class=\\\"custom-modal-header\\\">\\n      <div class=\\\"image-sec\\\" [ngStyle]=\\\"{'background-image': 'url('+student.pic+')'}\\\">\\n        <div class=\\\"add-image-icon\\\" (click)=\\\"takePicture()\\\" *ngIf=\\\"userDetails.details.user_type != '2' && userDetails.details.user_type != '7'\\\">\\n          <ion-icon name=\\\"add-circle\\\"></ion-icon>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"custom-modal-content\\\">\\n      <h2 style=\\\"color:black;\\\">{{student.name}}</h2>\\n      <p *ngIf=\\\"studentBehaviour != ''\\\">{{studentBehaviour}}</p>\\n      <p>{{'list-student.total_absents' | translate}} : {{student.total_absent}}</p>\\n    </div>\\n    <div class=\\\"custom-modal-footer\\\">\\n      <ion-row>\\n        <ion-col size=\\\"4\\\"  class=\\\" text-left lefthorizline\\\">\\n          <p  class=\\\" text-center absence-count\\\" style=\\\"color:black;\\\">{{student.unacceptable_absent_days}}</p>\\n          <p  class=\\\"text-center absence\\\">{{'list-student.unacceptable_absence' | translate}}</p>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\"  class=\\\"text-center\\\">\\n          <p  class=\\\"text-center absence-count\\\" style=\\\"color:black;\\\">{{student.suspend_days}}</p>\\n          <p  class=\\\"text-center absence\\\">{{'list-student.suspension_days' | translate}}</p>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\"  class=\\\"text-right text-center\\\">\\n          <p  class=\\\"text-center absence-count\\\" style=\\\"color:black;\\\">{{student.medical_days}}</p>\\n          <p  class=\\\"text-center absence\\\">{{'list-student.medical_days' | translate}}</p>\\n        </ion-col>\\n      </ion-row>\\n    </div>\\n  </div>\\n</div>\\n\";","import { Component, OnInit,NgZone } from '@angular/core';\nimport { NavController, NavParams, AlertController, Platform } from '@ionic/angular';\nimport { AuthService } from '../service/auth/auth.service';\nimport { DataService } from '../service/data/data.service';\nimport { TranslateService } from '@ngx-translate/core';\n//import { TabsPage } from '../tabs/tabs';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { CalendarComponentOptions } from 'ion2-calendar'\n\n@Component({\n  selector: 'app-students',\n  templateUrl: './students.page.html',\n  styleUrls: ['./students.page.scss'],\n})\nexport class StudentsPage implements OnInit {\n  showProfileModal: boolean = false;\n  students: any = [];\n  dateSelected: any;\n  student: any = {};\n  userDetails: any = {};\n  showCalenderModal: boolean = false;\n  attendanceSheet: any = {};\n  userType: any;\n  attMarkBegin: boolean = false;\n  attNotMarked: boolean = true;\n  lang: any = {};\n  delayRule: number = 5;\n  editMode: boolean = false;\n  holidayString: string;\n  currentEvents: any = [];\n  isHoliday: boolean = false;\n  noDataFound: string = '';\n  studentBehaviour: string = '';\n  courseInfo:any = {};\n  navData:any;\n    options = {\n      canBackwardsSelected: true, //By making this true you can access the disabled dates\n      from:1,\n      to:0,\n       disableWeeks: [],\n    daysConfig : <any>[]\n    };\n    constructor(public navCtrl: NavController, \n\t\t  //\tpublic navParams: NavParams, \n\t\t  \tpublic dataProvider: DataService,\n\t\t    public authProvider: AuthService, \n\t\t    //public app: App, \n\t\t    public translate: TranslateService,\n\t\t    public alertCtrl: AlertController, \n\t\t    public camera: Camera, \n\t\t    public network: Network,\n              private route : ActivatedRoute,\n              private router:Router,\n              public zone:NgZone, \n\t\t    public platform: Platform) {\n\n\t   \tthis.route.queryParams.subscribe(params => {\n\t\t  if (this.router.getCurrentNavigation().extras.state) {\n\t\t      \t\t this.navData = this.router.getCurrentNavigation().extras.state.course;\n\t             console.log(this.navData);\n\t\t    if (localStorage.getItem(\"userloggedin\")) {\n\t\t      this.dateSelected = new Date();\n\t\t      this.userDetails = JSON.parse(localStorage.getItem(\"userloggedin\"));\n\t\t      let data = {\n\t\t        \"user_no\": this.userDetails.details.user_no,\n\t\t        \"school_id\": this.userDetails.details.school_id,\n\t\t        \"session_id\": this.userDetails.session_id\n\t\t      };\n\t\t      this.dataProvider.getHolidays(data).then(response => {\n\t\t        if (response) {\n\t\t          if (response.holidays.length > 0) {\n\t\t            this.holidayString = response.holiday_string;\n\t\t            response.holidays.forEach(holiday => {\n\t\t              let date = new Date(holiday.date);\n                  let p={\n                    date: holiday.date,\n                    disable: true\n                  }\n                  this.options.daysConfig.push(p);\n                  this.currentEvents.push({\n                    year: date.getFullYear(),\n                    month: date.getMonth(),\n                    date: date.getDate()\n                  })\n                })\n              console.log(this.options.daysConfig)\n\t\t            let day = this.dateSelected.getDate();\n\t\t            day = day < 10 ? '0' + day : day;\n\t\t            let month = this.dateSelected.getMonth();\n\t\t            month = month + 1;\n\t\t            month = month < 10 ? '0' + month : month;\n\n\t\t            let strint_date = this.dateSelected.getFullYear() + '-' + month + '-' + day;\n\t\t            if (this.holidayString.indexOf(strint_date) > -1) {\n\t\t              this.isHoliday = true;\n\t\t            } else {\n\t\t              this.isHoliday = false;\n\t\t            }\n\t\t          }\n\t\t        }\n\t\t      }).catch(error => {\n\t\t        this.dataProvider.hideLoading();\n\t\t        this.dataProvider.errorALertMessage(error);\n\t\t      })\n\t\t      this.getStudents();\n\t\t    } else {\n\t\t      this.dataProvider.hideLoading();\n\t\t      this.authProvider.flushLocalStorage();\n          this.router.navigate(['login'],{replaceUrl:true});\n\t\t   //   this.app.getRootNav().setRoot(\"LoginPage\");\n\t\t    }\n\t      }\n\t    });\n       this.translate.get(\"alertmessages\").subscribe((response) => {\n\t      this.lang = response;\n\t    })\n\n  }\n \n  ngOnInit() {\n  }\n   ionViewWillEnter() {\n  }\n\n  /**\n   * get the list of students from provider\n   */\n  getStudents(loader:boolean = true) {\n    if(loader) this.dataProvider.showLoading();\n    this.userType = this.userDetails.details.user_type;\n    let course = this.navData;\n    this.courseInfo = course;\n    let studentData = {\n      \"date\": this.dataProvider.getFormatedDate(this.dateSelected),\n      \"user_no\": this.userDetails.details.user_no,\n      \"session_id\": this.userDetails.session_id,\n      \"course_id\": course.cid,\n      \"school_id\": this.userDetails.details.school_id\n    }\n    if(localStorage.getItem(\"delayclasslocalatt\")){\n      let attendance = JSON.parse(localStorage.getItem(\"delayclasslocalatt\"));\n      Object.keys(attendance).map((courseId)=>{\n        if(!this.checkCurrentDate(new Date(attendance[courseId].date)) && localStorage.getItem(\"delayclasslocalatt\")){\n          localStorage.removeItem(\"delayclasslocalatt\");\n        }\n      })\n    }\n    this.dataProvider.getDelayClassStudentList(studentData).then(res => {\n      if(loader) this.dataProvider.hideLoading();\n      if (res.session) {\n        console.log('getDelayClassStudentList',res)\n        let responseData = res.data;\n        this.delayRule = parseInt(responseData.delay_rule);\n        this.students = responseData.students;\n        this.attMarkBegin = false;\n        this.attendanceSheet = {};\n        this.editMode = false;\n        if (this.students.length == 0) {\n          this.noDataFound = this.lang.no_students_in_class;\n        }\n        if(this.checkDateSelected(new Date())){\n          if(localStorage.getItem(\"delayclasslocalatt\")){\n            let localAtt:any = {};\n            localAtt = JSON.parse(localStorage.getItem(\"delayclasslocalatt\"));\n            responseData.date = this.dataProvider.getFormatedDate(this.dateSelected);\n            localAtt[course.cid] = responseData;\n            localStorage.setItem(\"delayclasslocalatt\", JSON.stringify(localAtt));\n          }else{\n            let localAtt:any = {};\n            responseData.date = this.dataProvider.getFormatedDate(this.dateSelected);\n            localAtt[course.cid] = responseData;\n            this.dataProvider.getFormatedDate(this.dateSelected)\n            localStorage.setItem(\"delayclasslocalatt\", JSON.stringify(localAtt));\n          }\n        }\n      } else {\n        if(loader) this.dataProvider.hideLoading();\n        this.authProvider.flushLocalStorage();\n        this.dataProvider.errorALertMessage(res.message);\n        this.router.navigate(['login'],{replaceUrl:true});\n      //  this.app.getRootNav().setRoot(\"LoginPage\");\n      }\n    })\n  }\n\n  /**\n  * Open student detail page\n  * @param student_id Id of the student you want to see the details\n  */\n  openStudentDetail(student_id: string,student) {\n         console.log('student',student);\n    if(this.platform.is('cordova')){\n      if(this.network.type != this.network.Connection.NONE && this.network.type != this.network.Connection.UNKNOWN){\n        if (!this.attMarkBegin) {\n        \tconst navigation: NavigationExtras = {\n\t\t      state : {\n\t\t         student_id: student_id,\n\t            course_id: this.navData.cid,\n\t            dateSelected: this.dataProvider.getFormatedDate(this.dateSelected),\n              total_delay:student.total_delay\n            }\n\t\t      };\n\t\t      //console.log(navigation);\n\t\t      this.zone.run(() => {\n\t\t        this.router.navigate(['student-detail'], navigation);\n\t\t      });\n          // this.navCtrl.push(\"StudentDetailPage\", {\n          //   student_id: student_id,\n          //   course_id: this.navParams.get(\"course\").cid,\n          //   dateSelected: this.dataProvider.getFormatedDate(this.dateSelected)\n          // });\n        } else {\t\n          this.dataProvider.showToast(this.lang.complete_att_submission);\n        }\n      }else{\n        this.dataProvider.showToast(this.lang.no_internet);\n      }\n    }else{\n      if (!this.attMarkBegin) {\n      \tconst navigation: NavigationExtras = {\n\t      state : { student_id: student_id,\n                  course_id: this.navData.cid,\n                  dateSelected: this.dataProvider.getFormatedDate(this.dateSelected),\n                  total_delay:student.total_delay\n            }\n\t      };\n\t      //console.log(navigation);\n\t      this.zone.run(() => {\n\t        this.router.navigate(['student-detail'], navigation);\n\t      });\n        // this.navCtrl.push(\"StudentDetailPage\", {\n        //   student_id: student_id,\n        //   course_id: this.navParams.get(\"course\").cid,\n        //   dateSelected: this.dataProvider.getFormatedDate(this.dateSelected)\n        // });\n      } else {\n        this.dataProvider.showToast(this.lang.complete_att_submission);\n      }\n    }\n  }\n\n  /**\n   * Open image modal popup\n   * @param student Object of student details to show in image popup\n   */\n  openUserImageModal(student: any) {\n    if (!this.attMarkBegin) {\n      this.student = student;\n      if (student.agg_ranking > 0 && student.agg_ranking < 2.6) {\n        this.studentBehaviour = this.lang.warning_behaviour;\n      } else if (student.agg_ranking > 2.5 && student.agg_ranking < 3.6) {\n        this.studentBehaviour = this.lang.good_behaviour;\n      } else if (student.agg_ranking > 3.5 && student.agg_ranking < 4.6) {\n        this.studentBehaviour = this.lang.very_good_behaviour;\n      } else if (student.agg_ranking > 4.5 && student.agg_ranking < 5.1) {\n        this.studentBehaviour = this.lang.excellent_behaviour;\n      } else {\n        this.studentBehaviour = this.lang.no_behaviour;\n      }\n      this.showProfileModal = true;\n    } else {\n      this.dataProvider.showToast(this.lang.complete_att_submission);\n    }\n  }\n\n  /**\n   * Hide image modal popup\n   */\n  hideUserImageModal(event: any) {\n    if (event.target.className == \"custom-modal-main\") {\n      this.showProfileModal = false;\n    }\n  }\n\n  /**\n  * Use to open the calender\n  */\n  openCalenderModal() {\n    if(this.platform.is('cordova')){\n      if(this.network.type != this.network.Connection.NONE && this.network.type != this.network.Connection.UNKNOWN){\n        this.showCalenderModal = true;\n         let query = document.getElementsByName('ios-arrow-forward');\n          let query1 = document.getElementsByName('ios-arrow-back');\n          let query2 = document.getElementsByName('md-arrow-dropdown');\n          setTimeout(()=>{\n            query[0]['name'] = \"chevron-forward-outline\";\n            query1[0]['name']=\"chevron-back-outline\";\n            query2[0]['name']=\"chevron-down-outline\";\n          },500);\n      }else{\n        this.dataProvider.showToast(this.lang.no_internet);\n      }\n    }else{\n      this.showCalenderModal = true;\n       let query = document.getElementsByName('ios-arrow-forward');\n          let query1 = document.getElementsByName('ios-arrow-back');\n          let query2 = document.getElementsByName('md-arrow-dropdown');\n          setTimeout(()=>{\n            query[0]['name'] = \"chevron-forward-outline\";\n            query1[0]['name']=\"chevron-back-outline\";\n            query2[0]['name']=\"chevron-down-outline\";\n          },500);\n    }\n  }\n\n  /**\n   * Use to hide the calender\n   */\n  hideCalenderModal() {\n    this.showCalenderModal = false;\n  }\n\n  /** calender event\n  * Triggered when user select the date from the calender\n  * @param event calender event to get the selected date \n  */\n  onDaySelect(event: any) { \n        if (event != undefined && event != null) {\n          let date = new Date(event);\n          // date.setDate(event.date);\n          // date.setMonth(event.month);\n          // date.setFullYear(event.year);\n\n          let day = event.date;\n          day = day < 10 ? '0' + day : day;\n          let month = event.month;\n          month = month + 1;\n          month = month < 10 ? '0' + month : month;\n\n          let strint_date = event.year + '-' + month + '-' + day;\n          if (this.holidayString.indexOf(event) == -1) {\n            this.dateSelected = date;\n            let currentDate = new Date();\n            if (this.dateSelected.getTime() <= currentDate.getTime()) {\n              this.isHoliday = false;\n              this.hideCalenderModal();\n              this.getStudents();\n            } else {\n              this.dataProvider.showToast(this.lang.future_date);\n            }\n          } else {\n            this.dataProvider.showToast(this.lang.holiday);\n          }\n    }\n  }\n\n  /**\n   * Change the status of the attendance\n   * @param student student object whose attendance is selected to change\n   */\n  changeAttendanceStatus(student: any) {\n    if (!this.isHoliday) {\n      if (this.userType == '1') {\n        if (this.editMode) {\n          if (student.suspend_leave || student.medical_leave) {\n            this.dataProvider.showToast(this.lang.att_modification_error);\n          } else {\n            this.attMarkBegin = true;\n            this.attNotMarked = false;\n            if (student.sheet['cem-1']) { // present\n              student.sheet['cem-1'] = false; // mark absent\n              this.attendanceSheet['sid-' + student.sid] = '0';\n            } else {\n              student.sheet['cem-1'] = true; // mark present\n              this.attendanceSheet['sid-' + student.sid] = '1';\n            }\n          }\n        } else {\n          this.dataProvider.showToast(this.lang.enable_edit);\n        }\n      } else if (this.userType == '3' && this.checkDateSelected(new Date())) {\n        if (student.suspend_leave || student.medical_leave) {\n          this.dataProvider.showToast(this.lang.att_modification_error);\n        } else {\n          this.attMarkBegin = true;\n          this.attNotMarked = false;\n          if (student.sheet['cem-1'] && this.userType != \"1\") { // present\n            this.dataProvider.showToast(this.lang.att_already_marked);\n          } else {\n            student.sheet['cem-1'] = true; // mark present\n            this.attendanceSheet['sid-' + student.sid] = '1';\n          }\n        }\n      } else {\n        this.dataProvider.showToast(this.lang.att_modification_error);\n      }\n    } else {\n      this.dataProvider.showToast(this.lang.holiday);\n    }\n  }\n\n  /**\n  * function to match the dates\n  * @param date date with which compare the selected date\n  */\n  checkDateSelected(date: Date) {\n    if (date.getDate() == this.dateSelected.getDate() && date.getMonth() == this.dateSelected.getMonth() && date.getFullYear() == this.dateSelected.getFullYear()) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * For enabling editing mode\n   */\n  enableEditingMode() {\n    if (this.userType == '3' && this.checkDateSelected(new Date())) {\n      this.editMode = true;\n      this.dataProvider.showToast(this.lang.edit_mode_enabled);\n    } else if (this.userType == '1') {\n      this.editMode = true;\n      this.dataProvider.showToast(this.lang.edit_mode_enabled);\n    } else {\n      this.dataProvider.showToast(this.lang.not_permission_to_enable);\n    }\n  }\n\n  /**\n   * Attendance submit function\n   */\n  submitAttendance() {\n    if (this.attMarkBegin) {\n      this.dataProvider.showLoading();\n      let data: any = {};\n      data.sheet = {};\n      data.sheet[\"cem-1\"] = {};\n      data.user_no = this.userDetails.details.user_no;\n      data.session_id = this.userDetails.session_id;\n      data.cid = this.navData.cid;\n      data.date = this.dataProvider.getFormatedDate(this.dateSelected);\n      data.school_id = this.userDetails.details.school_id;\n      Object.keys(this.attendanceSheet).map((key) => {\n        data.sheet[\"cem-1\"][key] = this.attendanceSheet[key];\n      })\n      let submittedByUser = 0;\n      if (this.userType == '1') {\n        submittedByUser = 1;\n      } else if (this.userType == '3') {\n        submittedByUser = 2;\n      }\n      console.log(data);\n      if(this.platform.is('cordova')){\n        if(this.network.type != this.network.Connection.NONE && this.network.type != this.network.Connection.UNKNOWN){\n          this.dataProvider.markDelayAttendance(data, submittedByUser).then((response) => {\n            this.dataProvider.hideLoading();\n            if (response) {\n              this.getStudents(false);\n              this.router.navigate(['tabs/delaylist'],{replaceUrl:true})\n            //  this.navCtrl.setRoot(TabsPage);\n            }\n          }).catch((error) => {\n            this.dataProvider.hideLoading();\n            this.dataProvider.errorALertMessage(error);\n          })\n        }else{\n          this.dataProvider.hideLoading();\n          if(localStorage.getItem(\"delayattendance\")){\n            let delayAttendance = JSON.parse(localStorage.getItem(\"delayattendance\"));\n            delayAttendance.push({attendance: data, submittedByUser: submittedByUser});\n            localStorage.setItem(\"delayattendance\", JSON.stringify(delayAttendance));\n          }else{\n            let delayAttendance = [];\n            delayAttendance.push({attendance: data, submittedByUser: submittedByUser});\n            localStorage.setItem(\"delayattendance\", JSON.stringify(delayAttendance));\n          }\n          this.dataProvider.showToast(this.lang.offline_att_stored);\n        }\n      }else{\n        this.dataProvider.markDelayAttendance(data, submittedByUser).then((response) => {\n          this.dataProvider.hideLoading();\n          if (response) {\n            this.getStudents(false);\n            this.router.navigate(['tabs/delaylist'],{replaceUrl:true})\n            //this.navCtrl.setRoot(TabsPage);\n          }\n        }).catch((error) => {\n          this.dataProvider.hideLoading();\n          this.dataProvider.errorALertMessage(error);\n        })\n      }\n    } else {\n      this.dataProvider.showToast(this.lang.select_att_to_update);\n    }\n  }\n\n  /**\n   * alert to show image take choice\n   */\n  async takePicture() {\n    if(this.network.type != this.network.Connection.NONE && this.network.type != this.network.Connection.UNKNOWN){\n    const alert= await this.alertCtrl.create({\n        header: this.lang.image_option,\n        buttons: [\n          {\n            text: this.lang.camera,\n            handler: () => {\n              this.openCamera();\n            }\n          },\n          {\n            text: this.lang.gallery,\n            handler: () => {\n              this.openGallery()\n            }\n          }\n        ]\n      })\n    await alert.present()\n    }else{\n      this.dataProvider.showToast(this.lang.no_internet);\n    }\n  }\n\n  /**\n   * mobile camera to take image \n   */\n  openCamera() {\n    let options: CameraOptions = {\n      quality: 100,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.PNG,\n      mediaType: this.camera.MediaType.PICTURE,\n      allowEdit: true,\n      correctOrientation: true,\n      sourceType: this.camera.PictureSourceType.CAMERA,\n      targetHeight: 500,\n      targetWidth: 500\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n      if (imageData) {\n        this.dataProvider.showLoading();\n        let data = {\n          user_no: this.userDetails.details.user_no,\n          session_id: this.userDetails.session_id,\n          imageData: 'data:image/png;base64,'+imageData,\n          sid: this.student.sid\n        }\n        this.dataProvider.updateUserImage(data).then((response) => {\n          this.dataProvider.hideLoading();\n          if (response.session) {\n            this.student.pic = response.url;\n          } else {\n            this.authProvider.flushLocalStorage();\n            this.dataProvider.errorALertMessage(response.message);\n            this.router.navigate(['login'],{replaceUrl:true});\n           // this.app.getRootNav().setRoot(\"LoginPage\");\n          }\n        }).catch((error) => {\n          this.dataProvider.hideLoading();\n          this.dataProvider.errorALertMessage(error);\n        })\n      }\n    })\n  }\n\n  /**\n   * Open gallery to take image\n   */\n  openGallery() {\n    let options: CameraOptions = {\n      quality: 100,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.PNG,\n      mediaType: this.camera.MediaType.PICTURE,\n      allowEdit: true,\n      correctOrientation: true,\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      targetHeight: 500,\n      targetWidth: 500\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n      if (imageData) {\n        this.dataProvider.showLoading();\n        let data = {\n          user_no: this.userDetails.details.user_no,\n          session_id: this.userDetails.session_id,\n          imageData: 'data:image/png;base64,'+imageData,\n          sid: this.student.sid\n        }\n        this.dataProvider.updateUserImage(data).then((response) => {\n          this.dataProvider.hideLoading();\n          if (response.session) {\n            this.student.pic = response.url;\n          } else {\n            this.authProvider.flushLocalStorage();\n            this.dataProvider.errorALertMessage(response.message);\n            this.router.navigate(['login'],{replaceUrl:true});\n           // this.app.getRootNav().setRoot(\"LoginPage\");\n          }\n        }).catch((error) => {\n          this.dataProvider.hideLoading();\n          this.dataProvider.errorALertMessage(error);\n        })\n      }\n    })\n  }\n\n  /**\n   * function to caheck the current date\n   * @param date date with which compare the current date\n   */\n  checkCurrentDate(date: Date) {\n    let currentDate = new Date();\n    if (date.getDate() == currentDate.getDate() && date.getMonth() == currentDate.getMonth() && date.getFullYear() == currentDate.getFullYear()) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StudentsPageRoutingModule } from './students-routing.module';\n\nimport { StudentsPage } from './students.page';\nimport { PipesModule } from '../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    StudentsPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [StudentsPage]\n})\nexport class StudentsPageModule {}\n"]}