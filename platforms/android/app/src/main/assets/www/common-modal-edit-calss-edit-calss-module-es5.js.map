{"version":3,"sources":["webpack:///src/app/common-modal/edit-calss/edit-calss.module.ts","webpack:///src/app/common-modal/edit-calss/edit-calss.page.scss","webpack:///src/app/common-modal/edit-calss/edit-calss.page.html","webpack:///src/app/common-modal/edit-calss/edit-calss-routing.module.ts","webpack:///src/app/common-modal/edit-calss/edit-calss.page.ts"],"names":["EditCalssPageModule","imports","declarations","routes","path","component","EditCalssPageRoutingModule","forChild","exports","EditCalssPage","navCtrl","translate","dataProvider","authProvider","alertCtrl","route","zone","router","modalController","teacherList","noTeacher","selectedTeacher","get","subscribe","res","lang","queryParams","params","getCurrentNavigation","extras","state","navData","course","userDetails","console","log","getTeacher","dismiss","data","cid","school_id","user_no","showLoading","getTeachers","then","hideLoading","session","length","error","teacher","type","eve","id","is_checked","srcElement","ariaChecked","is_assign","assign_as","elem","document","getElementById","checked","updateTeacher","showToast","navigate","message","deleteClass","selector","template"],"mappings":"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","file":"common-modal-edit-calss-edit-calss-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditCalssPageRoutingModule } from './edit-calss-routing.module';\n\nimport { EditCalssPage } from './edit-calss.page';\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PipesModule,\n    EditCalssPageRoutingModule\n  ],\n  declarations: [EditCalssPage]\n})\nexport class EditCalssPageModule {}\n","export default \".list .list-header {\\n  font-size: 16px;\\n  font-weight: 700;\\n}\\n.list .card .card-header {\\n  padding: unset;\\n  border: 0.2px solid #00000017;\\n}\\n.list .card .card-content {\\n  padding: unset;\\n  margin: unset;\\n}\\n.list .card .card-content .item-lover .item-text {\\n  min-width: 147px;\\n  text-align: center;\\n}\\n.list .card .card-content .item-lover .row {\\n  width: 100%;\\n  text-align: center;\\n}\\n.list .card .card-content .item-lover .row .col ion-checkbox {\\n  margin: 0px auto;\\n  padding-top: 2px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2VkaXQtY2Fsc3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNDO0VBQ0ssZUFBQTtFQUNBLGdCQUFBO0FBQU47QUFHRTtFQUNDLGNBQUE7RUFDRyw2QkFBQTtBQUROO0FBTUU7RUFDQyxjQUFBO0VBQ0csYUFBQTtBQUpOO0FBTUk7RUFDQyxnQkFBQTtFQUNHLGtCQUFBO0FBSlI7QUFNSTtFQUNLLFdBQUE7RUFDQSxrQkFBQTtBQUpUO0FBTU07RUFDQyxnQkFBQTtFQUNHLGdCQUFBO0FBSlYiLCJmaWxlIjoiZWRpdC1jYWxzcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGlzdHtcclxuXHQubGlzdC1oZWFkZXJ7XHJcblx0XHQgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgXHRcdGZvbnQtd2VpZ2h0OiA3MDA7XHJcblx0fVxyXG5cdC5jYXJke1xyXG5cdFx0LmNhcmQtaGVhZGVye1xyXG5cdFx0XHRwYWRkaW5nOiB1bnNldDtcclxuICAgIFx0XHRib3JkZXI6IDAuMnB4IHNvbGlkICMwMDAwMDAxNztcclxuXHRcdFx0Lml0ZW17XHJcblxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQuY2FyZC1jb250ZW50e1xyXG5cdFx0XHRwYWRkaW5nOiB1bnNldDtcclxuICAgIFx0XHRtYXJnaW46IHVuc2V0O1xyXG5cdFx0XHQuaXRlbS1sb3ZlcntcclxuXHRcdFx0XHQuaXRlbS10ZXh0e1xyXG5cdFx0XHRcdFx0bWluLXdpZHRoOiAxNDdweDtcclxuICAgIFx0XHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQucm93e1xyXG5cdFx0XHRcdFx0ICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgXHRcdFx0XHRcdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHRcdFx0XHRcdC5jb2x7XHJcblx0XHRcdFx0XHRcdGlvbi1jaGVja2JveHtcclxuXHRcdFx0XHRcdFx0XHRtYXJnaW46IDBweCBhdXRvO1xyXG4gICAgXHRcdFx0XHRcdFx0cGFkZGluZy10b3A6IDJweDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSJdfQ== */\";","export default \"<ion-header mode=\\\"md\\\">\\n  <ion-toolbar>\\n  \\t<ion-buttons slot=\\\"end\\\">\\n  \\t\\t<ion-back-button></ion-back-button>\\n  \\t</ion-buttons>\\n    <ion-title>{{'edit_class.title' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content mode=\\\"md\\\">\\n\\n\\t<ion-list lines=\\\"none\\\" class=\\\"list\\\" *ngIf=\\\"teacherList\\\">\\n\\t\\t<ion-list-header class=\\\"list-header\\\">\\n\\t\\t\\t{{'edit_class.sub_title' | translate}}\\n\\t\\t</ion-list-header>\\n\\t\\t<ion-card class=\\\"card\\\" *ngFor=\\\"let list of teacherList; let i=index\\\"> \\n\\t\\t\\t<ion-card-header class=\\\"card-header\\\">\\n\\t\\t\\t\\t<ion-item class=\\\"item\\\">\\n\\t\\t\\t\\t\\t<ion-avatar slot=\\\"start\\\">\\n\\t\\t\\t\\t\\t\\t<img [src]=\\\"list.pic\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/logo.png';\\\">\\n\\t\\t\\t\\t\\t</ion-avatar>\\n\\t\\t\\t\\t\\t<ion-label>\\n\\t\\t\\t\\t\\t\\t<h2>{{list.first_name}}</h2>\\n\\t\\t\\t\\t\\t\\t<p> {{list.is_assigned}}: {{'edit_class.is_assigned' | translate}}</p>\\n\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t</ion-card-header>\\n\\t\\t\\t<ion-card-content class=\\\"card-content\\\">\\n\\t\\t\\t\\t<ion-item class=\\\"item-lover\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"item-text\\\">\\n\\t\\t\\t\\t\\t\\t{{'edit_class.teacher_assign' | translate}}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t  \\t<ion-row class=\\\"row\\\">\\n\\t\\t\\t\\t  \\t\\t<ion-col size=\\\"6\\\" class=\\\"col\\\">\\n\\t\\t\\t\\t  \\t\\t\\t{{'edit_class.regular' | translate}}\\n\\t\\t\\t\\t  \\t\\t\\t<ion-checkbox [checked]=\\\"list.is_assigned==1 && list.assigned_as=='regular'\\\" (click)=\\\"markTeacher(list,'reg',$event,i)\\\" color=\\\"primary\\\" id=\\\"reg{{i}}\\\"></ion-checkbox>\\n\\t\\t\\t\\t  \\t\\t</ion-col>\\n\\t\\t\\t\\t  \\t\\t<ion-col size=\\\"6\\\" class=\\\"col\\\">\\n\\t\\t\\t\\t  \\t\\t\\t{{'edit_class.split' | translate}}\\n\\t\\t\\t\\t\\t\\t\\t<ion-checkbox [checked]=\\\"list.is_assigned==1 && list.assigned_as=='split'\\\" color=\\\"secondary\\\" (click)=\\\"markTeacher(list,'spl',$event,i)\\\" id=\\\"spl{{i}}\\\"></ion-checkbox>\\n\\t\\t\\t\\t  \\t\\t</ion-col>\\n\\t\\t\\t\\t  \\t</ion-row>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t</ion-card-content>\\n\\t\\t</ion-card>\\n\\t</ion-list>\\n\\n\\t<ion-list *ngIf=\\\"teacherList.length<1 && noTeacher\\\">\\n\\t\\t<ion-list-header>\\n\\t\\t\\t{{'edit_class.no_data' | translate}}\\n\\t\\t</ion-list-header>\\n\\t</ion-list>\\n\\n\\t<ion-row>\\n\\t\\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t<ion-button  expand=\\\"block\\\" class=\\\"btn-primary margin\\\" *ngIf=\\\"teacherList.length>1\\\"  color=\\\"primary\\\" (click)=\\\"submitTeacher()\\\">{{'edit_class.assign' | translate}}</ion-button>\\n\\t\\t</ion-col>\\n\\t\\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t<ion-button  expand=\\\"block\\\" class=\\\"btn-primary margin\\\"  color=\\\"danger\\\" (click)=\\\"deletClass()\\\">{{'edit_class.delete' | translate}}</ion-button>\\n\\t\\t</ion-col>\\n\\t</ion-row>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditCalssPage } from './edit-calss.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditCalssPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditCalssPageRoutingModule {}\n","import { Component, OnInit, Input,NgZone } from '@angular/core';\nimport { NavController, AlertController, ModalController } from '@ionic/angular';\nimport { AuthService } from '../../service/auth/auth.service';\nimport { DataService } from '../../service/data/data.service';\nimport { DatabaseService } from '../../service/database/database.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport {CreateClassPage } from '../../create-class/create-class.page';\n\n@Component({\n  selector: 'app-edit-calss',\n  templateUrl: './edit-calss.page.html',\n  styleUrls: ['./edit-calss.page.scss'],\n})\nexport class EditCalssPage implements OnInit {\n  course:any;\n  userDetails:any;\n  lang:any;\n  navData:any;\n  teacherList:any=[];\n  noTeacher=false;\n  selectedTeacher:any=[];\n  \n  constructor(public navCtrl: NavController, \n             // public app: App, \n              public translate: TranslateService,\n              public dataProvider: DataService, \n              public authProvider: AuthService,  \n              //public events: Events,\n              public alertCtrl: AlertController, \n              private route : ActivatedRoute,\n              public zone:NgZone,\n              private router:Router,\n              public modalController: ModalController) {\n                this.translate.get(\"alertmessages\").subscribe((res)=>{\n                  this.lang = res;\n                })\n              this.route.queryParams.subscribe(params => {\n                if (this.router.getCurrentNavigation().extras.state) {\n                     this.navData = this.router.getCurrentNavigation().extras.state;\n                     this.course=this.navData.course;\n                     this.userDetails=this.navData.userDetails;\n                  //   console.log(this.navData);\n                  console.log('data',this.course,'userfa',this.userDetails);\n                  this.getTeacher();\n                }\n              });\n              }\n\n  ngOnInit() {\n  }\n  closeModal(){\n  \tthis.modalController.dismiss({\n      'dismissed': true\n    });\n  }\n\n  getTeacher(){\n    let data={\n      'class_id':this.course.cid,\n      'school_id':this.userDetails.school_id,\n      'user_no':this.userDetails.user_no\n    }\n    this.dataProvider.showLoading();\n    this.dataProvider.getTeachers(data).then(res=>{\n      this.dataProvider.hideLoading();\n      console.log('teschers',res);\n      if(res.session){\n        this.teacherList=res.data;\n        this.selectedTeacher=res.data;\n        if(res.data.length<1){\n          this.noTeacher=true;\n        }\n      }else{\n        this.noTeacher=true;\n        console.log('err',res);\n      }\n    },error=>{\n      this.noTeacher=true;\n      this.dataProvider.hideLoading();\n      console.log(error);\n    })\n  }\n\n  markTeacher(teacher,type,eve,id){\n    let is_checked= eve.srcElement.ariaChecked;\n    console.log(teacher,type,id,is_checked);\n    if(type=='reg'){\n      if(is_checked!=\"true\"){\n           this.selectedTeacher[id].is_assign=1;\n           this.selectedTeacher[id].assign_as=\"regular\";\n        let elem= <HTMLFormElement>(document.getElementById('spl'+id));\n        elem.checked=false;\n      }else{\n           this.selectedTeacher[id].is_assign=2;\n           this.selectedTeacher[id].assign_as=0;\n       // this.popMarkedTeacher(data);\n      }\n\n    }else{\n      if(is_checked!=\"true\"){\n           this.selectedTeacher[id].is_assign=1;\n           this.selectedTeacher[id].assign_as=\"split\";\n        let elem= <HTMLFormElement>(document.getElementById('reg'+id));\n        elem.checked=false;\n      }else{\n           this.selectedTeacher[id].is_assign=2;\n           this.selectedTeacher[id].assign_as=1;\n      }\n    }\n    console.log(this.selectedTeacher);\n  }\n\n  submitTeacher(){\n      this.dataProvider.showLoading();\n      let data={\n        'teachersList':this.selectedTeacher,\n        'class_id':this.course.cid,\n        'school_id':this.userDetails.school_id,\n        'user_no':this.userDetails.user_no\n      }\n      this.dataProvider.updateTeacher(data).then(res=>{\n        this.dataProvider.hideLoading();\n        console.log('teschers',res);\n        if(res.session){\n          this.dataProvider.showToast(res.data);\n          this.router.navigate(['tabs/classlist']);\n        }else{\n         this.dataProvider.showToast(res.message);\n        }\n      },error=>{\n         this.dataProvider.showToast(error);\n        this.dataProvider.hideLoading();\n        console.log(error);\n      })\n  }\n\n  deletClass(){\n    this.dataProvider.showLoading();\n      let data={\n        'class_id':this.course.cid,\n        'school_id':this.userDetails.school_id,\n        'user_no':this.userDetails.user_no\n      }\n      this.dataProvider.deleteClass(data).then(res=>{\n        this.dataProvider.hideLoading();\n        console.log('teschers',res);\n        if(res.session){\n          this.dataProvider.showToast(res.data);\n          this.router.navigate(['tabs/classlist']);\n        }else{\n         this.dataProvider.showToast(res.message);\n        }\n      },error=>{\n         this.dataProvider.showToast(error);\n        this.dataProvider.hideLoading();\n        console.log(error);\n      })\n  }\n\n\n}\n"]}