{"version":3,"sources":["webpack:///src/app/student-notes/student-notes.module.ts","webpack:///src/app/student-notes/student-notes.page.scss","webpack:///src/app/student-notes/student-notes-routing.module.ts","webpack:///src/app/student-notes/student-notes.page.ts","webpack:///src/app/student-notes/student-notes.page.html"],"names":["StudentNotesPageModule","imports","declarations","routes","path","component","StudentNotesPageRoutingModule","forChild","exports","StudentNotesPage","navCtrl","translate","dataProvider","authProvider","alertCtrl","route","documentService","zone","router","photoViewer","modalCtrl","noData","event","subscribe","res","console","log","changeUser","ionViewWillEnter","get","lang","language","resq","url","show","localStorage","getItem","userDetails","JSON","parse","navData","details","userType","user_type","getClassNotes","hideLoading","flushLocalStorage","navigate","replaceUrl","setTimeout","target","complete","data","stu_id","school_id","session_id","then","notes","length","Error","pdf","window","open","navigation","state","note","page","selector","template"],"mappings":"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","file":"student-notes-student-notes-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StudentNotesPageRoutingModule } from './student-notes-routing.module';\n\nimport { StudentNotesPage } from './student-notes.page'; \nimport { PipesModule } from '../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    StudentNotesPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [StudentNotesPage]\n})\nexport class StudentNotesPageModule {}\n","export default \".pdf-div img {\\n  width: 16vw;\\n  height: 9vh;\\n}\\n.pdf-div ion-icon {\\n  font-size: 47px;\\n  position: absolute;\\n  right: 9vh;\\n  top: 8vh;\\n  color: #2979ff;\\n}\\n.images {\\n  height: 193px;\\n  width: 100%;\\n  border-radius: 8px;\\n}\\n.notes {\\n  padding: 25px;\\n}\\n.notes .no-data {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3N0dWRlbnQtbm90ZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtDO0VBQ1EsV0FBQTtFQUNMLFdBQUE7QUFKSjtBQU1DO0VBQ0MsZUFBQTtFQUNHLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFFBQUE7RUFDQSxjQUFBO0FBSkw7QUFPQTtFQUNLLGFBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7QUFKTDtBQU1BO0VBQ0MsYUFBQTtBQUhEO0FBSUM7RUFDQyxrQkFBQTtBQUZGIiwiZmlsZSI6InN0dWRlbnQtbm90ZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gLmltYWdlc3tcclxuLy8gXHQgICAgd2lkdGg6IDQydnc7XHJcbi8vICAgICBcdGhlaWdodDogMjl2aDtcclxuLy8gfVxyXG4ucGRmLWRpdntcclxuXHRpbWd7XHJcblx0XHQgICAgICAgd2lkdGg6IDE2dnc7XHJcblx0XHRcdFx0aGVpZ2h0OiA5dmg7XHJcblx0fVxyXG5cdGlvbi1pY29ue1xyXG5cdFx0Zm9udC1zaXplOiA0N3B4O1xyXG5cdCAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0ICAgIHJpZ2h0OiA5dmg7XHJcblx0ICAgIHRvcDogOHZoO1xyXG5cdCAgICBjb2xvcjogIzI5NzlmZjtcclxuXHR9XHJcbn1cclxuLmltYWdlc3tcclxuXHQgICAgaGVpZ2h0OiAxOTNweDtcclxuXHQgICAgd2lkdGg6IDEwMCU7XHJcblx0ICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxufVxyXG4ubm90ZXN7XHJcblx0cGFkZGluZzogMjVweDtcclxuXHQubm8tZGF0YXtcclxuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHR9XHJcbn0iXX0= */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { StudentNotesPage } from './student-notes.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StudentNotesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StudentNotesPageRoutingModule {}\n","import { Component, OnInit,NgZone } from '@angular/core';\nimport { NavController, AlertController, ModalController } from '@ionic/angular';\nimport { AuthService } from '../service/auth/auth.service';\nimport { DataService } from '../service/data/data.service';\nimport { DatabaseService } from '../service/database/database.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport {CreateClassPage } from '../create-class/create-class.page';\nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\nimport {DocumentService} from '../service/document/document.service';\n\n@Component({\n  selector: 'app-student-notes',\n  templateUrl: './student-notes.page.html',\n  styleUrls: ['./student-notes.page.scss'],\n})\nexport class StudentNotesPage implements OnInit {\n\tlang:any;\n  navData:any;\n\tcategory:any;\n\tuserDetails:any;\n\tuserType:any;\n  notes:any;\n  noData=false;\n  constructor(public navCtrl: NavController,\n  \t         // public app: App,\n  \t          public translate: TranslateService,\n              public dataProvider: DataService,\n              public authProvider: AuthService,\n              //public events: Events,\n              public alertCtrl: AlertController,\n              private route : ActivatedRoute,\n              private documentService:DocumentService,\n              public zone:NgZone,\n              private router:Router,\n              private photoViewer: PhotoViewer,\n              public modalCtrl: ModalController) {\n            this.authProvider.event.subscribe((res)=>{\n                  console.log('change',res);\n                  if(res.changeUser){\n                    this.ionViewWillEnter();\n                  }\n                })\n                this.translate.get(\"alertmessages\").subscribe((res)=>{\n                  this.lang = res;\n                  console.log(this.lang);\n                })\n                this.dataProvider.language.subscribe((resq)=>{\n                  this.translate.get(\"alertmessages\").subscribe((res)=>{\n                     // console.log(this.lang);\n                    this.lang = res;\n                  })\n                })\n  }\n\n  ngOnInit() {\n  }\n    showPhoto(url){\n    this.photoViewer.show(url);\n  }\n\n   ionViewWillEnter(){\n       // this.dataProvider.showLoading();\n    if(localStorage.getItem(\"userloggedin\")){\n      this.userDetails = JSON.parse(localStorage.getItem(\"userloggedin\"));\n      console.log('this',this.userDetails);\n      this.navData = this.userDetails.details;\n      this.userType = this.userDetails.details.user_type;\n      this.getClassNotes();\n    }else{\n      this.dataProvider.hideLoading();\n      console.log('not logged in');\n      this.authProvider.flushLocalStorage();\n      this.router.navigate(['login'], { replaceUrl: true });\n    }\n  }\n  doRefresh(event) {\n    console.log('Begin async operation');\n    this.getClassNotes();\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      event.target.complete();\n    }, 2000);\n  }\n\n  getClassNotes(){\n  \tlet data = {\n      \"student_id\": this.userDetails.details.stu_id,\n      \"school_id\": this.userDetails.details.school_id,\n      \"session_id\": this.userDetails.session_id\n    };\n    this.dataProvider.getClassNotes(data).then(res=>{\n    \tconsole.log('notes',res);\n      this.notes=res;\n      if(this.notes){\n        if(this.notes.length<1){\n        console.log('notes:::date31.1.22',res);\n          this.noData=true;\n        }else{\n          this.noData=false;\n\n        }\n      }else{\n      console.log('notes',res);\n          this.noData=true;\n\n      }\n    }).catch(Error=>{\n      // this.dataProvider.showToast(Error);\n    \tconsole.log(Error);\n    })\n  }\n    openPdf(pdf:string){\n    //  window.open(pdf,'_blank')\n    window.open(pdf, '_system');\n    //this.documentService.openPdf(pdf,true);\n  }\n  openCalModal() {\n    const navigation : NavigationExtras ={\n      state:{\n        note:this.notes,\n        state:this.navData,\n        page:'student-note'\n      }\n    };\n    //this.zone.run(() => {\n      this.router.navigate(['note-calendar'],navigation);\n    //});\n    /*const modal = await this.modalCtrl.create({\n      component: NoteCalendarPage,\n      cssClass: 'cal-modal',\n      backdropDismiss: true,\n    });\n    this.sendClassNotes(this.notes);\n\n    return await modal.present();*/\n      \n  }\n\n}\n","export default \"<ion-header mode=\\\"md\\\">\\n  <ion-toolbar>\\n  \\t<ion-buttons slot=\\\"start\\\">\\n  \\t\\t<ion-menu-button></ion-menu-button>\\n  \\t</ion-buttons>\\n\\t  <ion-buttons slot=\\\"secondary\\\">\\n\\t\\t<ion-button class=\\\"small_btn_header\\\" style=\\\"margin-left:12px;\\\" small clear icon-only (click)=\\\"openCalModal()\\\">\\n\\t\\t  <ion-icon name=\\\"calendar-outline\\\" color=\\\"icon-header\\\"></ion-icon>\\n\\t  </ion-button>\\n  </ion-buttons>\\n    <ion-title>{{'student_notes.pagetitle' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content mode=\\\"md\\\">\\n\\t  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n\\t    <ion-refresher-content\\n\\t      pullingIcon=\\\"chevron-down-circle-outline\\\"\\n\\t      pullingText=\\\"Pull to refresh\\\"\\n\\t      refreshingSpinner=\\\"circles\\\"\\n\\t      refreshingText=\\\"Refreshing...\\\">\\n\\t    </ion-refresher-content>\\n\\t  </ion-refresher>\\n    <div *ngIf=\\\"notes\\\">\\n\\t\\t<ion-card *ngFor=\\\" let note of notes\\\">\\n\\t\\t\\t<ion-card-header>\\n\\t\\t\\t\\t<span *ngIf=\\\"note.send_to!='exam' && note.datetime\\\" style=\\\"float: left;\\\">{{note.datetime | dateFormat}}</span>\\n\\t\\t\\t\\t<span *ngIf=\\\"note.send_to=='exam' && note.examNoteDate\\\" style=\\\"float: left;\\\">{{note.examNoteDate | dateFormat}}</span>\\n\\t\\t\\t\\t<ion-item style=\\\"width: 100%;\\\">\\n\\t\\t\\t\\t\\t<ion-avatar slot=\\\"start\\\">\\n\\t\\t\\t\\t\\t\\t<img src=\\\"{{note.created_by.pic}}\\\">\\n\\t\\t\\t\\t\\t</ion-avatar>\\n\\t\\t\\t\\t\\t<ion-label>\\n\\t\\t\\t\\t\\t\\t<h3>{{note.created_by.first_name}}</h3>\\n\\t\\t\\t\\t\\t\\t<!-- <p>{{note.created_by.email_id}}</p> -->\\n\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t</ion-card-header>\\n\\t\\t\\t<ion-card-content>\\n\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t{{note.description}}\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<div *ngIf=\\\"note.file_link\\\" class=\\\"pdf-div\\\" (click)=\\\"openPdf(note.file_link)\\\">\\n\\t\\t          <img  [src]=\\\"'bullet.documents.image'\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/pdfnew.png';\\\">\\n\\t\\t            <!-- <ion-icon name=\\\"document-attach-outline\\\"></ion-icon> -->\\n\\t\\t        </div>\\n\\t\\t\\t\\t<a *ngIf=\\\"note.pdf\\\" (click)=\\\"openPdf(note.pdf)\\\" href=\\\"\\\">\\n\\t\\t\\t\\t\\t<ion-icon name=\\\"attach\\\"></ion-icon>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<img *ngIf=\\\"note.image_file\\\" [src]=\\\"note.image_file\\\" class=\\\"images\\\" (click)=\\\"showPhoto(note.image_file)\\\">\\n\\t\\t\\t</ion-card-content>\\n\\t\\t</ion-card>\\n    </div>\\n    <div class=\\\"notes\\\" *ngIf=\\\"noData\\\">\\n    \\t<div class=\\\"no-data\\\">\\n    \\t\\t{{'student_notes.no_note' | translate}}\\n    \\t</div>\\n    </div>\\n\\n</ion-content>\\n\";"]}