{"version":3,"sources":["webpack:///src/app/add-notes/add-notes.page.html","webpack:///src/app/add-notes/add-notes-routing.module.ts","webpack:///src/app/add-notes/add-notes.page.scss","webpack:///src/app/add-notes/add-notes.page.ts","webpack:///src/app/add-notes/add-notes.module.ts"],"names":["routes","path","component","AddNotesPageRoutingModule","imports","forChild","exports","env","AddNotesPage","navCtrl","translate","dataProvider","camera","route","router","file","transfer","base64","filePath","alertCtrl","location","notes","sendTo","description","studentIds","ticketImage","pdf","user_no","school_id","classId","type","examNoteDate","lang","userDetails","formdata","FormData","studentsId","status","get","subscribe","res","queryParams","params","getCurrentNavigation","extras","state","class_id","course_id","students","data","events","uploadStaus","JSON","parse","localStorage","getItem","console","log","showToast","select_type","details","media","startUpload","create","header","image_option","buttons","text","handler","openCamera","PictureSourceType","CAMERA","gallery","PHOTOLIBRARY","alert","present","options","sourceType","getPicture","then","imageData","mediaType","formData","url","serverURL","filename","name","substr","lastIndexOf","splitted","split","join","fileName","fileKey","mimeType","chunkedMode","notesUpload","showLoading","upload","hideLoading","note_created","navigation","isUpdated","course","cid","navigate","err","document","getElementById","click","event","selectedStudent","forEach","push","sid","ev","files","target","ext","reverse","file_format_error","imgBlob","append","createclassNotes","e","usnexpectedError","imgEntry","resolveLocalFilesystemUrl","entry","readFile","uploadPdfToServer","reader","FileReader","onload","Blob","result","readAsArrayBuffer","selector","template","AddNotesPageModule","declarations"],"mappings":"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","file":"add-notes-add-notes-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar mode=\\\"md\\\">\\n   \\t<ion-buttons slot=\\\"end\\\">\\n      <ion-back-button></ion-back-button>\\n   \\t</ion-buttons>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title text-right>{{'create_notes.pagetitle'| translate}}</ion-title>\\n  </ion-toolbar>\\n\\n</ion-header>\\n<ion-content padding class=\\\"right-direction\\\" mode=\\\"md\\\">\\n  <form #privateMessage='ngForm' class=\\\"fform\\\" *ngIf=\\\"!uploadStaus\\\">\\n  \\t<ion-radio-group [(ngModel)]=\\\"notes.sendTo\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n\\t    <ion-row text-right>\\n\\t      <ion-col size=\\\"5\\\" align-self-center text-right>\\n\\t        {{'create_notes.self'| translate}}\\n\\t      </ion-col>\\n\\t      <ion-col size=\\\"1\\\" align-self-center no-padding>\\n\\t        <ion-radio value=\\\"self\\\"></ion-radio>\\n\\t      </ion-col>\\n\\t      <ion-col size=\\\"5\\\" align-self-center text-right>\\n\\t        {{'create_notes.class'| translate}}\\n\\t      </ion-col>\\n\\t      <ion-col size=\\\"1\\\" align-self-center no-padding text-right>\\n\\t        <ion-radio value=\\\"class\\\" ></ion-radio>\\n          \\n\\t      </ion-col>\\n\\t    </ion-row>\\n\\t    <ion-row text-right padding-top>\\n        <ion-col size=\\\"5\\\" align-self-center text-right>\\n\\t        {{'create_notes.exam_note'| translate}}\\n\\t      </ion-col>\\n\\t      <ion-col size=\\\"1\\\" align-self-center no-padding> \\n           <ion-radio value=\\\"exam\\\"> </ion-radio>\\n\\t      </ion-col> \\n\\t      <ion-col size=\\\"5\\\" align-self-center text-right>\\n\\t        {{'create_notes.single_student'| translate}}\\n          <!-- <p>{{examNoteDate}}</p> -->\\n\\t      </ion-col>\\n\\t      <ion-col size=\\\"1\\\" align-self-center no-padding>\\n\\t        <ion-radio value=\\\"oneuser\\\"></ion-radio>\\n\\t      </ion-col>\\n\\t      \\n\\t    </ion-row>\\n\\t</ion-radio-group>\\n  <div class=\\\"\\\" *ngIf=\\\"notes.sendTo=='exam'\\\">\\n    <ion-item>\\n    <ion-datetime [(ngModel)]=\\\"notes.examNoteDate\\\" [ngModelOptions]=\\\"{standalone: true}\\\" max=\\\"2030-10-31\\\"  placeholder=\\\"select date\\\" style=\\\"padding-top: 0px;\\\"></ion-datetime> \\n  </ion-item>\\n  \\n  </div>\\n\\n    <div class=\\\"subject\\\" *ngIf=\\\"notes.sendTo=='oneuser'\\\">\\n      <ion-item>\\n        <ion-label> {{'create_notes.student_name'| translate}}</ion-label>\\n        <ionic-selectable\\n          [(ngModel)]=\\\"selectedStudent\\\"\\n          [ngModelOptions]=\\\"{standalone: true}\\\"\\n          [isMultiple]=\\\"true\\\"\\n          [items]=\\\"students\\\"\\n          itemValueField=\\\"sid\\\"\\n          itemTextField=\\\"name\\\"\\n          [canSearch]=\\\"true\\\"\\n          (onChange)=\\\"portChange($event)\\\">\\n        </ionic-selectable>\\n      </ion-item>\\n     <!--  <ion-item>\\n        <ion-input type=\\\"email\\\" class=\\\"message\\\" name=\\\"useremail\\\" placeholder=\\\"{{'create_notes.student_id'| translate}}\\\"\\n          [(ngModel)]=\\\"notes.studentId\\\" text-right></ion-input>\\n      </ion-item> -->\\n    </div>\\n    <!-- <div class=\\\"subject\\\">\\n      <ion-item>\\n        <ion-input type=\\\"text\\\" class=\\\"message\\\" placeholder=\\\"{{'create_notes.noti_title'| translate}}\\\"\\n          [(ngModel)]=\\\"mail.title\\\" text-right name=\\\"title\\\" #title='ngModel' required maxlength=\\\"35\\\"></ion-input>\\n      </ion-item>\\n    </div> -->\\n    <div class=\\\"subject\\\">\\n      <ion-item>\\n        <ion-textarea rows=\\\"10\\\" cols=\\\"20\\\" placeholder=\\\"{{'create_notes.note'| translate}}\\\"\\n          [(ngModel)]=\\\"notes.description\\\" text-right name=\\\"msg_body\\\" #msg_body='ngModel' required maxlength=\\\"140\\\">\\n        </ion-textarea>\\n      </ion-item>\\n        <ion-item style=\\\"display: none;\\\">\\n          <input type=\\\"file\\\" id=\\\"myFileInput\\\" (change)=\\\"onSelectFiles($event)\\\" />\\n        </ion-item>\\n      <ion-button class=\\\"attachment\\\" icon-only  (click) = \\\"takePicture()\\\">\\n        <ion-icon name=\\\"image-outline\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button class=\\\"attachment-video\\\" icon-only (click)=\\\"uploadPdf()\\\" >\\n        <ion-icon name=\\\"document-outline\\\"></ion-icon>\\n      </ion-button>\\n    </div>\\n    <div class=\\\"attach-image\\\" *ngIf = \\\"ticketImage != ''\\\">\\n      <img src = \\\"assets/imgs/image.png\\\"/>\\n    </div>\\n    <div class=\\\"attach-image\\\" *ngIf = \\\"notes.pdf != ''\\\">\\n      <img src = \\\"assets/imgs/pdfnew.png\\\"/>\\n    </div>\\n  </form>\\n  <ion-list *ngIf=\\\"uploadStaus && notes.pdf\\\">\\n          <ion-list-header>\\n            <ion-label>{{uploadStaus}}%</ion-label>\\n          </ion-list-header>\\n          <ion-range min=\\\"0\\\" max=\\\"100\\\" step=\\\"2\\\" [value]=\\\"uploadStaus\\\">\\n          <ion-icon slot=\\\"end\\\" name=\\\"cloud-upload-outline\\\"></ion-icon>\\n          <ion-icon size=\\\"small\\\" slot=\\\"start\\\"  name=\\\"cloud-upload\\\"></ion-icon>\\n        </ion-range>\\n          <!-- <ion-progress-bar value=\\\"0.{{uploadStaus}}\\\"></ion-progress-bar> -->\\n  </ion-list>\\n</ion-content>\\n<ion-footer>\\n <ion-button  expand=\\\"full\\\" class=\\\"send-btn\\\" color=\\\"dark\\\"\\n    (click)=\\\"sendNotes()\\\">{{'create_notes.send_notes'| translate}}</ion-button>\\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddNotesPage } from './add-notes.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddNotesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddNotesPageRoutingModule {}\n","export default \"app-add-notes:host .back-btn ion-icon {\\n  font-size: 25px;\\n}\\napp-add-notes:host .fform {\\n  margin: 8px;\\n}\\napp-add-notes:host .subject {\\n  border: 1px solid grey;\\n  margin: 10px 0;\\n  position: relative;\\n}\\napp-add-notes:host ion-row {\\n  text-align: right;\\n}\\napp-add-notes:host .send-btn {\\n  height: 60px;\\n}\\napp-add-notes:host .checkbox-inner {\\n  position: absolute !important;\\n  left: 8px !important;\\n  height: 14px !important;\\n  top: 0 !important;\\n}\\napp-add-notes:host .attachment {\\n  position: absolute;\\n  bottom: 0px;\\n  right: 0px;\\n  --background: unset;\\n  color: black;\\n  float: right;\\n  --box-shadow: unset;\\n  z-index: 2;\\n}\\napp-add-notes:host .attachment-video {\\n  position: absolute;\\n  bottom: 0px;\\n  right: 40px;\\n  --background: unset;\\n  color: black;\\n  float: right;\\n  --box-shadow: unset;\\n  z-index: 2;\\n}\\napp-add-notes:host .attach-image {\\n  width: 100%;\\n  height: 100px;\\n  text-align: right;\\n}\\napp-add-notes:host .attach-image img {\\n  width: 41px;\\n  height: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2FkZC1ub3Rlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRVE7RUFDSSxlQUFBO0FBRFo7QUFJSTtFQUNJLFdBQUE7QUFGUjtBQUlJO0VBQ0ksc0JBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7QUFGUjtBQUlJO0VBQ1EsaUJBQUE7QUFGWjtBQUlJO0VBQ0ksWUFBQTtBQUZSO0FBSUk7RUFDSSw2QkFBQTtFQUNBLG9CQUFBO0VBQ0EsdUJBQUE7RUFDQSxpQkFBQTtBQUZSO0FBSUk7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxVQUFBO0VBQ0ksbUJBQUE7RUFDUixZQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0ksVUFBQTtBQUZSO0FBSUk7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0ksbUJBQUE7RUFDSixZQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0ksVUFBQTtBQUZaO0FBSUk7RUFDSSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGlCQUFBO0FBRlI7QUFHUTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBRFoiLCJmaWxlIjoiYWRkLW5vdGVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC1hZGQtbm90ZXM6aG9zdCB7XHJcbiAgICAuYmFjay1idG57XHJcbiAgICAgICAgaW9uLWljb257XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjVweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAuZmZvcm17XHJcbiAgICAgICAgbWFyZ2luOiA4cHg7XHJcbiAgICB9XHJcbiAgICAuc3ViamVjdHtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBncmV5O1xyXG4gICAgICAgIG1hcmdpbjogMTBweCAwO1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIH1cclxuICAgIGlvbi1yb3d7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgfVxyXG4gICAgLnNlbmQtYnRue1xyXG4gICAgICAgIGhlaWdodDogNjBweDtcclxuICAgIH1cclxuICAgIC5jaGVja2JveC1pbm5lcntcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcclxuICAgICAgICBsZWZ0OiA4cHggIWltcG9ydGFudDtcclxuICAgICAgICBoZWlnaHQ6IDE0cHggIWltcG9ydGFudDtcclxuICAgICAgICB0b3A6IDAgIWltcG9ydGFudDtcclxuICAgIH1cclxuICAgIC5hdHRhY2htZW50IHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgYm90dG9tOiAwcHg7XHJcbiAgICAgICAgcmlnaHQ6IDBweDtcclxuICAgICAgICAgICAgLS1iYWNrZ3JvdW5kOiB1bnNldDtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIGZsb2F0OiByaWdodDtcclxuICAgIC0tYm94LXNoYWRvdzogdW5zZXQ7XHJcbiAgICAgICAgei1pbmRleDogMjtcclxuICAgIH1cclxuICAgIC5hdHRhY2htZW50LXZpZGVve1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBib3R0b206IDBweDtcclxuICAgICAgICByaWdodDogNDBweDtcclxuICAgICAgICAgICAgLS1iYWNrZ3JvdW5kOiB1bnNldDtcclxuICAgICAgICBjb2xvcjogYmxhY2s7XHJcbiAgICAgICAgZmxvYXQ6IHJpZ2h0O1xyXG4gICAgICAgIC0tYm94LXNoYWRvdzogdW5zZXQ7XHJcbiAgICAgICAgICAgIHotaW5kZXg6IDI7XHJcbiAgICB9XHJcbiAgICAuYXR0YWNoLWltYWdle1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGhlaWdodDogMTAwcHg7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbiAgICAgICAgaW1ne1xyXG4gICAgICAgICAgICB3aWR0aDogNDFweDtcclxuICAgICAgICAgICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController, Platform, AlertController } from '@ionic/angular';\nimport { Location } from '@angular/common';\nimport { AuthService } from '../service/auth/auth.service';\nimport { DataService } from '../service/data/data.service';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { File, FileEntry } from '@ionic-native/file/ngx';\n// import { FileChooser } from '@ionic-native/file-chooser/ngx';\nimport { Base64 } from '@ionic-native/base64/ngx';\nimport { FilePath } from '@ionic-native/file-path/ngx';\nimport { environment } from '../../environments/environment';\nconst env = environment;\n  \n@Component({\n  selector: 'app-add-notes',\n  templateUrl: './add-notes.page.html',\n  styleUrls: ['./add-notes.page.scss'],\n})\nexport class AddNotesPage implements OnInit {\n  notes: any = {\n    sendTo: '',\n    description: '',\n    studentIds: [],\n    ticketImage: '',\n    pdf: '',\n    user_no: '',\n    school_id: '',\n    classId: '',\n    type: '',\n    examNoteDate:''\n  };\n  \n  lang: any = {};\n  userDetails: any = {};\n  ticketImage: string = '';\n  class_id: any;\n  students: any;\n  mediaType: any;\n  state: any;\n  data: any;\n  selectedStudent: any;\n  formdata: any = new FormData();\n  uploadStaus: any;\n  studentsId: any = [];\n  status = '';\n\n  constructor(public navCtrl: NavController,\n    public translate: TranslateService,\n    public dataProvider: DataService,\n    public camera: Camera,\n    private route: ActivatedRoute,\n    private router: Router,\n    private file: File,\n    // private fileChooser: FileChooser,\n    private transfer: FileTransfer,\n    private base64: Base64,\n    private filePath: FilePath,\n    public alertCtrl: AlertController,\n    private location: Location) {\n    this.translate.get(\"alertmessages\").subscribe((res) => {\n      this.lang = res;\n    })\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.class_id = this.router.getCurrentNavigation().extras.state.state.course_id;\n        this.students = this.router.getCurrentNavigation().extras.state.state.students;\n        this.state = this.router.getCurrentNavigation().extras.state.state;\n        this.data = this.router.getCurrentNavigation().extras.state.data;\n      }\n      \n    });\n    this.dataProvider.events.subscribe(res => {\n      // console.log(res);\n      this.uploadStaus = res;\n    })\n\n  }\n\n  /**\n   * Ionic navigation event will run when page is loaded\n   */\n  ionViewWillEnter() {\n    this.userDetails = JSON.parse(localStorage.getItem(\"userloggedin\"));\n  }\n\n  /**\n   * Used to send the message\n   */\n\n  sendNotes() {\n    console.log(\"examnotedate==>\",this.notes.examNoteDate);\n    if (!this.notes.sendTo) {\n      this.dataProvider.showToast(this.lang.select_type);\n    } else {\n      console.log(this.userDetails);\n      this.notes.classId = this.class_id;\n      this.notes.user_no = this.userDetails.details.user_no;\n      this.notes.school_id = this.userDetails.details.school_id;\n      // this.notes.examNoteDate =  this.notes.examNoteDate;\n      let media: any;\n      console.log(\"notes contains===>\",this.notes);\n      if (this.notes.ticketImage && this.notes.ticketImage != '') {\n        media = this.notes.ticketImage\n      } else {\n        media = this.notes.pdf\n      }\n      if (!media) {\n        // this.uploadPdfToServer();\n        this.startUpload(this.ticketImage);\n      } else {\n        if (this.notes.pdf != '') {\n          // this.uploadPdfToServer();\n          this.startUpload(this.ticketImage);\n        } else {\n          this.startUpload(this.ticketImage);\n          // this.uploadNotes(media,this.notes);\n        }\n      }\n    }\n  }\n  /**\n   * alert to show image take choice\n   */\n  async takePicture() {\n    const alert = await this.alertCtrl.create({\n      header: this.lang.image_option,\n      buttons: [\n        {\n          text: this.lang.camera,\n          handler: () => {\n            this.openCamera(this.camera.PictureSourceType.CAMERA);\n          }\n        },\n        {\n          text: this.lang.gallery,\n          handler: () => {\n            this.openCamera(this.camera.PictureSourceType.PHOTOLIBRARY);\n            //this.openGallery()\n          }\n        }\n      ]\n    })\n    await alert.present();\n  }\n\n  openCamera(type) {\n    let options: CameraOptions = {\n      sourceType: type\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n      if (imageData) {\n        this.notes.pdf = '';\n        this.notes.ticketImage = imageData;\n        this.ticketImage = imageData;\n        this.mediaType = 'image/jpg'\n      }\n    })\n  }\n\n\n  uploadNotes(media, formData) {\n   var url = environment.serverURL + 'createNotes';\n   /*  \n    console.log('media', media);\n    console.log('formData', formData);\n    console.log('url', url); */\n    var filename = '';\n    if (media) {\n      var name = media.substr(media.lastIndexOf('/') + 1);\n      var splitted = name.split('?');\n      filename = splitted[0];\n    }\n    this.notes.type = this.mediaType;\n\n    formData['studentIds'] = (formData.studentIds || []).join('#');\n    var options: FileUploadOptions = {\n      fileName: filename,\n      fileKey: 'file',\n      mimeType: this.mediaType,\n      chunkedMode: false,\n      params: formData,\n    }\n    console.log('upload', options);\n    const notesUpload = this.transfer.create();\n    this.dataProvider.showLoading();\n    notesUpload.upload(media, url, options).then((data) => {\n      this.dataProvider.hideLoading();\n      this.dataProvider.showToast(this.lang.note_created);\n      // this.location.back();\n      const navigation: NavigationExtras = {\n        state: {\n          isUpdated: true,\n          course: { cid: this.class_id },\n        }\n      };\n      this.router.navigate(['view-notes'], navigation)\n    })\n      .catch((err) => {\n        this.dataProvider.hideLoading();\n        this.dataProvider.showToast(err);\n        console.log(\"Error\", err);\n      });\n  }//EOF uploadData\n\n\n  async uploadPdf() {\n    document.getElementById('myFileInput').click();\n  }\n\n\n  portChange(event) {\n    console.log(\"ANPAGE portChange:::\",event);\n    this.notes.studentIds = [];\n    this.studentsId = [];\n    this.selectedStudent.forEach(res => {\n      this.notes.studentIds.push(res.sid);\n      this.studentsId.push(res.sid);\n    })\n    \n\n  }\n\n  onSelectFiles(ev: any) {\n    let files: any = ev && ev.target && ev.target.files ? ev.target.files : <any>{};\n    console.log('onSelectFiles', files[0]);\n    let ext = files[0].name.split(\".\").reverse()[0]\n    if (ext == 'pdf' || ext == 'PDF') {\n      // this.selectedDocument.push(files[0]);\n      this.notes.pdf = files[0];\n      this.mediaType = 'file/pdf';\n      this.notes.ticketImage = '';\n      this.ticketImage = '';\n    } else {\n      this.dataProvider.showToast(this.lang.file_format_error);\n    }\n    console.log('onSelectFiles', this.notes.pdf);\n  }\n\n  uploadPdfToServer(imgBlob?: any, fileName?: any) {\n    this.formdata.append('sendTo', this.notes.sendTo);\n    this.formdata.append('description', this.notes.description);\n    this.formdata.append('studentIds', (this.notes.studentIds || []).join('#'));\n    this.formdata.append('ticketImage', this.notes.ticketImage);\n    this.formdata.append('pdf', this.notes.pdf);\n    this.formdata.append('user_no', this.userDetails.details.user_no);\n    this.formdata.append('classId', this.class_id);\n    this.formdata.append('school_id', this.userDetails.details.school_id);\n    this.formdata.append('type', this.mediaType);\n    this.formdata.append('examNoteDate',this.notes.examNoteDate);\n    if (imgBlob) {\n      this.formdata.append('file', imgBlob, fileName);\n    } else {\n      this.formdata.append('file', this.notes.pdf);\n    }\n    console.log(this.formdata);\n    // this.dataProvider.showLoading();\n    this.dataProvider.createclassNotes(this.formdata).subscribe(res => {\n      console.log(\"Success\", res);\n      this.dataProvider.hideLoading();\n      this.dataProvider.showToast(this.lang.note_created);\n      const navigation: NavigationExtras = {\n        state: {\n          isUpdated: true,\n          course: { cid: this.class_id },\n        }\n      };\n      console.log(navigation);\n      this.router.navigate(['view-notes'], navigation)\n    }, e => {\n      this.dataProvider.hideLoading();\n      this.dataProvider.showToast(this.lang.usnexpectedError);\n      this.uploadStaus = false;\n    })\n  }\n\n\n  startUpload(imgEntry) {\n    this.dataProvider.showLoading();\n    if (imgEntry) {\n      this.file.resolveLocalFilesystemUrl(imgEntry)\n        .then(entry => {\n          (<FileEntry>entry).file(file => this.readFile(file))\n        })\n        .catch(err => {\n          this.dataProvider.hideLoading();\n          // this.presentToast('Error while reading file.');\n        });\n    } else {\n      this.uploadPdfToServer();\n    }\n  }\n\n  readFile(file: any) {\n    console.log('file', file)\n    const reader = new FileReader();\n    reader.onload = () => {\n      const formData = new FormData();\n      const imgBlob = new Blob([reader.result], {\n        type: file.type\n      });\n      console.log('imgBlob', imgBlob, file.name);\n      this.uploadPdfToServer(imgBlob, file.name)\n      // formData.append('file', imgBlob, file.name);\n      // this.uploadImageData(formData);\n    };\n    reader.readAsArrayBuffer(file);\n  }\n \n\n  ngOnInit() {\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddNotesPageRoutingModule } from './add-notes-routing.module';\n\nimport { AddNotesPage } from './add-notes.page';\nimport { PipesModule } from '../pipes/pipes.module';\nimport { IonicSelectableModule } from 'ionic-selectable';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PipesModule,\n    AddNotesPageRoutingModule,\n    IonicSelectableModule\n  ],\n  declarations: [AddNotesPage]\n})\nexport class AddNotesPageModule {}\n"]}