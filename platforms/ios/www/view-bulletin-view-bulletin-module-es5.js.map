{"version":3,"sources":["webpack:///src/app/view-bulletin/view-bulletin.page.html","webpack:///src/app/view-bulletin/view-bulletin.page.ts","webpack:///src/app/view-bulletin/view-bulletin.module.ts","webpack:///src/app/view-bulletin/view-bulletin-routing.module.ts","webpack:///src/app/view-bulletin/view-bulletin.page.scss"],"names":["ViewBulletinPage","navCtrl","dataProvider","authProvider","translate","alertCtrl","network","photoViewer","route","router","documentService","zone","platform","bulletinDetails","visibleComment","get","subscribe","response","lang","queryParams","params","getCurrentNavigation","extras","state","navData","console","log","localStorage","getItem","userDetails","JSON","parse","user_no","details","getBulletin","pdf","window","open","link","image","show","data","b_id","bulletin_id","showLoading","getBulletinDetails","then","res","hideLoading","e","bullet","navigation","bulletin","forward_user_no","school_id","run","navigate","id","markBulletinRead","bulletinId","forwardedby_user_no","description","comment","commentBulletins","showToast","message","re","create","header","delete_bulletin","backdropDismiss","mode","buttons","text","handler","deleteBulletin","alert_btn_cancel_text","alert","present","sure","reopen_bulletin","reOpenBulletin","closeBulletin","selector","template","ViewBulletinPageModule","imports","declarations","routes","path","component","ViewBulletinPageRoutingModule","forChild","exports"],"mappings":"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","file":"view-bulletin-view-bulletin-module-es5.js","sourcesContent":["export default \"<ion-header mode=\\\"md\\\">\\n  <ion-toolbar>\\n  \\t<ion-buttons slot=\\\"start\\\">\\n  \\t\\t<ion-menu-button></ion-menu-button>\\n  \\t</ion-buttons>\\n  \\t<ion-buttons slot=\\\"end\\\">\\n  \\t\\t<ion-back-button></ion-back-button>\\n  \\t</ion-buttons>\\n    <ion-title>{{'bulletin.title' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content mode=\\\"md\\\">\\n\\n\\t<ion-card *ngIf=\\\"bulletinDetails.details\\\">\\n\\t\\t<ion-card-header>\\n\\t\\t\\t<h3>{{navData.bulletin_title}}</h3>\\n        \\t<!-- <p *ngIf=\\\"navData.description\\\">{{navData.description}}</p> -->\\n        \\t<span >{{navData.created_at | dateFormat}}</span>\\n\\t\\t      <ion-icon *ngIf=\\\"bulletinDetails.details.is_closed=='1'\\\" color=\\\"secondary\\\" class=\\\"lock\\\" name=\\\"checkmark-outline\\\">\\n\\t\\t      </ion-icon>\\n\\t\\t</ion-card-header>\\n\\t  <ion-card-content>\\n\\t  \\t<ion-row>\\n\\t  \\t\\t\\n\\t  \\t\\t<!-- <ion-col size=\\\"4\\\">\\n\\t\\t        <div class=\\\"pdf-div\\\" (click)=\\\"openPdf(navData.documents.pdf)\\\">\\n\\t\\t          <img *ngIf=\\\"navData.documents.image && navData.documents.pdf\\\" [src]=\\\"navData.documents.image\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/pdf.png';\\\" style=\\\"min-height: 97px;\\\">\\n\\t\\t            <ion-icon *ngIf=\\\"navData.documents.pdf\\\" name=\\\"document-attach-outline\\\"></ion-icon>\\n\\t\\t        </div>\\n\\t\\t          <img *ngIf=\\\"navData.documents.image && !navData.documents.pdf\\\" [src]=\\\"navData.documents.image\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/logo.png';\\\" style=\\\"min-height: 97px;\\\" (click)=\\\"openImage(navData.documents.image)\\\" class=\\\"image_single\\\">\\n\\t  \\t\\t</ion-col> -->\\n\\t  \\t\\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t  <div class=\\\"srow\\\">\\n\\t\\t\\t\\t<ion-row *ngIf=\\\"navData.created_by != navData.send_by\\\" >\\n\\t\\t\\t\\t\\t<ion-col size=\\\"12\\\" >\\n\\t\\t\\t\\t\\t\\t<div class=\\\"title_div\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{'bulletin.forwarded_by' | translate}}\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t\\t<ion-col size=\\\"12\\\" >\\n\\t\\t\\t\\t\\t\\t<ion-item style=\\\"width: 100%;\\\" >\\n\\t\\t\\t\\t            <ion-label>\\n\\t\\t\\t\\t              <h3>{{navData.send_by_username}}</h3>\\n\\t\\t\\t\\t            </ion-label>\\n\\t\\t\\t\\t        </ion-item>\\n\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t</ion-row>\\n\\t\\t\\t\\t<ion-row >\\n\\t\\t\\t\\t\\t<ion-col size=\\\"12\\\" >\\n\\t\\t\\t\\t\\t\\t<div class=\\\"title_div\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{'bulletin.created_by' | translate}}\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t\\t<ion-col size=\\\"12\\\" >\\n\\t\\t\\t\\t\\t\\t<ion-item style=\\\"width: 100%;\\\">\\n\\t\\t\\t\\t\\t          <ion-avatar slot=\\\"start\\\">\\n\\t\\t\\t\\t\\t            <img src=\\\"{{navData.created_by_user_pic}}\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/logo.png';\\\">\\n\\t\\t\\t\\t\\t          </ion-avatar>\\n\\t\\t\\t\\t            <ion-label>\\n\\t\\t\\t\\t              <h3>{{navData.send_by_username}}</h3>\\n\\t\\t\\t\\t            </ion-label>\\n\\t\\t\\t\\t        </ion-item>\\n\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t</ion-row>\\n\\t\\t\\t</div>\\n\\t  \\t\\t</ion-col>\\n\\t  \\t\\t<ion-col size=\\\"12\\\">\\n\\t  \\t    <div *ngIf=\\\"navData.documents.pdf !=''\\\">\\n              <div class=\\\"pdf-div\\\" (click)=\\\"openPdfs(navData.documents.pdf)\\\">\\n                  <img src=\\\"pdf\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/pdf.png';\\\">\\n                  <!-- <ion-icon name=\\\"document-attach-outline\\\"></ion-icon> -->\\n              </div>\\n              <div *ngFor=\\\"let doc of navData.documents.files\\\">\\n                <div *ngIf=\\\"!doc.is_img\\\">\\n                  <div class=\\\"pdf-div\\\" *ngIf=\\\"doc.extension=='pdf'\\\" (click)=\\\"openPdf(doc.url_original)\\\">\\n                    <img [src]=\\\"doc.url\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/pdf.png';\\\">\\n                    <!-- <ion-icon  name=\\\"document-attach-outline\\\"></ion-icon> -->\\n                  </div>\\n                  <div class=\\\"pdf-div\\\" *ngIf=\\\"doc.extension!='pdf'\\\" (click)=\\\"opendoc(doc.url)\\\">\\n                    <img [src]=\\\"doc.url\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/doc.png';\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              \\n            </div>\\n            <div *ngIf=\\\"navData.documents.pdf ==''\\\">\\n              <div *ngFor=\\\"let doc of navData.documents.files\\\">\\n                <div class=\\\"pdf-div\\\" *ngIf=\\\"doc.extension=='pdf' && !doc.is_img\\\" (click)=\\\"openPdf(doc.url_original)\\\">\\n                  <img [src]=\\\"doc.url\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/pdf.png';\\\">\\n                  <!-- <ion-icon  name=\\\"document-attach-outline\\\"></ion-icon> -->\\n                </div>\\n                <div class=\\\"pdf-div\\\" *ngIf=\\\"doc.extension!='pdf' && !doc.is_img\\\" (click)=\\\"opendoc(doc.url)\\\">\\n                  <img [src]=\\\"doc.url\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/doc.png';\\\">\\n                </div>\\n                <div class=\\\"pdf-div\\\" *ngIf=\\\"doc.is_img\\\" (click)=\\\"openImage(doc.url_original)\\\">\\n                  <img [src]=\\\"doc.url_original\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/image.png';\\\">\\n                </div>\\n              </div>\\n              \\n            </div>\\n\\t  \\t\\t</ion-col>\\n\\t  \\t</ion-row>\\n        <ion-row *ngIf=\\\"bulletinDetails\\\">\\n          <ion-row *ngIf=\\\"bulletinDetails.details\\\">\\n          <ion-col   *ngIf=\\\"bulletinDetails.details.is_closed=='0'\\\">\\n            <ion-button (click)=\\\"openCommentSection(navData)\\\" color=\\\"primary\\\" expand=\\\"block\\\" shape=\\\"round\\\" class=\\\"forward-btn\\\">\\n              {{'bulletin.comment' | translate}}\\n            </ion-button>\\n          </ion-col>\\n          <ion-col  *ngIf=\\\"bulletinDetails.details.is_closed=='0'\\\">\\n            <ion-button (click)=\\\"shareBulletin(navData)\\\" color=\\\"primary\\\" expand=\\\"block\\\" shape=\\\"round\\\" class=\\\"forward-btn\\\">\\n              {{'bulletin.share' | translate}}\\n            </ion-button>\\n          </ion-col>\\n          <ion-col  *ngIf=\\\"userDetails.details.user_type=='1' && bulletinDetails.details.is_closed=='0'\\\">\\n            <ion-button  color=\\\"secondary\\\" (click)=\\\"completeBulletin()\\\" expand=\\\"block\\\" shape=\\\"round\\\" class=\\\"forward-btn\\\">\\n              {{'bulletin.complete' | translate}}\\n            </ion-button>\\n          </ion-col>\\n          <ion-col  *ngIf=\\\"userDetails.details.user_type=='1' && bulletinDetails.details.is_closed=='1'\\\">\\n            <ion-button  color=\\\"secondary\\\" (click)=\\\"reOpen()\\\" expand=\\\"block\\\" shape=\\\"round\\\" class=\\\"forward-btn\\\">\\n              {{'bulletin.reopen' | translate}}\\n            </ion-button>\\n          </ion-col>\\n          <ion-col  *ngIf=\\\"navData.created_by== user_no ||userDetails.details.user_type=='1'\\\">\\n            <ion-button  color=\\\"danger\\\" (click)=\\\"deleteBulletin()\\\" expand=\\\"block\\\" shape=\\\"round\\\" class=\\\"forward-btn\\\">\\n              {{'bulletin.delete' | translate}}\\n            </ion-button>\\n          </ion-col>\\n        </ion-row>\\n        </ion-row>\\n      </ion-card-content>\\n\\t</ion-card>\\n\\n\\t<ion-row *ngIf=\\\"visibleComment\\\" class=\\\"comment-row\\\">\\n\\t\\t<ion-item lines=\\\"none\\\">\\n\\t\\t\\t\\t<ion-icon color=\\\"primary\\\" (click)=\\\"markComment()\\\" slot=\\\"start\\\" name=\\\"send-outline\\\"></ion-icon>\\t\\n\\t\\t\\t<ion-textarea placeholder=\\\" {{'bulletin.add_comment' | translate}}\\\" [(ngModel)]=\\\"comment\\\">\\n\\t\\t\\t</ion-textarea>\\n\\n\\t\\t</ion-item>\\n\\t</ion-row>\\n\\n\\t<div *ngIf=\\\"bulletinDetails.details\\\">\\n\\t\\t<ion-list >\\n\\t\\t\\t<ion-card *ngFor=\\\"let track of bulletinDetails.activity\\\">\\n\\t\\t\\t\\t<ion-card-header>\\n\\t\\t\\t\\t\\t<ion-item class=\\\"list-item\\\">\\n\\t\\t\\t\\t\\t\\t<ion-avatar>\\n\\t\\t\\t\\t\\t\\t\\t<img [src]=\\\"track.send_by_user_pic\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/logo.png';\\\">\\n\\t\\t\\t\\t\\t\\t</ion-avatar>\\n\\t\\t\\t\\t\\t\\t<span>{{track.send_by_username}} \\n\\t\\t\\t\\t\\t\\t\\t<ion-icon *ngIf=\\\"track.send_to_username\\\" name=\\\"caret-back-outline\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<ion-avatar *ngIf=\\\"track.send_to_username\\\">\\n\\t\\t\\t\\t\\t\\t\\t<img [src]=\\\"track.send_to_user_pic\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/logo.png';\\\">\\n\\t\\t\\t\\t\\t\\t</ion-avatar>\\n              \\t\\t\\t<span>{{track.send_to_username}}</span>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t<p>{{track.description}}</p>\\n\\t\\t\\t\\t\\t<p>{{track.created_at | dateFormat}}</p>\\n\\t\\t\\t\\t\\t<p *ngIf=\\\"track.is_view=='1'\\\"><ion-icon name=\\\"checkmark-done-outline\\\" color=\\\"secondary\\\"></ion-icon></p>\\n\\t\\t\\t\\t</ion-card-header>\\n\\t\\t\\t</ion-card>\\n\\t\\t\\t\\n\\t\\t</ion-list>\\n\\n\\n\\t</div>\\n\\n</ion-content>\\n\";","import { Component, OnInit,NgZone } from '@angular/core';\nimport { NavController, NavParams, AlertController, Platform } from '@ionic/angular';\nimport { AuthService } from '../service/auth/auth.service';\nimport { DataService } from '../service/data/data.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport {DocumentService} from '../service/document/document.service';\nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\n\n@Component({\n  selector: 'app-view-bulletin',\n  templateUrl: './view-bulletin.page.html',\n  styleUrls: ['./view-bulletin.page.scss'],\n})\nexport class ViewBulletinPage implements OnInit {\n\tuserDetails:any;\n\tlang:any;\n\tnavData:any\n\tuser_no:any;\n\tbulletinDetails:any={};\n  comment:any;\n  visibleComment=false;\n  constructor(public navCtrl: NavController,   \n\t  \t  \t  \tpublic dataProvider: DataService,\n\t\t\t      public authProvider: AuthService,\n\t\t\t      public translate: TranslateService,\n\t\t\t      public alertCtrl: AlertController,\n\t\t\t      public network: Network,\n\t\t\t        private photoViewer: PhotoViewer,\n\t\t\t        private route : ActivatedRoute,\n\t\t\t        private router:Router,\n\t\t\t        private documentService:DocumentService,\n\t\t\t        public zone:NgZone, \n\t\t\t\t      public platform: Platform) {\n\n\t  \t\t\tthis.translate.get(\"alertmessages\").subscribe((response) => {\n\t\t\t      this.lang = response;\n\t\t\t    })\n\n\t\t\t    this.route.queryParams.subscribe(params => {\n\t\t\t      if (this.router.getCurrentNavigation().extras.state) {\n\t\t\t      \t\tthis.navData = this.router.getCurrentNavigation().extras.state;\n\t\t\t      \t\tconsole.log(this.navData);\n\t\t\t      \t//\tthis.markasReads();\n\t\t\t      }\n\t\t\t    });\n\n\t\t\t}\n\n  ngOnInit() {\n  \tif(localStorage.getItem(\"userloggedin\")){\n        this.userDetails = JSON.parse(localStorage.getItem(\"userloggedin\"));\n        this.user_no = this.userDetails.details.user_no;\n        this.getBulletin();\n  \t}\n  }\n  openCommentSection(navData){\n    this.visibleComment=true;\n  }\n  openPdf(pdf:string){\n    //   let link='https://docs.google.com/viewer?url='+pdf;\n    // console.log(link);\n    // window.open(link, '_system');\n      window.open(pdf, '_system');\n     // this.documentService.openPdf(pdf,true);\n  }\n  opendoc(pdf){\n    let link='https://docs.google.com/viewer?url='+pdf;\n    console.log(link);\n    window.open(link, '_system');\n  }\n  \n  openPdfs(pdf:string){\n      \n      window.open(pdf+'.pdf', '_system');\n     //this.documentService.openPdf(pdf,true);\n  }\n  openImage(image){\n   this.photoViewer.show(image); \n  }\n\tgetBulletin(){\n\t\tlet data ={\n\t\t\tuser_no:this.user_no,\n\t\t\tb_id:this.navData.bulletin_id\n\t\t}\n\t\tthis.dataProvider.showLoading();\n\t\tthis.dataProvider.getBulletinDetails(data).then(res=>{\n\t\t\tthis.bulletinDetails=res.data;\n\t\t\tthis.dataProvider.hideLoading();\n\t\t\tconsole.log(this.bulletinDetails);\n\t\t},e=>{\n\t\t\tthis.dataProvider.hideLoading();\n\t\t\tconsole.log(e);\n\t\t})\n\t}\n\tshareBulletin(bullet){\n    \tconst navigation: NavigationExtras = {\n        state : {\n            bulletin: bullet,\n            forward_user_no:this.userDetails.details.user_no,\n            school_id:this.userDetails.details.school_id\n        }\n      };\n      this.zone.run(() => {\n        this.router.navigate(['share-bulletins'], navigation);\n      });\n\t}\n\tmarkasReads(){\n\t\tlet data ={\n\t\t\tuser_no:this.userDetails.details.user_no,\n\t\t\tbulletin_id:this.navData.id\n\t\t}\n\t\tthis.dataProvider.markBulletinRead(data).then(res=>{\n\t\t\tconsole.log(res);\n\t\t})\n\t}\n  markComment(){\n    let data={\n      bulletinId: this.navData.bulletin_id,\n      forwardedby_user_no:this.userDetails.details.user_no,\n      school_id: this.userDetails.details.school_id,\n      description: this.comment\n    }\n    this.dataProvider.commentBulletins(data).then(res=>{\n      this.dataProvider.showToast(res.message);\n      this.getBulletin();\n      this.visibleComment=false;\n      this.comment='';\n    }).catch(re=>{\n      console.log(re);\n    })\n  }\n\n\tasync deleteBulletin(){\n     const alert= await this.alertCtrl.create({\n      header: this.lang.delete_bulletin,\n      backdropDismiss: true,\n      mode:'ios',\n      buttons: [\n        {\n          text: this.lang.delete,\n          handler: ()=>{\n          \t\n               \tlet data ={\n\t\t\t\t\t\t\t\t\tuser_no:this.userDetails.details.user_no,\n\t\t\t\t\t\t\t\t\tb_id:this.navData.bulletin_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.dataProvider.deleteBulletin(data).then(res=>{\n\t\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t\t\tthis.router.navigate(['bulletins']);\n\t\t\t\t\t\t\t\t})\n          }\n        },\n        {\n          text: this.lang.alert_btn_cancel_text,\n          handler: ()=>{\n          }\n        }\n      ]\n    }) \n   await alert.present();\n  }\n\n async reOpen(){\n  \tconst alert= await this.alertCtrl.create({\n      header: this.lang.sure,\n      backdropDismiss: true,\n      mode:'ios',\n      buttons: [\n        {\n          text: this.lang.reopen_bulletin,\n          handler: ()=>{\n          \t\n               \tlet data ={\n\t\t\t\t\t\t\t\t\tuser_no:this.userDetails.details.user_no,\n\t\t\t\t\t\t\t\t\tb_id:this.navData.bulletin_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.dataProvider.reOpenBulletin(data).then(res=>{\n\t\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t\t\tthis.getBulletin();\n\t\t\t\t\t\t\t\t})\n          }\n        },\n        {\n          text: this.lang.alert_btn_cancel_text,\n          handler: ()=>{\n          }\n        }\n      ]\n    }) \n   await alert.present();\n  }\n\n  completeBulletin(){\n  \tlet data ={\n\t\t\t\tuser_no:this.userDetails.details.user_no,\n\t\t\t\tb_id:this.navData.bulletin_id\n\t\t\t}\n\t\tthis.dataProvider.closeBulletin(data).then(res=>{\n\t\t\tconsole.log(res);\n\t\t\tthis.getBulletin();\n\t\t})\n  }\n\n}\n ","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ViewBulletinPageRoutingModule } from './view-bulletin-routing.module';\n\nimport { ViewBulletinPage } from './view-bulletin.page';\nimport { PipesModule } from '../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ViewBulletinPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [ViewBulletinPage]\n})\nexport class ViewBulletinPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ViewBulletinPage } from './view-bulletin.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ViewBulletinPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ViewBulletinPageRoutingModule {}\n","export default \"ion-title {\\n  font-size: 2.1vh;\\n}\\n\\n.forward-btn {\\n  text-transform: capitalize;\\n  letter-spacing: 0;\\n}\\n\\n.pdf-div {\\n  width: 30vw;\\n  float: right;\\n  margin: 5px;\\n}\\n\\n.pdf-div img {\\n  width: 31vw;\\n  height: 16vh;\\n}\\n\\n.pdf-div ion-icon {\\n  font-size: 47px;\\n  position: absolute;\\n  right: 9vh;\\n  top: 8vh;\\n  color: #2979ff;\\n}\\n\\n.srow {\\n  background: #ececec;\\n}\\n\\n.srow .title_div {\\n  padding-top: 9px;\\n  font-size: 12px;\\n}\\n\\nion-list {\\n  background: #e6e6e5;\\n}\\n\\nion-card ion-card-header {\\n  background: #fbfbfb;\\n  padding: 0px 9px 12px 0px;\\n  color: #2979ff;\\n}\\n\\nion-card ion-card-header h3 {\\n  margin-top: 2px;\\n  font-size: 15px;\\n  margin-bottom: 1px;\\n  font-weight: 600;\\n}\\n\\nion-card ion-card-header span {\\n  font-size: 10px;\\n}\\n\\nion-card ion-card-content {\\n  padding: 0px 0px 5px 0px;\\n}\\n\\n.list-item {\\n  font-size: 12px;\\n}\\n\\n.list-item ion-avatar {\\n  padding: 6px;\\n}\\n\\n.lock {\\n  font-size: 26px;\\n  float: left;\\n  margin-left: 13px;\\n}\\n\\n.comment-row {\\n  margin-top: 23px;\\n}\\n\\n.comment-row ion-item ion-icon {\\n  margin-top: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3ZpZXctYnVsbGV0aW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsZ0JBQUE7QUFDRDs7QUFDQTtFQUNDLDBCQUFBO0VBQ0csaUJBQUE7QUFFSjs7QUFDQTtFQUNDLFdBQUE7RUFDRyxZQUFBO0VBQ0EsV0FBQTtBQUVKOztBQURDO0VBQ0ssV0FBQTtFQUNBLFlBQUE7QUFHTjs7QUFEQztFQUNDLGVBQUE7RUFDRyxrQkFBQTtFQUNBLFVBQUE7RUFDQSxRQUFBO0VBQ0EsY0FBQTtBQUdMOztBQUFBO0VBRUksbUJBQUE7QUFFSjs7QUFESTtFQUNDLGdCQUFBO0VBQ0EsZUFBQTtBQUdMOztBQUFBO0VBQ0ssbUJBQUE7QUFHTDs7QUFDQztFQUNLLG1CQUFBO0VBQ0YseUJBQUE7RUFDQSxjQUFBO0FBRUo7O0FBREk7RUFDRCxlQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUFHSDs7QUFERTtFQUNDLGVBQUE7QUFHSDs7QUFBQztFQUNDLHdCQUFBO0FBRUY7O0FBQ0E7RUFDQyxlQUFBO0FBRUQ7O0FBREM7RUFDSyxZQUFBO0FBR047O0FBQUE7RUFDQyxlQUFBO0VBQ0csV0FBQTtFQUNBLGlCQUFBO0FBR0o7O0FBREE7RUFDSyxnQkFBQTtBQUlMOztBQUZNO0VBQ0ssZUFBQTtBQUlYIiwiZmlsZSI6InZpZXctYnVsbGV0aW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXRpdGxle1xyXG5cdGZvbnQtc2l6ZTogMi4xdmg7XHJcbn1cclxuLmZvcndhcmQtYnRue1xyXG5cdHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IDA7XHJcbn1cclxuXHJcbi5wZGYtZGl2e1xyXG5cdHdpZHRoOiAzMHZ3O1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG4gICAgbWFyZ2luOiA1cHg7XHJcblx0aW1ne1xyXG5cdFx0ICAgIHdpZHRoOiAzMXZ3O1xyXG4gICAgXHRcdGhlaWdodDogMTZ2aDtcclxuXHR9XHJcblx0aW9uLWljb257XHJcblx0XHRmb250LXNpemU6IDQ3cHg7XHJcblx0ICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHQgICAgcmlnaHQ6IDl2aDtcclxuXHQgICAgdG9wOiA4dmg7XHJcblx0ICAgIGNvbG9yOiAjMjk3OWZmO1xyXG5cdH1cclxufVxyXG4uc3Jvd3tcclxuXHQvLyBwYWRkaW5nOiA1cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZWNlY2VjO1xyXG4gICAgLnRpdGxlX2RpdntcclxuICAgIFx0cGFkZGluZy10b3A6IDlweDtcclxuICAgIFx0Zm9udC1zaXplOiAxMnB4O1xyXG4gICAgfVxyXG59XHJcbmlvbi1saXN0e1xyXG5cdCAgICBiYWNrZ3JvdW5kOiAjZTZlNmU1O1xyXG59XHJcblxyXG5pb24tY2FyZHtcclxuXHRpb24tY2FyZC1oZWFkZXJ7XHJcblx0XHQgICAgYmFja2dyb3VuZDogI2ZiZmJmYjtcclxuICAgIHBhZGRpbmc6IDBweCA5cHggMTJweCAwcHg7XHJcbiAgICBjb2xvcjogIzI5NzlmZjtcclxuICAgIGgze1xyXG5cdFx0XHRtYXJnaW4tdG9wOiAycHg7XHJcblx0XHRcdGZvbnQtc2l6ZTogMTVweDtcclxuXHRcdFx0bWFyZ2luLWJvdHRvbTogMXB4O1xyXG5cdFx0XHRmb250LXdlaWdodDogNjAwO1xyXG5cdFx0fVxyXG5cdFx0c3BhbntcclxuXHRcdFx0Zm9udC1zaXplOiAxMHB4O1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpb24tY2FyZC1jb250ZW50e1xyXG5cdFx0cGFkZGluZzogMHB4IDBweCA1cHggMHB4O1xyXG5cdH1cclxufVxyXG4ubGlzdC1pdGVte1xyXG5cdGZvbnQtc2l6ZTogMTJweDtcclxuXHRpb24tYXZhdGFye1xyXG5cdFx0ICAgIHBhZGRpbmc6IDZweDtcclxuXHR9XHJcbn1cclxuLmxvY2t7XHJcblx0Zm9udC1zaXplOiAyNnB4O1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBtYXJnaW4tbGVmdDogMTNweDtcclxufVxyXG4uY29tbWVudC1yb3d7XHJcblx0ICAgIG1hcmdpbi10b3A6IDIzcHg7XHJcblx0ICAgIGlvbi1pdGVte1xyXG5cdCAgICBcdGlvbi1pY29ue1xyXG5cdCAgICBcdFx0ICAgIG1hcmdpbi10b3A6IDBweDtcclxuXHQgICAgXHR9XHJcblx0ICAgIH1cclxufSJdfQ== */\";"]}