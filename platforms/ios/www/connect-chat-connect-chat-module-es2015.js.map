{"version":3,"sources":["./src/app/connect-chat/connect-chat.module.ts","./src/app/connect-chat/connect-chat-routing.module.ts","./src/app/connect-chat/connect-chat.page.scss","./src/app/connect-chat/connect-chat.page.ts","./src/app/connect-chat/connect-chat.page.html"],"names":[],"mappings":"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","file":"connect-chat-connect-chat-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConnectChatPageRoutingModule } from './connect-chat-routing.module';\n\nimport { ConnectChatPage } from './connect-chat.page';\nimport { PipesModule } from '../pipes/pipes.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ConnectChatPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [ConnectChatPage]\n})\nexport class ConnectChatPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ConnectChatPage } from './connect-chat.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConnectChatPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ConnectChatPageRoutingModule {}\n","export default \"app-connect-chat:host .margintop {\\n  margin-top: 8px !important;\\n}\\napp-connect-chat:host h6 {\\n  margin: 2vw;\\n}\\napp-connect-chat:host .avatar-img {\\n  width: 40px;\\n  height: 40px;\\n  background-position: center;\\n  background-size: cover;\\n  border-radius: 50%;\\n  margin-left: 9px;\\n}\\napp-connect-chat:host .sender-message {\\n  text-align: left;\\n  background: #43a047;\\n  color: #fff;\\n  padding: 7px;\\n  max-width: 100%;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  float: right;\\n  border-top-left-radius: 6px;\\n  border-bottom-left-radius: 6px;\\n  margin-right: 3px;\\n}\\napp-connect-chat:host .sender-message-first-child:after {\\n  width: 0;\\n  height: 0;\\n  content: \\\"\\\";\\n  top: 5px;\\n  right: -1px;\\n  position: absolute;\\n  border-style: solid;\\n  border-width: 13px 13px 0 0;\\n  border-color: #43a047 transparent transparent transparent;\\n}\\napp-connect-chat:host .receiver-message {\\n  background: #00b0ff;\\n  padding: 7px;\\n  max-width: 100%;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  border-top-right-radius: 6px;\\n  border-bottom-right-radius: 6px;\\n  display: flex;\\n  color: #fff;\\n  margin-left: 4px;\\n}\\napp-connect-chat:host .receiver-message-first-child:before {\\n  width: 0;\\n  height: 0;\\n  content: \\\"\\\";\\n  top: 5px;\\n  left: 1px;\\n  position: absolute;\\n  border-style: solid;\\n  border-width: 0 13px 13px 0;\\n  border-color: transparent #00b0ff transparent transparent;\\n}\\napp-connect-chat:host .receiver-message ul {\\n  margin: 0;\\n  padding: 0;\\n}\\napp-connect-chat:host .receiver-message ul li {\\n  list-style: none;\\n  margin: 0;\\n}\\napp-connect-chat:host li.sender-name {\\n  font-weight: bold;\\n  font-size: 12px;\\n}\\napp-connect-chat:host ion-row {\\n  margin-bottom: 2px;\\n}\\napp-connect-chat:host ion-footer .post-image-sec.item.item-block.item-md {\\n  max-height: 200px;\\n  overflow: hidden;\\n}\\napp-connect-chat:host ion-footer .post-image-sec.item.item-block.item-md .post-image {\\n  width: 100%;\\n  height: auto;\\n}\\napp-connect-chat:host ion-footer .send-icon {\\n  margin: -6px -6px;\\n}\\napp-connect-chat:host ion-footer .send-icon button {\\n  transform: rotate(-45deg);\\n}\\napp-connect-chat:host .connectImg {\\n  margin-top: 7px;\\n}\\napp-connect-chat:host .download-button {\\n  position: absolute;\\n  bottom: 1rem;\\n}\\napp-connect-chat:host .download-button ion-icon::before {\\n  font-size: 30px;\\n}\\napp-connect-chat:host .image-sec {\\n  background: #fff !important;\\n}\\napp-connect-chat:host .send-btn {\\n  --border-radius: 100%;\\n  width: 45px;\\n  height: 45px;\\n  --box-shadow: 0px 0px 10px #00000026;\\n}\\napp-connect-chat:host .attech-btn {\\n  --box-shadow:unset;\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2Nvbm5lY3QtY2hhdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDSSwwQkFBQTtBQUFSO0FBRUk7RUFDSSxXQUFBO0FBQVI7QUFFSTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsMkJBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUFBUjtBQUVJO0VBQ0ksZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLDBCQUFBO0VBQUEsdUJBQUE7RUFBQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSwyQkFBQTtFQUNBLDhCQUFBO0VBQ0EsaUJBQUE7QUFBUjtBQUVJO0VBQ0ksUUFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsMkJBQUE7RUFDQSx5REFBQTtBQUFSO0FBR0k7RUFDUSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsMEJBQUE7RUFBQSx1QkFBQTtFQUFBLGtCQUFBO0VBQ0EsNEJBQUE7RUFDQSwrQkFBQTtFQUNBLGFBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUFEWjtBQUdJO0VBQ0ksUUFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsMkJBQUE7RUFDQSx5REFBQTtBQURSO0FBR0k7RUFDSSxTQUFBO0VBQ0EsVUFBQTtBQURSO0FBR0k7RUFDSSxnQkFBQTtFQUNBLFNBQUE7QUFEUjtBQUdJO0VBQ0ksaUJBQUE7RUFDQSxlQUFBO0FBRFI7QUFHSTtFQUNJLGtCQUFBO0FBRFI7QUFJUTtFQUNJLGlCQUFBO0VBQ0EsZ0JBQUE7QUFGWjtBQUdZO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUFEaEI7QUFJUTtFQUNJLGlCQUFBO0FBRlo7QUFHWTtFQUNJLHlCQUFBO0FBRGhCO0FBS0k7RUFDSSxlQUFBO0FBSFI7QUFLSTtFQUNJLGtCQUFBO0VBQ0EsWUFBQTtBQUhSO0FBSVE7RUFDSSxlQUFBO0FBRlo7QUFLSTtFQUNJLDJCQUFBO0FBSFI7QUFLSTtFQUNBLHFCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxvQ0FBQTtBQUhKO0FBS0k7RUFDSSxrQkFBQTtFQUNBLFlBQUE7QUFIUiIsImZpbGUiOiJjb25uZWN0LWNoYXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLWNvbm5lY3QtY2hhdDpob3N0IHtcclxuICAgIC5tYXJnaW50b3B7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogOHB4ICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiAgICBoNntcclxuICAgICAgICBtYXJnaW46IDJ2dztcclxuICAgIH1cclxuICAgIC5hdmF0YXItaW1nIHtcclxuICAgICAgICB3aWR0aDogNDBweDtcclxuICAgICAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA5cHg7XHJcbiAgICB9XHJcbiAgICAuc2VuZGVyLW1lc3NhZ2V7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjNDNhMDQ3O1xyXG4gICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICAgIHBhZGRpbmc6IDdweDtcclxuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4gICAgICAgIGZsb2F0OiByaWdodDtcclxuICAgICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiA2cHg7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogNnB4O1xyXG4gICAgICAgIG1hcmdpbi1yaWdodDogM3B4O1xyXG4gICAgfVxyXG4gICAgLnNlbmRlci1tZXNzYWdlLWZpcnN0LWNoaWxkOmFmdGVye1xyXG4gICAgICAgIHdpZHRoOiAwO1xyXG4gICAgICAgIGhlaWdodDogMDtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIHRvcDogNXB4O1xyXG4gICAgICAgIHJpZ2h0OiAtMXB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4gICAgICAgIGJvcmRlci13aWR0aDogMTNweCAxM3B4IDAgMDtcclxuICAgICAgICBib3JkZXItY29sb3I6ICM0M2EwNDcgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLnJlY2VpdmVyLW1lc3NhZ2Uge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMDBiMGZmO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiA3cHg7XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4gICAgICAgICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNnB4O1xyXG4gICAgICAgICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNnB4O1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDRweDtcclxuICAgIH1cclxuICAgIC5yZWNlaXZlci1tZXNzYWdlLWZpcnN0LWNoaWxkOmJlZm9yZSB7XHJcbiAgICAgICAgd2lkdGg6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAwO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgICAgdG9wOiA1cHg7XHJcbiAgICAgICAgbGVmdDogMXB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4gICAgICAgIGJvcmRlci13aWR0aDogMCAxM3B4IDEzcHggMDtcclxuICAgICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50ICMwMGIwZmYgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7XHJcbiAgICB9XHJcbiAgICAucmVjZWl2ZXItbWVzc2FnZSB1bCB7XHJcbiAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcbiAgICAucmVjZWl2ZXItbWVzc2FnZSB1bCBsaSB7XHJcbiAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcclxuICAgICAgICBtYXJnaW46IDA7XHJcbiAgICB9XHJcbiAgICBsaS5zZW5kZXItbmFtZSB7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgfVxyXG4gICAgaW9uLXJvd3tcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAycHg7XHJcbiAgICB9XHJcbiAgICBpb24tZm9vdGVye1xyXG4gICAgICAgIC5wb3N0LWltYWdlLXNlYy5pdGVtLml0ZW0tYmxvY2suaXRlbS1tZCB7XHJcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDIwMHB4O1xyXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgICAucG9zdC1pbWFnZSB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgICAgIGhlaWdodDogYXV0bztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAuc2VuZC1pY29ue1xyXG4gICAgICAgICAgICBtYXJnaW46IC02cHggLTZweDtcclxuICAgICAgICAgICAgYnV0dG9ue1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC5jb25uZWN0SW1nIHtcclxuICAgICAgICBtYXJnaW4tdG9wOiA3cHg7XHJcbiAgICB9XHJcbiAgICAuZG93bmxvYWQtYnV0dG9uIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgYm90dG9tOiAxcmVtO1xyXG4gICAgICAgIGlvbi1pY29uOjpiZWZvcmUge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDMwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLmltYWdlLXNlYyB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogI2ZmZiAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gICAgLnNlbmQtYnRue1xyXG4gICAgLS1ib3JkZXItcmFkaXVzOiAxMDAlO1xyXG4gICAgd2lkdGg6IDQ1cHg7XHJcbiAgICBoZWlnaHQ6IDQ1cHg7XHJcbiAgICAtLWJveC1zaGFkb3c6IDBweCAwcHggMTBweCAjMDAwMDAwMjY7XHJcbiAgICB9XHJcbiAgICAuYXR0ZWNoLWJ0bntcclxuICAgICAgICAtLWJveC1zaGFkb3c6dW5zZXQ7XHJcbiAgICAgICAgY29sb3I6YmxhY2s7XHJcbiAgICB9XHJcbn1cclxuIl19 */\";","import { Component, OnInit,NgZone, ViewChild } from '@angular/core';\nimport { NavController, NavParams, AlertController,IonContent, Platform,ModalController } from '@ionic/angular';\nimport { AuthService } from '../service/auth/auth.service';\nimport { DataService } from '../service/data/data.service';\nimport { TranslateService } from '@ngx-translate/core';\n//import { TabsPage } from '../tabs/tabs';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport {Location} from '@angular/common'; \nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\n\n@Component({\n  selector: 'app-connect-chat',\n  templateUrl: './connect-chat.page.html',\n  styleUrls: ['./connect-chat.page.scss'],\n})\nexport class ConnectChatPage implements OnInit {\n\n//  @ViewChild(IonContent) contentArea: IonContent;\n  @ViewChild('contentArea') private contentArea: any;\n\n  /**\n   * @member userDetails Contains the user details who is logged in from local storage\n   * @member chat used to store the chat infromation coming from last page\n   * @member message typing meessage\n   * @member messages contains all the messages\n   * @member lastMessageId contains the id of last message\n   * @member chatInterval will store the interval \n   * @member lang Contains the language translation object\n   */\n  userDetails: any = {};\n  chat: any = {};\n  message: string = \"\";\n  messages: any = [];\n  lastMessageId: number = 0;\n  chatInterval: any;\n  attachment:string = '';\n  lang:any = {}\n  image:string = '';\n  navData:any;\n  \n  /**\n   * Class list constructor\n   * @param navCtrl Use for navigation between pages\n   * @param app   Root app \n   * @param dataProvider  Use for getting data from the API\n   * @param authProvider  Use for authentication purpose\n   * @param viewCtrl View controller \n   */\n  constructor(public navCtrl: NavController, \n  \t\t\t//  public viewCtrl: ViewController, \n  \t\t\t//  public app: App,\n  \t\t\t  public translate: TranslateService,\n    \t\t  public dataProvider: DataService, \n    \t\t  public authProvider: AuthService, \n    \t\t // public navParams: NavParams, \n    \t\t  public alertCtrl: AlertController,\n              private _location: Location,\n              private photoViewer: PhotoViewer,\n                private router:Router,\n              private route : ActivatedRoute,\n    public camera: Camera) {\n  \t  \tthis.route.queryParams.subscribe(params => {\n\t      if (this.router.getCurrentNavigation().extras.state) {\n\t      \t\t this.chat = this.router.getCurrentNavigation().extras.state;\n             console.log(this.navData);\n                 this.userDetails = JSON.parse(localStorage.getItem(\"userloggedin\"));\n                 console.log(this.userDetails);\n\t\t    this.messages.push({\n\t\t      datetime: this.chat.created,\n\t\t      message: this.chat.message,\n\t\t      receiver: this.userDetails.details.user_type == '1' ? 'true' : 'false',\n\t\t      msg_from: this.chat.parent_user_no,\n\t\t      msg_to: this.chat.school_id,\n\t\t      attachment_url: this.chat.message_image,\n\t\t      id: 0\n\t\t    });\n\t\t    this.getInitialChat();\n\t\t    this.chatInterval = setInterval(() => {\n\t\t      this.getChats(this.lastMessageId);\n\t\t    }, 5000);\n\t      }\n\t    });\n      this.translate.get(\"alertmessages\").subscribe((response) => {\n        this.lang = response;\n      })\n  }\n\n  /**\n   * Ionic navigation event will run when page is loaded\n   */\n  ionViewWillEnter() {\n  }\n    showPhoto(url){\n    this.photoViewer.show(url);\n  }\n\n  /**\n   * Get the initial chat when user comes to this page\n   */\n  getInitialChat() {\n    this.dataProvider.showLoading();\n    let data = {\n      user_no: this.userDetails.details.user_no,\n      school_id: this.userDetails.details.school_id,\n      user_type: this.userDetails.details.user_type,\n      session_id: this.userDetails.session_id,\n      chat_id: this.chat.id,\n      last_msg_id: 0\n    }\n    this.dataProvider.getParentConnectChatMessages(data).then((response) => {\n      this.dataProvider.hideLoading();\n      if (response.session) {\n        let length = response.chat.length;\n        if (length > 0) {\n          response.chat.forEach((message) => {\n            this.messages.push(message)\n          })\n          this.lastMessageId = response.chat[length - 1].id;\n          setTimeout(() => {\n            if (this.contentArea) {\n              this.contentArea.scrollToBottom(300);\n            }\n          });\n        }\n      } else {\n       // this.authProvider.flushLocalStorage();\n        this.dataProvider.errorALertMessage(response.message);\n       this.router.navigate(['login'], { replaceUrl: true });\n      }\n    }).catch((error) => {\n      this.dataProvider.hideLoading();\n      // this.dataProvider.errorALertMessage(error);\n    })\n  }\n\n  /**\n   * Get the chat after the last message\n   * @param lastMessageId Contains the last message id\n   */\n  getChats(lastMessageId) {\n    let data = {\n      user_no: this.userDetails.details.user_no,\n      school_id: this.userDetails.details.school_id,\n      user_type: this.userDetails.details.user_type,\n      session_id: this.userDetails.session_id,\n      chat_id: this.chat.id,\n      last_msg_id: lastMessageId\n    }\n    this.dataProvider.getParentConnectChatMessages(data).then((response) => {\n      if (response.session) {\n        let length = response.chat.length;\n        if (length > 0) {\n          let msgLength = this.messages.length;\n          response.chat.forEach((message) => {\n            if (message.id < this.messages[msgLength - 1].id) {\n              this.messages.push(message);\n            } else {\n              let msg = this.messages.filter((oldMsg) => {\n                return oldMsg.id == message.id;\n              })\n              if (msg.length == 0) {\n                this.messages.push(message);\n              }\n            }\n          })\n          setTimeout(() => {\n            if (this.contentArea._scroll) {\n              this.contentArea.scrollToBottom(10)\n            }\n          });\n          this.lastMessageId = response.chat[length - 1].id;\n        }\n      } else {\n       // this.authProvider.flushLocalStorage();\n        this.dataProvider.errorALertMessage(response.message);\n       this.router.navigate(['login'], { replaceUrl: true });\n      }\n    }).catch((error) => {\n      // this.dataProvider.errorALertMessage(error);\n      console.log(error);\n    })\n  }\n\n  /**\n   * Used to dismiss the modal opened for the chat\n   */\n  dismiss() {\n    if (this.chatInterval) {\n      clearInterval(this.chatInterval);\n    }\n    this._location.back();\n    // this.viewCtrl.dismiss();\n  }\n\n  /**\n   * Send the message to provider\n   */\n  sendMessage() {\n    if ((this.message && this.message.trim() != '') || this.attachment != '') {\n      if (this.message.length > 140) {\n        this.dataProvider.showToast(this.lang.max_body)\n      } else {\n        this.image = '';\n        this.dataProvider.showLoading();\n        let data = {};\n        if (this.userDetails.details.user_type == '4' || this.userDetails.details.user_type == '8') {\n          data = {\n            session_id: this.userDetails.session_id,\n            user_no: this.userDetails.details.user_no,\n            user_type: this.userDetails.details.user_type,\n            chat_msg: {\n              connect_id: this.chat.id,\n              msg_from: this.userDetails.details.user_no,\n              msg_to: this.userDetails.details.school_id,\n              message: this.message,\n              attachment_url: this.attachment\n            }\n          }\n        } else if (this.userDetails.details.user_type == '1') {\n          data = {\n            session_id: this.userDetails.session_id,\n            user_no: this.userDetails.details.user_no,\n            user_type: this.userDetails.details.user_type,\n            chat_msg: {\n              connect_id: this.chat.id,\n              msg_from: this.userDetails.details.school_id,\n              msg_to: this.chat.parent_user_no,\n              admin_user_no: this.userDetails.details.user_no,\n              message: this.message,\n              attachment_url: this.attachment\n            }\n          }\n        }\n        this.dataProvider.sendParentConnectChatMsg(data).then((response) => {\n          this.dataProvider.hideLoading();\n          if (response.session) {\n            this.dataProvider.showToast(response.message);\n            if (this.lastMessageId < response.msg_id) {\n              if(response.attachment_url){\n                this.messages.push({\n                  receiver: 'false',\n                  message: this.message,\n                  id: response.msg_id,\n                  attachment_url: response.attachment_url\n                });\n              }else{\n                this.messages.push({\n                  receiver: 'false',\n                  message: this.message,\n                  id: response.msg_id\n                });\n              }\n              setTimeout(() => {\n                if (this.contentArea._scroll) {\n                  this.contentArea.scrollToBottom(10)\n                }\n              });\n            }\n            this.message = '';\n            this.attachment = '';\n          } else {\n           // this.authProvider.flushLocalStorage();\n            this.dataProvider.errorALertMessage(response.message);\n           this.router.navigate(['login'], { replaceUrl: true });\n          }\n        }).catch((error) => {\n          this.dataProvider.hideLoading();\n          this.dataProvider.errorALertMessage(error);\n        })\n      }\n    }\n  }\n\n  /**\n   * alert to show image take choice\n   */\n async takePicture(){\n  const alert=await this.alertCtrl.create({\n      header: this.lang.image_option,\n      buttons: [\n        {\n          text: this.lang.camera,\n          handler: ()=>{\n            this.openCamera();\n          }\n        },\n        {\n          text: this.lang.gallery,\n          handler: ()=>{\n            this.openGallery()\n          }\n        }\n      ]\n    })\n  await alert.present();\n  }\n\n  /**\n   * mobile camera to take image \n   */\n  openCamera(){\n    let options: CameraOptions = {\n      quality: 100,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.PNG,\n      mediaType: this.camera.MediaType.PICTURE,\n      allowEdit: true,\n      correctOrientation: true,\n      sourceType: this.camera.PictureSourceType.CAMERA,\n      targetHeight: 500,\n      targetWidth: 500\n    }\n\n    this.camera.getPicture(options).then((imageData)=>{\n      if(imageData){\n        this.attachment = \"data:image/png;base64,\"+imageData;\n        this.image = 'data:image/jpeg;base64,'+imageData;\n      }\n    })\n  }\n\n  /**\n   * Open gallery to take image\n   */\n  openGallery(){\n    let options: CameraOptions = {\n      quality: 100,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.PNG,\n      mediaType: this.camera.MediaType.PICTURE,\n      allowEdit: true,\n      correctOrientation: true,\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      targetHeight: 500,\n      targetWidth: 500\n    }\n\n    this.camera.getPicture(options).then((imageData)=>{\n      if(imageData){\n        this.attachment = \"data:image/png;base64,\"+imageData;\n        this.image = 'data:image/jpeg;base64,'+imageData;\n      }\n    })\n  }\n\n  downloadImage(imageUrl){\n    this.dataProvider.showLoading();\n    this.dataProvider.downloadImage(imageUrl).then((res)=>{\n      this.dataProvider.hideLoading();\n      this.dataProvider.showToast(this.lang.download_complete);\n    }).catch((error)=>{\n      this.dataProvider.hideLoading();\n      this.dataProvider.errorALertMessage(error);\n    })\n  }\n\n\n  ngOnInit() {\n  } \n\n}\n","export default \"<ion-header mode=\\\"md\\\">\\n  <ion-toolbar>\\n  \\t<ion-buttons slot=\\\"end\\\">\\n  \\t\\t<ion-back-button>\\n  \\t\\t</ion-back-button>\\n  \\t</ion-buttons>\\n\\n    <ion-row no-padding no-margin *ngIf=\\\"chat\\\">\\n      <ion-col size=\\\"2\\\" no-padding no-margin>\\n        <img class=\\\"avatar-img\\\" [src]=\\\"chat.pic\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/logo.png';\\\" imageViewer  (click)=\\\"showPhoto(chat.pic)\\\"/>\\n      </ion-col>\\n      <ion-col size=\\\"10\\\" align-self-center no-padding no-margin text-right>\\n        <h6>{{chat.name}}</h6>\\n      </ion-col>\\n    </ion-row> \\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding #contentArea class=\\\"right-direction\\\" mode=\\\"md\\\">\\n  <div *ngFor=\\\"let message of messages; let i = index\\\">\\n    <ion-row *ngIf=\\\"message.receiver == 'false'\\\"\\n      [class.margintop]=\\\"i > 0 && messages[i-1].receiver != message.receiver\\\">\\n      <ion-col size=\\\"4\\\" align-self-center no-padding></ion-col>\\n      <ion-col size=\\\"8\\\" align-self-center text-right no-padding>\\n        <div class=\\\"sender-message\\\"\\n          [class.sender-message-first-child]=\\\"(i > 0 && messages[i-1].receiver != message.receiver) || i==0\\\">\\n          <span>{{message.message}}</span>\\n          <div class=\\\"image-sec\\\" *ngIf=\\\"message.attachment_url != '' && message.attachment_url != undefined\\\">\\n            <img class=\\\"connectImg\\\" [src]=\\\"message.attachment_url\\\" imageViewer (click)=\\\"showPhoto(message.attachment_url)\\\" />\\n          </div>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"message.receiver == 'true'\\\" [class.margintop]=\\\"i > 0 && messages[i-1].receiver != message.receiver\\\">\\n      <ion-col size=\\\"8\\\" align-self-center no-padding>\\n        <div class=\\\"receiver-message\\\"\\n          [class.receiver-message-first-child]=\\\"(i > 0 && messages[i-1].receiver != message.receiver) || i==0\\\">\\n          <ul>\\n            <li class=\\\"sender-name\\\">{{message.senderName}}</li>\\n            <li>{{message.message}}</li>\\n            <li class=\\\"image-sec\\\" *ngIf=\\\"message.attachment_url != '' && message.attachment_url != undefined\\\">\\n              <img class=\\\"connectImg\\\" [src]=\\\"message.attachment_url\\\" imageViewer (click)=\\\"showPhoto(message.attachment_url)\\\" />\\n              <div class=\\\"download-button\\\">\\n                <ion-button ion-button small icon-only outline color=\\\"white\\\" (click)=\\\"downloadImage(message.attachment_url)\\\">\\n                  <ion-icon name=\\\"download\\\" color=\\\"dark\\\" style=\\\"font-size: 25px;\\\"></ion-icon>\\n                </ion-button>\\n              </div>\\n            </li>\\n          </ul>\\n        </div>\\n      </ion-col>\\n      <ion-col size=\\\"4\\\" align-self-center no-padding></ion-col>\\n    </ion-row>\\n  </div>\\n</ion-content>\\n<ion-footer *ngIf=\\\"chat && chat.ticket_status == '0'\\\" style=\\\"background: #fff;color: #000;\\\">\\n  <ion-item class=\\\"post-image-sec\\\" *ngIf=\\\"image != ''\\\">\\n    <img [src]=\\\"image\\\" class=\\\"post-image\\\" />\\n  </ion-item>\\n  <ion-row>\\n    <ion-col size=\\\"8.5\\\">\\n      <ion-input class=\\\"message\\\" [(ngModel)]=\\\"message\\\" text-right\\n        placeholder=\\\"{{'parentconnect_chat.typehere'| translate}}\\\"></ion-input>\\n    </ion-col>\\n    <ion-col size=\\\"1.5\\\">\\n      <ion-button class=\\\"attech-btn\\\"  clear small icon-only color=\\\"menu-color\\\" (click)=\\\"takePicture()\\\">\\n        <ion-icon name=\\\"attach\\\" style=\\\"color:#000\\\"></ion-icon>\\n      </ion-button>\\n    </ion-col>\\n    <ion-col size=\\\"2\\\" class=\\\"send-icon\\\">\\n      <ion-fab>\\n        <ion-button ion-fab mini class=\\\"send-btn\\\"  (click)=\\\"sendMessage()\\\">\\n          <ion-icon name=\\\"send\\\"></ion-icon>\\n        </ion-button>\\n      </ion-fab>\\n    </ion-col>\\n  </ion-row>\\n</ion-footer>\";"],"sourceRoot":"webpack:///"}