{"version":3,"sources":["webpack:///src/app/common-modal/view-class-notes/view-class-notes.page.scss","webpack:///src/app/common-modal/view-class-notes/view-class-notes.page.ts","webpack:///src/app/common-modal/view-class-notes/view-class-notes.module.ts","webpack:///src/app/common-modal/view-class-notes/view-class-notes-routing.module.ts","webpack:///src/app/common-modal/view-class-notes/view-class-notes.page.html"],"names":["ViewClassNotesPage","navCtrl","translate","dataProvider","authProvider","documentService","alertCtrl","route","photoViewer","zone","router","modalController","get","subscribe","res","lang","queryParams","params","getCurrentNavigation","extras","state","navData","course","console","log","data","dismiss","url","show","localStorage","getItem","userDetails","JSON","parse","userType","details","user_type","cloeModal","navigation","run","navigate","pdf","window","open","note","create","header","delete_note","backdropDismiss","mode","buttons","text","handler","note_id","notes_id","deleteNote","alert_btn_cancel_text","alert","present","studentData","user_no","session_id","cid","school_id","getAllClassNotes","then","notes","error","selector","template","ViewClassNotesPageModule","imports","declarations","routes","path","component","ViewClassNotesPageRoutingModule","forChild","exports"],"mappings":"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","file":"common-modal-view-class-notes-view-class-notes-module-es5.js","sourcesContent":["export default \".trash {\\n  float: left;\\n  font-size: 25px;\\n  padding: 2px;\\n  color: #eb445a;\\n}\\n\\n.pdf-div img {\\n  width: 36vw;\\n  height: 20vh;\\n}\\n\\n.pdf-div ion-icon {\\n  font-size: 47px;\\n  position: absolute;\\n  right: 9vh;\\n  top: 8vh;\\n  color: #2979ff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3ZpZXctY2xhc3Mtbm90ZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksV0FBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtBQUFKOztBQUlDO0VBQ0ssV0FBQTtFQUNBLFlBQUE7QUFETjs7QUFHQztFQUNDLGVBQUE7RUFDRyxrQkFBQTtFQUNBLFVBQUE7RUFDQSxRQUFBO0VBQ0EsY0FBQTtBQURMIiwiZmlsZSI6InZpZXctY2xhc3Mtbm90ZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRyYXNoe1xyXG5cdFxyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBmb250LXNpemU6IDI1cHg7XHJcbiAgICBwYWRkaW5nOiAycHg7XHJcbiAgICBjb2xvcjogI2ViNDQ1YTtcclxuXHJcbn1cclxuLnBkZi1kaXZ7XHJcblx0aW1ne1xyXG5cdFx0ICAgIHdpZHRoOiAzNnZ3O1xyXG4gICAgXHRcdGhlaWdodDogMjB2aDtcclxuXHR9XHJcblx0aW9uLWljb257XHJcblx0XHRmb250LXNpemU6IDQ3cHg7XHJcblx0ICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHQgICAgcmlnaHQ6IDl2aDtcclxuXHQgICAgdG9wOiA4dmg7XHJcblx0ICAgIGNvbG9yOiAjMjk3OWZmO1xyXG5cdH1cclxufSJdfQ== */\";","import { Component, OnInit, Input,NgZone } from '@angular/core';\nimport { NavController, AlertController, ModalController } from '@ionic/angular';\nimport { AuthService } from '../../service/auth/auth.service';\nimport { DataService } from '../../service/data/data.service';\nimport { DatabaseService } from '../../service/database/database.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport {CreateClassPage } from '../../create-class/create-class.page';\nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\nimport {DocumentService} from '../../service/document/document.service';\n@Component({\n  selector: 'app-view-class-notes',\n  templateUrl: './view-class-notes.page.html',\n  styleUrls: ['./view-class-notes.page.scss'],\n})\nexport class ViewClassNotesPage implements OnInit {\n\t@Input() data;\n  @Input() state;\n\tlang:any;\n  userDetails:any;\n  userType:any;\n  navData:any;\n  notes:any;\n  \n   constructor(public navCtrl: NavController, \n             // public app: App, \n              public translate: TranslateService,\n             public dataProvider: DataService, \n              public authProvider: AuthService,  \n              //public events: Events,\n              private documentService:DocumentService,\n              public alertCtrl: AlertController, \n              private route : ActivatedRoute,\n              private photoViewer: PhotoViewer,\n              public zone:NgZone,\n              private router:Router,\n              public modalController: ModalController) {\n                this.translate.get(\"alertmessages\").subscribe((res)=>{\n                  this.lang = res;\n                })\n      this.route.queryParams.subscribe(params => {\n        if (this.router.getCurrentNavigation().extras.state) {\n             this.navData = this.router.getCurrentNavigation().extras.state.course;\n            console.log(this.navData);\n        }\n      });\n              }\n\n  ngOnInit() {\n    console.log('moda',this.data);\n  }\n  cloeModal(){\n  \tthis.modalController.dismiss();\n  }\n  showPhoto(url){\n    console.log(url);\n    this.photoViewer.show(url);\n  }\n  ionViewWillEnter(){\n      if (localStorage.getItem(\"userloggedin\")) {\n      this.userDetails = JSON.parse(localStorage.getItem(\"userloggedin\"));\n      this.userType = this.userDetails.details.user_type;\n    }\n  }\n\n    addNotes(){\n      this.cloeModal();\n    const navigation: NavigationExtras = {\n            state :{\n              state:this.state,\n              data:this.data\n            }\n            \n          };\n        //console.log(navigation);\n        this.zone.run(() => {\n          this.router.navigate(['add-notes'], navigation);\n        });\n    //this.router.navigate(['add-notes']);\n  }\n  \n  openPdf(pdf){\n    //  window.open(pdf,'_blank')\n   // this.documentService.openPdf(pdf,true);\n   window.open(pdf, '_system');\n  }\n    async deleteNote(note){\n     const alert= await this.alertCtrl.create({\n      header: this.lang.delete_note,\n      backdropDismiss: true,\n      mode:'ios',\n      buttons: [\n        {\n          text: this.lang.delete,\n          handler: ()=>{\n                   console.log(note);\n                    let data={\n                      note_id:note.notes_id\n                    }\n                    this.authProvider.deleteNote(data);\n                    this.cloeModal();\n\n          }\n        },\n        {\n          text: this.lang.alert_btn_cancel_text,\n          handler: ()=>{\n             \n\n          }\n        }\n      ]\n    }) \n   await alert.present();\n  }\n\n    getAllClassNotes(){\n      let course = this.navData;\n      let studentData = {\n        \"user_no\": this.userDetails.details.user_no,\n        \"session_id\": this.userDetails.session_id,\n        \"course_id\": course.cid,\n        \"school_id\": this.userDetails.details.school_id,\n      }\n      this.dataProvider.getAllClassNotes(studentData).then(res=>{\n        console.log(res);\n        if(res){\n         // this.dataProvider.viewNotes(res);\n         this.notes=res;\n        }\n      }).catch(error=>{\n        console.log(error);\n      })\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ViewClassNotesPageRoutingModule } from './view-class-notes-routing.module';\n\nimport { ViewClassNotesPage } from './view-class-notes.page';\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    PipesModule,\n    IonicModule,\n    ViewClassNotesPageRoutingModule\n  ],\n  declarations: [ViewClassNotesPage]\n})\nexport class ViewClassNotesPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ViewClassNotesPage } from './view-class-notes.page';\n\nconst routes: Routes = [\n  {\n    path: 'view-class-notes',\n    component: ViewClassNotesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ViewClassNotesPageRoutingModule {}\n","export default \"<ion-header mode=\\\"md\\\">\\n  <ion-toolbar>\\n  \\t<ion-buttons slot=\\\"end\\\">\\n  \\t\\t<ion-button class=\\\"small_btn_header\\\"  small clear icon-only (click)=\\\"addNotes()\\\">\\n            <ion-icon name=\\\"add\\\" class=\\\"add-circle\\\" item-end color=\\\"icon-header\\\"></ion-icon>\\n        </ion-button>\\n  \\t\\t<ion-button icon-only (click)=\\\"cloeModal()\\\">\\n  \\t\\t\\t<ion-icon name=\\\"close-circle-outline\\\"></ion-icon>\\n  \\t\\t</ion-button>\\n  \\t</ion-buttons>\\n    <ion-title>{{'student_notes.pagetitle' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content mode=\\\"md\\\">\\n    <div *ngIf=\\\"data\\\">\\n\\t\\t<ion-card *ngFor=\\\" let note of data\\\">\\n\\t\\t\\t<ion-card-header>\\n\\t\\t\\t\\t<span style=\\\"float: left;\\\">{{note.datetime| dateFormat}}</span>\\n\\t\\t\\t\\t<ion-item style=\\\"width: 100%;\\\" *ngIf=\\\"note.profile\\\">\\n\\t\\t\\t\\t\\t<ion-avatar slot=\\\"start\\\">\\n\\t\\t\\t\\t\\t\\t<img src=\\\"{{note.profile.pic}}\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/logo.png';\\\">\\n\\t\\t\\t\\t\\t</ion-avatar>\\n\\t\\t\\t\\t\\t<ion-label>\\n\\t\\t\\t\\t\\t\\t<h3>{{note.profile.first_name}}</h3>\\n\\t\\t\\t\\t\\t\\t<p>{{note.profile.email_id}}</p>\\n\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t</ion-card-header>\\n\\t\\t\\t<ion-card-content>\\n\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t{{note.description}}\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<div *ngIf=\\\"note.file_link\\\" class=\\\"pdf-div\\\" (click)=\\\"openPdf(note.file_link)\\\">\\n\\t\\t          <img  [src]=\\\"'bullet.documents.image'\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/pdf.png';\\\">\\n\\t\\t            <ion-icon name=\\\"document-attach-outline\\\"></ion-icon>\\n\\t\\t        </div>\\n\\t\\t\\t\\t<!-- <a   href=\\\"\\\"><ion-icon name=\\\"attach\\\"></ion-icon></a> -->\\n\\t\\t\\t\\t<img *ngIf=\\\"note.image_file\\\" [src]=\\\"note.image_file\\\" class=\\\"images\\\" (click)=\\\"showPhoto(note.image_file)\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/logo.png';\\\">\\n\\t\\t\\t\\t<ion-icon class=\\\"trash\\\" name=\\\"trash-outline\\\" (click)=\\\"deleteNote(note)\\\"></ion-icon>\\n\\t\\t\\t</ion-card-content>\\n\\t\\t</ion-card>\\n    </div>\\n\\n</ion-content>\\n\";"]}