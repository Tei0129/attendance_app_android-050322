{"version":3,"sources":["./src/app/post-news/post-news.module.ts","./src/app/post-news/post-news.page.html","./src/app/post-news/post-news.page.ts","./src/app/post-news/post-news.page.scss","./src/app/post-news/post-news-routing.module.ts"],"names":[],"mappings":"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","file":"post-news-post-news-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PostNewsPageRoutingModule } from './post-news-routing.module';\n\nimport { PostNewsPage } from './post-news.page';\nimport { PipesModule } from '../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PipesModule,\n    PostNewsPageRoutingModule\n  ],\n  declarations: [PostNewsPage]\n})\nexport class PostNewsPageModule {}\n","export default \"<ion-header mode=\\\"md\\\">\\n  <ion-toolbar>\\n   \\t<ion-buttons slot=\\\"end\\\" class=\\\"back-btn\\\">\\n      <!-- <ion-icon name=\\\"arrow-back-outline\\\" (click)=\\\"moveBack()\\\"></ion-icon> -->\\n      <ion-back-button></ion-back-button>\\n   \\t</ion-buttons>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title text-right>{{'post_news.title'| translate}}</ion-title>\\n  </ion-toolbar>\\n\\n</ion-header>\\n<ion-content padding class=\\\"right-direction\\\" mode=\\\"md\\\">\\n  <form #privateMessage='ngForm' class=\\\"fform\\\">\\n    <!-- <div class=\\\"subject\\\">\\n      <ion-item>\\n        <ion-input type=\\\"hidden\\\"  class=\\\"message\\\" placeholder=\\\"{{'post_news.news_title'| translate}}\\\"\\n          [(ngModel)]=\\\"news.title\\\" text-right name=\\\"title\\\" #title='ngModel' required></ion-input>\\n      </ion-item>\\n    </div> -->\\n    <div class=\\\"subject\\\">\\n      <ion-item>\\n        <ion-textarea rows=\\\"10\\\" cols=\\\"20\\\" placeholder=\\\"{{'post_news.news_description'| translate}}\\\"\\n          [(ngModel)]=\\\"news.news_description\\\" text-right name=\\\"msg_body\\\" #msg_body='ngModel' required maxlength=\\\"300\\\">\\n        </ion-textarea>\\n      </ion-item>\\n      <ion-button class=\\\"attachment\\\" icon-only  (click)=\\\"takePicture()\\\">\\n        <ion-icon name=\\\"image-outline\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button class=\\\"attachment-video\\\" icon-only  (click) = \\\"takeVideo()\\\">\\n        <ion-icon name=\\\"videocam-outline\\\"></ion-icon>\\n      </ion-button>\\n    </div>\\n    <div class=\\\"attach-image\\\" *ngIf = \\\"safeUrl && mediaKey == 'image'\\\">\\n      <img src = \\\"assets/imgs/image.png\\\"/>\\n    </div>\\n    <div class=\\\"attach-image\\\" *ngIf = \\\"safeUrl && mediaKey == 'video'\\\">\\n      <video src = \\\"assets/imgs/image\\\" style=\\\"height: 76px;\\\"></video>\\n    </div>\\n  </form>\\n</ion-content>\\n<ion-footer>\\n <ion-button  expand=\\\"full\\\" class=\\\"send-btn\\\" color=\\\"dark\\\"\\n   (click)=\\\"sendNews()\\\">{{'post_news.post'| translate}}</ion-button>\\n    <!-- (click)=\\\"sendMessage()\\\" -->\\n</ion-footer>\";","import { Component, OnInit } from '@angular/core';\nimport { NavController, Platform,AlertController } from '@ionic/angular';\nimport { AuthService } from '../service/auth/auth.service';\nimport { DataService } from '../service/data/data.service';\nimport { FileUploadService } from '../service/file-upload/file-upload.service';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router} from '@angular/router';\nimport { LocationService } from '../service/location/location.service';\n// import { FileChooser } from '@ionic-native/file-chooser/ngx';\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions,CaptureVideoOptions } from '@ionic-native/media-capture/ngx';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { File, FileEntry } from '@ionic-native/file/ngx';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport {GeoServiceProvider} from '../service/geo-service/geo-service';\nimport { environment } from '../../environments/environment';\nconst env = environment;\n@Component({\n  selector: 'app-post-news',\n  templateUrl: './post-news.page.html',\n  styleUrls: ['./post-news.page.scss'],\n})\nexport class PostNewsPage implements OnInit {\n\tnews={\n\t\t'title':'Title',\n\t\t'news_description':'',\n    'user_no':'',\n    'user_type':'',\n    'type':'',\n    'school_id':'school_id',\n    'countryCode':''\n\t}\n  media:any;\n  mediaName:any;\n  mediaKey:any;\n  mediaType:any;\n  safeUrl:any;\n  lang: any = {};\n  userDetails: any = {};\n  country_code:any;\n  location_lang:any;\n  items:any;\n  videoFileUpload:any;\n  formdata:any=new FormData();\n  /**\n   *\n   * @param navCtrl Navigation controller\n   * @param translate used from translation messages\n   * @param dataProvider data provider\n   * @param camera used for taking images\n   * @param alertCtrl use for alert popup\n   */\n  constructor(public navCtrl: NavController,\n  \t \t\t      public translate: TranslateService,\n              public dataProvider: DataService,\n              public camera: Camera,\n              public locationSrevice:LocationService,\n              private router: Router,\n              private file:File,\n              private geo:GeoServiceProvider,\n              private mediaCapture: MediaCapture, \n              private fileUpload:FileUploadService,\n              // private fileChooser: FileChooser,\n              private transfer: FileTransfer,\n              public alertCtrl: AlertController,\n              private DomSanitizer: DomSanitizer) {\n    this.translate.get(\"alertmessages\").subscribe((res) => {\n      this.lang = res;\n    })\n\n    this.translate.get(\"location\").subscribe((res)=>{\n      this.location_lang = res;\n    })\n    this.getLocation()\n  }\n\n  getLocation(){\n    // this.locationSrevice.checkGPSPermission(resp=>{\n    //   this.country_code=resp.countryCode;\n    //   this.news.countryCode=resp.country_code;\n    // },e=>{\n    //  this.dataProvider.showToast(this.location_lang.location_error);\n    //   console.log(e);\n    // });\n    this.geo.getMyLocation().then(resp=>{\n      console.log(resp.countrycode);\n      if(resp!=''){\n        this.country_code=resp.countryCode;\n          // this.news.countryCode=resp.country_code;\n      }else{\n        this.dataProvider.showToast(this.location_lang.location_error);\n      }\n    })\n  }\n\n\n  /**\n   * Ionic navigation event will run when page is loaded\n   */\n  ionViewWillEnter() {\n    this.userDetails = JSON.parse(localStorage.getItem(\"userloggedin\"));\n   console.log(this.userDetails);\n    this.news.user_no=this.userDetails.details.user_no;\n    this.news.user_type=this.userDetails.details.user_type;\n    this.news.school_id=this.userDetails.details.school_id;\n\n  }\n\n  /**\n   * Used to send the message\n   */\n   moveBack(){\n     this.router.navigate(['tabs/messages']);\n   }\n\n  sendNews(){\n    if(this.userDetails){\n       if(this.news.news_description=='' || this.news.news_description.length>300){\n        this.dataProvider.showToast(this.lang.max_body);\n      }else{\n        this.news.type=this.mediaType;\n            this.fileUpload.uploadfile(this.media,this.news,'postNews',res=>{\n              console.log('resPage',res);\n              if(res){\n                  this.router.navigate(['tabs/news']);\n                  this.dataProvider.showToast(this.lang.news_posted);\n                  this.news={\n                    'title':'title',\n                    'news_description':'',\n                    'user_no':'',\n                    'type':'',\n                    'user_type':'',\n                    'school_id':'',\n                    'countryCode':''\n                  }\n                  this.media = '';\n                  this.safeUrl=false;\n              }else{\n                this.dataProvider.showToast(this.lang.usnexpectedError);\n              }\n            });\n          // this.uploadData(this.media,this.news);\n          // this.startUpload(this.media,this.news);\n      }\n    }else{\n      this.dataProvider.showToast(this.lang.user_not_exist);\n    }\n  }\n\n\n\n  /**\n   * alert to show image take choice\n   */\n async takePicture(){\n  const alert=await this.alertCtrl.create({\n      header: this.lang.image_option,\n      buttons: [\n        {\n          text: this.lang.camera,\n          handler: ()=>{\n            this.openCamera(this.camera.PictureSourceType.CAMERA);\n          }\n        },\n        {\n          text: this.lang.gallery,\n          handler: ()=>{\n            //this.openGallery()\n            this.openCamera(this.camera.PictureSourceType.PHOTOLIBRARY);\n          }\n        }\n      ]\n    })\n  await alert.present();\n  }\n  async takeVideo(){\n  const alert=await this.alertCtrl.create({\n      header: this.lang.video_option,\n      buttons: [\n        {\n          text: this.lang.camera,\n          handler: ()=>{\n            this.openVideoCamera();\n          }\n        },\n        {\n          text: this.lang.gallery,\n          handler: ()=>{\n            this.openVideoGallery()\n          }\n        }\n      ]\n    })\n  await alert.present();\n  }\n\n  openVideoCamera(){\n    let options: CaptureVideoOptions = { limit: 1 };\n    this.mediaCapture.captureVideo(options)\n     .then((videodata)  => {\n       console.log(videodata);\n        this.media=videodata[0].fullPath;\n        this.safeUrl=this.DomSanitizer.bypassSecurityTrustResourceUrl(this.media);\n        this.mediaKey='video',\n        this.mediaType='video/mp4'\n     }).catch(error=>{\n       console.log(error);\n     })\n\n  }\n async openVideoGallery(){\n    let options: CameraOptions = {\n      destinationType: this.camera.DestinationType.NATIVE_URI,\n      mediaType: this.camera.MediaType.VIDEO,\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY\n    }\n    this.dataProvider.showLoading();\n    this.camera.getPicture(options).then(async(videoData)=>{\n      this.dataProvider.hideLoading();\n        if(videoData){\n          console.log(videoData);\n            var filename = videoData.substr(videoData.lastIndexOf('/') + 1);\n            var dirpath = videoData.substr(0, videoData.lastIndexOf('/') + 1);\n\n            dirpath = dirpath.includes(\"file://\") ? dirpath : \"file://\" + dirpath;\n\n            try {\n              var dirUrl = await this.file.resolveDirectoryUrl(dirpath);\n              var retrievedFile = await this.file.getFile(dirUrl, filename, {});\n              console.log(dirUrl,retrievedFile);\n\n            } catch(err) {\n\n            }\n            retrievedFile.file( data => {\n                this.media = retrievedFile.nativeURL;\n                this.safeUrl=this.DomSanitizer.bypassSecurityTrustResourceUrl(this.media);\n                this.mediaKey='video',\n                this.mediaType='video/mp4'\n            })\n        }\n    }).catch(()=>this.dataProvider.hideLoading())\n  }\n\n  /**\n   * mobile camera to take image\n   */\n  openCamera(type:any){\n    let options: CameraOptions = {\n       quality: 100,\n      // destinationType: this.camera.DestinationType.NATIVE_URI,\n      // //destinationType: this.camera.DestinationType.DATA_URL,\n      // encodingType: this.camera.EncodingType.PNG,\n      // mediaType: this.camera.MediaType.PICTURE,\n      // allowEdit: true,\n      // correctOrientation: true,\n      sourceType: type\n    }\n    this.dataProvider.showLoading();\n    this.camera.getPicture(options).then((imageData)=>{\n      this.dataProvider.hideLoading();\n      if(imageData){\n        console.log('camera',imageData);\n        this.media=imageData;\n        this.safeUrl=this.DomSanitizer.bypassSecurityTrustResourceUrl(this.media);\n        this.mediaKey='image',\n        this.mediaType='image/png'\n      }\n    }).catch(()=>this.dataProvider.hideLoading())\n  }\n\n\n  ngOnInit() {\n  }\n\n//     startUpload(imgEntry,data) {\n//       this.dataProvider.showLoading();\n//     if(imgEntry){\n//       this.file.resolveLocalFilesystemUrl(imgEntry).then(entry => {\n//               ( < FileEntry > entry).file(file => this.readFile(file,data))\n//           })\n//           .catch(err => {\n//               // this.presentToast('Error while reading file.');\n//           });\n//     }else{\n//       this.uploadDataToServer(data);\n//     }\n// }\n \n// readFile(file: any,data) {\n//   console.log('file',file)\n//     const reader = new FileReader();\n//     reader.onload = () => {\n//         const formData = new FormData();\n//         const imgBlob = new Blob([reader.result], {\n//             type: file.type\n//         });\n//         console.log('imgBlob',imgBlob,file.name);\n//         this.uploadDataToServer(data,imgBlob,file.name)\n//         // formData.append('file', imgBlob, file.name);\n//         // this.uploadImageData(formData);\n//     };\n//     reader.readAsArrayBuffer(file);\n// }\n\n\n//   uploadDataToServer(data,imgBlob?:any,fileName?:any){\n//     console.log(data,imgBlob,fileName);\n//     Object.keys(data).map((key) => {\n//         this.formdata.append(key, data[key]);\n//     })\n//     if(imgBlob){\n//       this.formdata.append('file', imgBlob, fileName);\n//     }\n//     this.fileUpload.uploadByBlob(this.formdata);\n    \n//     // this.dataProvider.addNews(this.formdata,data.school_id).subscribe(res=>{\n//     //   console.log(res);\n//     //     this.dataProvider.hideLoading();\n//     //         this.router.navigate(['tabs/news']);\n//     //         this.dataProvider.showToast(this.lang.news_posted);\n//     //         this.news={\n//     //           'title':'title',\n//     //           'news_description':'',\n//     //           'user_no':'',\n//     //           'type':'',\n//     //           'user_type':'',\n//     //           'school_id':'',\n//     //           'countryCode':''\n//     //         }\n//     //         this.media = '';\n//     //         this.safeUrl=false;\n//     //     },e=>{\n//     //       this.dataProvider.hideLoading();\n//     //        this.dataProvider.showToast(this.lang.usnexpectedError);\n//     //         this.dataProvider.showToast(this.lang.news_posted);\n//     //         this.news={\n//     //           'title':'title',\n//     //           'news_description':'',\n//     //           'user_no':'',\n//     //           'type':'',\n//     //           'user_type':'',\n//     //           'school_id':'',\n//     //           'countryCode':''\n//     //         }\n//     //         this.media = '';\n//     //         this.safeUrl=false;\n//     //        this.router.navigate(['tabs/news']);\n//     //       console.log(\"Error\",e);\n//     //     })\n\n//   }\n\n\n\n//   uploadData(media,formData){\n//         var url = environment.serverURL + 'postNews';\n//         console.log('media',media);\n//         console.log('formData',formData);\n//         console.log('url',url);\n//         var filename='';\n//         if(media){\n//           var name= media.substr(media.lastIndexOf('/') + 1);\n//           var splitted = name.split('?');\n//           filename=splitted[0];\n//         }\n//           this.news.type=this.mediaType;\n//         var options: FileUploadOptions = {\n//           fileName: filename,\n//           fileKey: 'file',\n//           mimeType: this.mediaType,\n//           params: formData,\n//         }\n//         console.log('upload',options);\n//         this.videoFileUpload = this.transfer.create();\n//         this.dataProvider.showLoading();\n//         this.videoFileUpload.upload(media, url, options).then((data) => {\n//             console.log(\"Success\",data);\n\n//             this.dataProvider.hideLoading();\n//             this.router.navigate(['tabs/news']);\n//             this.dataProvider.showToast(this.lang.news_posted);\n//             this.news={\n//                 'title':'title',\n//                 'news_description':'',\n//                 'user_no':'',\n//                 'type':'',\n//                 'user_type':'',\n//                 'school_id':'',\n//                 'countryCode':''\n//               }\n//               this.media = '';\n//               this.safeUrl=false;\n//              // this.router.navigate(['tabs/news']);\n//         })\n//         .catch((err)=>{\n//           this.dataProvider.hideLoading();\n//           this.dataProvider.showToast(err);\n//           console.log(\"Error\",err);\n//         });\n\n//         // this.videoFileUpload.onProgress((data) => {\n//         //   this.uploadPercent = Math.round((data.loaded/data.total) * 100);\n//         // });\n//   }//EOF uploadData\n\n\n\n\n\n}\n","export default \"app-post-news:host .back-btn ion-icon {\\n  font-size: 25px;\\n}\\napp-post-news:host .fform {\\n  margin: 8px;\\n}\\napp-post-news:host .subject {\\n  border: 1px solid grey;\\n  margin: 10px 0;\\n  position: relative;\\n}\\napp-post-news:host ion-row {\\n  text-align: right;\\n}\\napp-post-news:host .send-btn {\\n  height: 60px;\\n}\\napp-post-news:host .checkbox-inner {\\n  position: absolute !important;\\n  left: 8px !important;\\n  height: 14px !important;\\n  top: 0 !important;\\n}\\napp-post-news:host .attachment {\\n  position: absolute;\\n  bottom: 0px;\\n  right: 0px;\\n  --background: unset;\\n  color: black;\\n  float: right;\\n  --box-shadow: unset;\\n  z-index: 2;\\n}\\napp-post-news:host .attachment-video {\\n  position: absolute;\\n  bottom: 0px;\\n  right: 40px;\\n  --background: unset;\\n  color: black;\\n  float: right;\\n  --box-shadow: unset;\\n  z-index: 2;\\n}\\napp-post-news:host .attach-image {\\n  text-align: right;\\n}\\napp-post-news:host .attach-image img {\\n  height: auto;\\n  width: 75px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Bvc3QtbmV3cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRVE7RUFDSSxlQUFBO0FBRFo7QUFJSTtFQUNJLFdBQUE7QUFGUjtBQUlJO0VBQ0ksc0JBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7QUFGUjtBQUlJO0VBQ1EsaUJBQUE7QUFGWjtBQUlJO0VBQ0ksWUFBQTtBQUZSO0FBSUk7RUFDSSw2QkFBQTtFQUNBLG9CQUFBO0VBQ0EsdUJBQUE7RUFDQSxpQkFBQTtBQUZSO0FBSUk7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxVQUFBO0VBQ0ksbUJBQUE7RUFDUixZQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0ksVUFBQTtBQUZSO0FBSUk7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0ksbUJBQUE7RUFDSixZQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0ksVUFBQTtBQUZaO0FBSUk7RUFDSSxpQkFBQTtBQUZSO0FBR1E7RUFDSSxZQUFBO0VBQ0EsV0FBQTtBQURaIiwiZmlsZSI6InBvc3QtbmV3cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhcHAtcG9zdC1uZXdzOmhvc3Qge1xyXG4gICAgLmJhY2stYnRue1xyXG4gICAgICAgIGlvbi1pY29ue1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDI1cHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLmZmb3Jte1xyXG4gICAgICAgIG1hcmdpbjogOHB4O1xyXG4gICAgfVxyXG4gICAgLnN1YmplY3R7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgZ3JleTtcclxuICAgICAgICBtYXJnaW46IDEwcHggMDtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB9XHJcbiAgICBpb24tcm93e1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICAgIH1cclxuICAgIC5zZW5kLWJ0bntcclxuICAgICAgICBoZWlnaHQ6IDYwcHg7XHJcbiAgICB9XHJcbiAgICAuY2hlY2tib3gtaW5uZXJ7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgbGVmdDogOHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgaGVpZ2h0OiAxNHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgdG9wOiAwICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiAgICAuYXR0YWNobWVudCB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGJvdHRvbTogMHB4O1xyXG4gICAgICAgIHJpZ2h0OiAwcHg7XHJcbiAgICAgICAgICAgIC0tYmFja2dyb3VuZDogdW5zZXQ7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICAtLWJveC1zaGFkb3c6IHVuc2V0O1xyXG4gICAgICAgIHotaW5kZXg6IDI7XHJcbiAgICB9XHJcbiAgICAuYXR0YWNobWVudC12aWRlb3tcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgYm90dG9tOiAwcHg7XHJcbiAgICAgICAgcmlnaHQ6IDQwcHg7XHJcbiAgICAgICAgICAgIC0tYmFja2dyb3VuZDogdW5zZXQ7XHJcbiAgICAgICAgY29sb3I6IGJsYWNrO1xyXG4gICAgICAgIGZsb2F0OiByaWdodDtcclxuICAgICAgICAtLWJveC1zaGFkb3c6IHVuc2V0O1xyXG4gICAgICAgICAgICB6LWluZGV4OiAyO1xyXG4gICAgfVxyXG4gICAgLmF0dGFjaC1pbWFnZXtcclxuICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICAgICAgICBpbWd7XHJcbiAgICAgICAgICAgIGhlaWdodDogYXV0bztcclxuICAgICAgICAgICAgd2lkdGg6IDc1cHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il19 */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PostNewsPage } from './post-news.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PostNewsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PostNewsPageRoutingModule {}\n"],"sourceRoot":"webpack:///"}