{"version":3,"sources":["webpack:///src/app/school-registration/school-registration.page.html","webpack:///src/app/school-registration/school-registration.page.scss","webpack:///src/app/school-registration/school-registration.page.ts","webpack:///src/app/school-registration/school-registration.module.ts","webpack:///src/app/school-registration/school-registration-routing.module.ts"],"names":["SchoolRegistrationPage","navCtrl","camera","alertCtrl","translate","geo","dataProvider","authProvider","locationSrevice","router","school","school_logo","school_image","lang","get","subscribe","res","getLocation","Array","console","log","getMyLocation","then","resp","countrycode","location","countryName","countryname","countryCode","imageType","create","header","image_option","buttons","text","handler","openCamera","gallery","openGallery","alert","present","options","quality","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","PNG","mediaType","MediaType","PICTURE","allowEdit","correctOrientation","sourceType","PictureSourceType","CAMERA","targetHeight","targetWidth","getPicture","imageData","PHOTOLIBRARY","showLoading","country_code","registerSchool","response","hideLoading","presentAlert","err","errorALertMessage","message","pop","selector","template","SchoolRegistrationPageModule","imports","declarations","routes","path","component","SchoolRegistrationPageRoutingModule","forChild","exports"],"mappings":"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","file":"school-registration-school-registration-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"right-direction\\\" mode=\\\"md\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"start\\\" class=\\\"back-btn\\\">\\n     <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title text-right>{{'reg_school.pagetitle' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content padding mode=\\\"md\\\">\\n  <form #registerForm='ngForm'>\\n    <ion-list style=\\\"background: unset;\\\">\\n      <div class=\\\"image-column\\\">\\n          <img [src]=\\\"school_logo\\\" class=\\\"profilepicture\\\">\\n        <div class=\\\"add-image-icon\\\" (click)=\\\"takePicture('schoollogo')\\\">\\n          <ion-icon name=\\\"add-circle\\\"></ion-icon>\\n        </div>\\n      </div>\\n      <ion-item class=\\\"background-input\\\" align-items-center>\\n        <ion-label color=\\\"dark\\\" position=\\\"stacked\\\">{{'reg_school.school_name' | translate}}</ion-label>\\n        <ion-input type=\\\"text\\\" name=\\\"schoolName\\\" #schoolName='ngModel' [(ngModel)]=\\\"school.schoolName\\\" text-right\\n          required>\\n        </ion-input>\\n      </ion-item>\\n      <div *ngIf=\\\"schoolName.invalid && (schoolName.touched)\\\" class=\\\"alert alert-danger\\\">\\n        <div *ngIf=\\\"schoolName.errors.required\\\">\\n          {{'validations.required' | translate}}\\n        </div>\\n      </div>\\n\\n      <ion-item class=\\\"background-input\\\" align-items-center>\\n        <ion-label color=\\\"dark\\\" position=\\\"stacked\\\">{{'reg_school.school_details' | translate}}</ion-label>\\n        <ion-textarea name=\\\"schoolDetails\\\" #schoolDetails='ngModel' [(ngModel)]=\\\"school.schoolDetails\\\" text-right\\n          required>\\n        </ion-textarea>\\n      </ion-item>\\n      <div *ngIf=\\\"schoolDetails.invalid && (schoolDetails.touched)\\\" class=\\\"alert alert-danger\\\">\\n        <div *ngIf=\\\"schoolDetails.errors.required\\\">\\n          {{'validations.required' | translate}}\\n        </div>\\n      </div>\\n        <ion-item class=\\\"background-input\\\" align-items-center>\\n          <ion-label color=\\\"dark\\\" position=\\\"stacked\\\">{{'reg_school.password' | translate}}</ion-label>\\n          <ion-input type=\\\"password\\\" name=\\\"password\\\" #password='ngModel' [(ngModel)]=\\\"school.password\\\" text-right\\n            required>\\n          </ion-input>\\n        </ion-item>\\n        <div *ngIf=\\\"password.invalid && (password.touched)\\\" class=\\\"alert alert-danger\\\">\\n          <div *ngIf=\\\"password.errors.required\\\">\\n            {{'validations.required' | translate}}\\n          </div>\\n        </div>\\n        <ion-item class=\\\"background-input\\\" align-items-center>\\n          <ion-label color=\\\"dark\\\" position=\\\"stacked\\\">{{'reg_school.username' | translate}}</ion-label>\\n          <ion-input type=\\\"text\\\" name=\\\"username\\\" #username='ngModel' [(ngModel)]=\\\"school.username\\\" pattern=\\\"[A-Za-z0-9_-]*$\\\" text-right required>\\n          </ion-input>\\n        </ion-item>\\n        <div *ngIf=\\\"username.invalid && (username.touched)\\\" class=\\\"alert alert-danger\\\">\\n          <div *ngIf=\\\"username.errors.required\\\">\\n            {{'validations.required' | translate}}\\n          </div>\\n          <div *ngIf=\\\"username.errors.pattern\\\">\\n            {{'validations.invalidusername' | translate}}\\n          </div>\\n        </div>\\n     \\n     \\n        <ion-item class=\\\"background-input\\\" align-items-center>\\n          <ion-label color=\\\"dark\\\" position=\\\"stacked\\\">{{'reg_school.contact' | translate}}</ion-label>\\n          <ion-input type=\\\"text\\\" name=\\\"contact\\\" #contact='ngModel' [(ngModel)]=\\\"school.contact\\\" text-right required>\\n          </ion-input>\\n        </ion-item>\\n        <div *ngIf=\\\"contact.invalid && (contact.touched)\\\" class=\\\"alert alert-danger\\\">\\n          <div *ngIf=\\\"contact.errors.required\\\">\\n            {{'validations.required' | translate}}\\n          </div>\\n        </div>\\n        <ion-item class=\\\"background-input\\\" align-items-center>\\n          <ion-label color=\\\"dark\\\" position=\\\"stacked\\\">{{'reg_school.email' | translate}}</ion-label>\\n          <ion-input type=\\\"email\\\" name=\\\"email\\\" #email='ngModel' pattern=\\\"[A-Za-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,3}$\\\"\\n            [(ngModel)]=\\\"school.email\\\" text-right required>\\n          </ion-input>\\n        </ion-item>\\n        <div *ngIf=\\\"email.invalid && (email.touched)\\\" class=\\\"alert alert-danger\\\">\\n          <div *ngIf=\\\"email.errors.required\\\">\\n            {{'validations.required' | translate}}\\n          </div>\\n          <div *ngIf=\\\"email.errors.pattern\\\">\\n            {{'validations.invalidemail' | translate}}\\n          </div>\\n        </div>\\n        <ion-item class=\\\"background-input\\\" align-items-center>\\n          <ion-label color=\\\"dark\\\" position=\\\"stacked\\\">{{'reg_school.country' | translate}}</ion-label>\\n          <ion-input type=\\\"text\\\" name=\\\"country\\\" #country='ngModel' [(ngModel)]=\\\"countryName\\\" text-right required readonly=\\\"true\\\">\\n          </ion-input>\\n        </ion-item>\\n        <!-- <ion-item class=\\\"background-input\\\" align-items-center>\\n          <ion-label color=\\\"dark\\\">{{'reg_school.delay_rule' | translate}}</ion-label>\\n          <ion-select name=\\\"delayRule\\\" #delayRule='ngModel' [(ngModel)]=\\\"school.delayRule\\\" interface=\\\"popover\\\">\\n              <ion-select-option *ngFor = \\\"let delay of getDelayRule();let i = index;\\\" [value] = \\\"(i+1)\\\">{{i+1}}</ion-select-option>\\n          </ion-select>\\n        </ion-item> -->\\n\\n   <!--    <ion-row class=\\\"right-direction background-input\\\" margin-top>\\n        <ion-col size=\\\"10\\\" align-self-center text-left padding>\\n          <h5 no-margin>{{'reg_school.picture' | translate}}</h5>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\" align-self-center>\\n          <ion-button  small icon-only clear color=\\\"dark\\\" (click)=\\\"takePicture('schoolimage')\\\">\\n            <ion-icon name=\\\"attach\\\"></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"12\\\" *ngIf=\\\"school.school_image != '' && school.school_image != undefined\\\">\\n          <div class=\\\"image-sec\\\" [ngStyle]=\\\"{'background-image': 'url('+school_image+')'}\\\">\\n          </div>\\n        </ion-col>\\n      </ion-row> -->\\n      <ion-row padding>\\n        <ion-button    expand=\\\"full\\\" class=\\\"btn-primary\\\" shape=\\\"round\\\" [disabled]=\\\"registerForm.invalid\\\"\\n          (click)=\\\"registerSchool()\\\"><ion-spinner name=\\\"crescent\\\"></ion-spinner> {{'reg_school.register_btn' | translate}}</ion-button>\\n      </ion-row>\\n    </ion-list>\\n  </form>\\n</ion-content> \";","export default \"app-school-registration:host ion-toolbar {\\n  text-align: right;\\n}\\napp-school-registration:host ion-content {\\n  --background: #fafafa;\\n  --padding-start: 10px;\\n  --padding-end: 10px;\\n}\\napp-school-registration:host .image-column {\\n  text-align: center;\\n}\\napp-school-registration:host .image-column .profilepicture {\\n  margin: 15px 0;\\n  border-radius: 50%;\\n  height: 100px;\\n}\\napp-school-registration:host .image-sec {\\n  width: 100%;\\n  height: 150px;\\n  background-position: center;\\n  background-size: cover;\\n}\\napp-school-registration:host .add-image-icon {\\n  position: absolute;\\n  top: 105px;\\n  left: 56%;\\n  background: #fff;\\n  height: 30px;\\n  width: 30px;\\n  text-align: center;\\n  border: 2px solid #fff;\\n  border-radius: 50%;\\n}\\napp-school-registration:host .add-image-icon ion-icon {\\n  color: green;\\n  font-size: 25px;\\n}\\napp-school-registration:host .background-input {\\n  background-color: #ececec;\\n  margin: 10px 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NjaG9vbC1yZWdpc3RyYXRpb24ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNJO0VBQ0ksaUJBQUE7QUFBUjtBQUVJO0VBQ0kscUJBQUE7RUFDSSxxQkFBQTtFQUNBLG1CQUFBO0FBQVo7QUFFSTtFQUNJLGtCQUFBO0FBQVI7QUFDUTtFQUNJLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7QUFDWjtBQUVFO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSwyQkFBQTtFQUNBLHNCQUFBO0FBQUo7QUFFSTtFQUNJLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFNBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0FBQVI7QUFDUTtFQUNJLFlBQUE7RUFDQSxlQUFBO0FBQ1o7QUFLSTtFQUVJLHlCQUFBO0VBQ0EsY0FBQTtBQUpSIiwiZmlsZSI6InNjaG9vbC1yZWdpc3RyYXRpb24ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLXNjaG9vbC1yZWdpc3RyYXRpb246aG9zdCB7XHJcbiAgICBpb24tdG9vbGJhcntcclxuICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICAgIH1cclxuICAgIGlvbi1jb250ZW50e1xyXG4gICAgICAgIC0tYmFja2dyb3VuZDogI2ZhZmFmYTtcclxuICAgICAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiAxMHB4O1xyXG4gICAgICAgICAgICAtLXBhZGRpbmctZW5kOiAxMHB4O1xyXG4gICAgfVxyXG4gICAgLmltYWdlLWNvbHVtbntcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgLnByb2ZpbGVwaWN0dXJle1xyXG4gICAgICAgICAgICBtYXJnaW46IDE1cHggMDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgICAgfVxyXG4gICAgfVxyXG4gIC5pbWFnZS1zZWMge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDE1MHB4O1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxufSBcclxuICAgIC5hZGQtaW1hZ2UtaWNvbiB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHRvcDogMTA1cHg7XHJcbiAgICAgICAgbGVmdDogNTYlO1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgICAgICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAjZmZmO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICBpb24taWNvbntcclxuICAgICAgICAgICAgY29sb3I6IGdyZWVuO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDI1cHg7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBpb24taWNvbjo6YmVmb3Jle1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC5iYWNrZ3JvdW5kLWlucHV0e1xyXG4gICAgICAvLyAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlY2VjZWM7XHJcbiAgICAgICAgbWFyZ2luOiAxMHB4IDA7XHJcbiAgICB9IFxyXG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController, Platform,AlertController } from '@ionic/angular';\nimport { AuthService } from '../service/auth/auth.service';\nimport { DataService } from '../service/data/data.service';\nimport { LocationService } from '../service/location/location.service';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router} from '@angular/router';\nimport {GeoServiceProvider} from '../service/geo-service/geo-service';\n\n@Component({\n  selector: 'app-school-registration',\n  templateUrl: './school-registration.page.html',\n  styleUrls: ['./school-registration.page.scss'],\n})\nexport class SchoolRegistrationPage implements OnInit {\n  school: any = {};\n  school_logo: any = './assets/imgs/logo.png';\n  school_image:any = '';\n  lang: any = {};\n  // getDelayRules =5;\n  location:any;\n  countryCode:any;\n  countryName:any;\n\n  constructor(public navCtrl: NavController,\n              public camera: Camera,\n              public alertCtrl: AlertController,\n              public translate: TranslateService,\n              private geo:GeoServiceProvider,\n              public dataProvider: DataService,\n              public authProvider: AuthService,\n              public locationSrevice:LocationService,\n              private router: Router) {\n    this.translate.get(\"alertmessages\").subscribe((res) => {\n      this.lang = res;\n    })\n  }\n\n  ngOnInit() {\n  }\n   ionViewWillEnter(){\n    this.getLocation();\n  }\n\n  getDelayRule(){\n    return Array(20);\n  }\n  getLocation(){\n    console.log('call');\n    // this.locationSrevice.checkGPSPermission(resp=>{\n    //   this.location=resp;\n    //   console.log('page',this.location);\n    //   this.countryName=resp.countryName;\n    //   this.countryCode=resp.countryCode;\n    // },e=>{\n    //   console.log(e);\n    // })\n    this.geo.getMyLocation().then(resp=>{\n      console.log(resp.countrycode);\n      if(resp!=''){\n        this.location=resp;\n         console.log('page',this.location);\n         this.countryName=resp.countryname;\n         this.countryCode=resp.countrycode;\n      }else{\n        console.log(resp);\n      }\n    })\n  }\n\n\n  /**\n   * alert to show image take choice\n   */\n  async takePicture(imageType) {\n   const alert = await this.alertCtrl.create({\n      header: this.lang.image_option,\n      buttons: [\n        {\n          text: this.lang.camera,\n          handler: () => {\n            this.openCamera(imageType);\n          }\n        },\n        {\n          text: this.lang.gallery,\n          handler: () => {\n            this.openGallery(imageType)\n          }\n        }\n      ]\n    })\n   await alert.present();\n  }\n\n  /**\n   * mobile camera to take image\n   */\n  openCamera(imageType) {\n    let options: CameraOptions = {\n      quality: 75,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.PNG,\n      mediaType: this.camera.MediaType.PICTURE,\n      allowEdit: true,\n      correctOrientation: true,\n      sourceType: this.camera.PictureSourceType.CAMERA,\n      targetHeight: 500,\n      targetWidth: 500\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n      if (imageData) {\n        if(imageType == 'schoollogo'){\n          this.school.school_logo = 'data:image/png;base64,'+imageData;\n          this.school_logo = 'data:image/png;base64,'+imageData;\n        }else{\n          this.school.school_image = 'data:image/png;base64,'+imageData;\n          this.school_image = 'data:image/png;base64,'+imageData;\n        }\n      }\n    })\n  }\n\n  /**\n   * Open gallery to take image\n   */\n  openGallery(imageType) {\n    let options: CameraOptions = {\n      quality: 75,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.PNG,\n      mediaType: this.camera.MediaType.PICTURE,\n      allowEdit: true,\n      correctOrientation: true,\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      targetHeight: 500,\n      targetWidth: 500\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n\t      if (imageData) {\n\t        if(imageType == 'schoollogo'){\n\t          this.school.school_logo = 'data:image/png;base64,'+imageData;\n\t          this.school_logo = 'data:image/png;base64,'+imageData;\n\t        }else{\n\t          this.school.school_image = 'data:image/png;base64,'+imageData;\n\t          this.school_image = 'data:image/png;base64,'+imageData;\n\t        }\n\t      }\n\t    })\n\t  }\n\n  /**\n   * Register school\n   */\n  async registerSchool(){\n    this.dataProvider.showLoading();\n    this.school.country_code=this.countryCode;\n    this.authProvider.registerSchool(this.school).then((response)=>{\n      this.dataProvider.hideLoading();\n     this.presentAlert(response);\n    }).catch((err)=>{\n      this.dataProvider.hideLoading();\n      this.dataProvider.errorALertMessage(err);\n    })\n  }\n\n async presentAlert(response){\n  \t const alert = await this.dataProvider.alertCtrl.create({\n        header: \"Message\",\n        message: response,\n        buttons: [{\n          text: 'Ok',\n          handler: ()=>{\n            this.navCtrl.pop();\n          }\n        }]\n      })\n     await alert.present();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SchoolRegistrationPageRoutingModule } from './school-registration-routing.module';\n\nimport { SchoolRegistrationPage } from './school-registration.page';\nimport { PipesModule } from '../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SchoolRegistrationPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [SchoolRegistrationPage]\n})\nexport class SchoolRegistrationPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SchoolRegistrationPage } from './school-registration.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SchoolRegistrationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SchoolRegistrationPageRoutingModule {}\n"]}