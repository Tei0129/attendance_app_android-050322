{"version":3,"sources":["./src/app/common-modal/view-class-notes/view-class-notes.page.scss","./src/app/common-modal/view-class-notes/view-class-notes.page.ts","./src/app/common-modal/view-class-notes/view-class-notes.module.ts","./src/app/common-modal/view-class-notes/view-class-notes-routing.module.ts","./src/app/common-modal/view-class-notes/view-class-notes.page.html"],"names":[],"mappings":"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","file":"common-modal-view-class-notes-view-class-notes-module-es2015.js","sourcesContent":["export default \".trash {\\n  float: left;\\n  font-size: 25px;\\n  padding: 2px;\\n  color: #eb445a;\\n}\\n\\n.pdf-div img {\\n  width: 36vw;\\n  height: 20vh;\\n}\\n\\n.pdf-div ion-icon {\\n  font-size: 47px;\\n  position: absolute;\\n  right: 9vh;\\n  top: 8vh;\\n  color: #2979ff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3ZpZXctY2xhc3Mtbm90ZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksV0FBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtBQUFKOztBQUlDO0VBQ0ssV0FBQTtFQUNBLFlBQUE7QUFETjs7QUFHQztFQUNDLGVBQUE7RUFDRyxrQkFBQTtFQUNBLFVBQUE7RUFDQSxRQUFBO0VBQ0EsY0FBQTtBQURMIiwiZmlsZSI6InZpZXctY2xhc3Mtbm90ZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRyYXNoe1xyXG5cdFxyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBmb250LXNpemU6IDI1cHg7XHJcbiAgICBwYWRkaW5nOiAycHg7XHJcbiAgICBjb2xvcjogI2ViNDQ1YTtcclxuXHJcbn1cclxuLnBkZi1kaXZ7XHJcblx0aW1ne1xyXG5cdFx0ICAgIHdpZHRoOiAzNnZ3O1xyXG4gICAgXHRcdGhlaWdodDogMjB2aDtcclxuXHR9XHJcblx0aW9uLWljb257XHJcblx0XHRmb250LXNpemU6IDQ3cHg7XHJcblx0ICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHQgICAgcmlnaHQ6IDl2aDtcclxuXHQgICAgdG9wOiA4dmg7XHJcblx0ICAgIGNvbG9yOiAjMjk3OWZmO1xyXG5cdH1cclxufSJdfQ== */\";","import { Component, OnInit, Input,NgZone } from '@angular/core';\nimport { NavController, AlertController, ModalController } from '@ionic/angular';\nimport { AuthService } from '../../service/auth/auth.service';\nimport { DataService } from '../../service/data/data.service';\nimport { DatabaseService } from '../../service/database/database.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport {CreateClassPage } from '../../create-class/create-class.page';\nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\nimport {DocumentService} from '../../service/document/document.service';\n@Component({\n  selector: 'app-view-class-notes',\n  templateUrl: './view-class-notes.page.html',\n  styleUrls: ['./view-class-notes.page.scss'],\n})\nexport class ViewClassNotesPage implements OnInit {\n\t@Input() data;\n  @Input() state;\n\tlang:any;\n  userDetails:any;\n  userType:any;\n  navData:any;\n  notes:any;\n  \n   constructor(public navCtrl: NavController, \n             // public app: App, \n              public translate: TranslateService,\n             public dataProvider: DataService, \n              public authProvider: AuthService,  \n              //public events: Events,\n              private documentService:DocumentService,\n              public alertCtrl: AlertController, \n              private route : ActivatedRoute,\n              private photoViewer: PhotoViewer,\n              public zone:NgZone,\n              private router:Router,\n              public modalController: ModalController) {\n                this.translate.get(\"alertmessages\").subscribe((res)=>{\n                  this.lang = res;\n                })\n      this.route.queryParams.subscribe(params => {\n        if (this.router.getCurrentNavigation().extras.state) {\n             this.navData = this.router.getCurrentNavigation().extras.state.course;\n            console.log(this.navData);\n        }\n      });\n              }\n\n  ngOnInit() {\n    console.log('moda',this.data);\n  }\n  cloeModal(){\n  \tthis.modalController.dismiss();\n  }\n  showPhoto(url){\n    console.log(url);\n    this.photoViewer.show(url);\n  }\n  ionViewWillEnter(){\n      if (localStorage.getItem(\"userloggedin\")) {\n      this.userDetails = JSON.parse(localStorage.getItem(\"userloggedin\"));\n      this.userType = this.userDetails.details.user_type;\n    }\n  }\n\n    addNotes(){\n      this.cloeModal();\n    const navigation: NavigationExtras = {\n            state :{\n              state:this.state,\n              data:this.data\n            }\n            \n          };\n        //console.log(navigation);\n        this.zone.run(() => {\n          this.router.navigate(['add-notes'], navigation);\n        });\n    //this.router.navigate(['add-notes']);\n  }\n  \n  openPdf(pdf){\n    //  window.open(pdf,'_blank')\n   // this.documentService.openPdf(pdf,true);\n   window.open(pdf, '_system');\n  }\n    async deleteNote(note){\n     const alert= await this.alertCtrl.create({\n      header: this.lang.delete_note,\n      backdropDismiss: true,\n      mode:'ios',\n      buttons: [\n        {\n          text: this.lang.delete,\n          handler: ()=>{\n                   console.log(note);\n                    let data={\n                      note_id:note.notes_id\n                    }\n                    this.authProvider.deleteNote(data);\n                    this.cloeModal();\n\n          }\n        },\n        {\n          text: this.lang.alert_btn_cancel_text,\n          handler: ()=>{\n             \n\n          }\n        }\n      ]\n    }) \n   await alert.present();\n  }\n\n    getAllClassNotes(){\n      let course = this.navData;\n      let studentData = {\n        \"user_no\": this.userDetails.details.user_no,\n        \"session_id\": this.userDetails.session_id,\n        \"course_id\": course.cid,\n        \"school_id\": this.userDetails.details.school_id,\n      }\n      this.dataProvider.getAllClassNotes(studentData).then(res=>{\n        console.log(res);\n        if(res){\n         // this.dataProvider.viewNotes(res);\n         this.notes=res;\n        }\n      }).catch(error=>{\n        console.log(error);\n      })\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ViewClassNotesPageRoutingModule } from './view-class-notes-routing.module';\n\nimport { ViewClassNotesPage } from './view-class-notes.page';\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    PipesModule,\n    IonicModule,\n    ViewClassNotesPageRoutingModule\n  ],\n  declarations: [ViewClassNotesPage]\n})\nexport class ViewClassNotesPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ViewClassNotesPage } from './view-class-notes.page';\n\nconst routes: Routes = [\n  {\n    path: 'view-class-notes',\n    component: ViewClassNotesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ViewClassNotesPageRoutingModule {}\n","export default \"<ion-header mode=\\\"md\\\">\\n  <ion-toolbar>\\n  \\t<ion-buttons slot=\\\"end\\\">\\n  \\t\\t<ion-button class=\\\"small_btn_header\\\"  small clear icon-only (click)=\\\"addNotes()\\\">\\n            <ion-icon name=\\\"add\\\" class=\\\"add-circle\\\" item-end color=\\\"icon-header\\\"></ion-icon>\\n        </ion-button>\\n  \\t\\t<ion-button icon-only (click)=\\\"cloeModal()\\\">\\n  \\t\\t\\t<ion-icon name=\\\"close-circle-outline\\\"></ion-icon>\\n  \\t\\t</ion-button>\\n  \\t</ion-buttons>\\n    <ion-title>{{'student_notes.pagetitle' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content mode=\\\"md\\\">\\n    <div *ngIf=\\\"data\\\">\\n\\t\\t<ion-card *ngFor=\\\" let note of data\\\">\\n\\t\\t\\t<ion-card-header>\\n\\t\\t\\t\\t<span style=\\\"float: left;\\\">{{note.datetime| dateFormat}}</span>\\n\\t\\t\\t\\t<ion-item style=\\\"width: 100%;\\\" *ngIf=\\\"note.profile\\\">\\n\\t\\t\\t\\t\\t<ion-avatar slot=\\\"start\\\">\\n\\t\\t\\t\\t\\t\\t<img src=\\\"{{note.profile.pic}}\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/logo.png';\\\">\\n\\t\\t\\t\\t\\t</ion-avatar>\\n\\t\\t\\t\\t\\t<ion-label>\\n\\t\\t\\t\\t\\t\\t<h3>{{note.profile.first_name}}</h3>\\n\\t\\t\\t\\t\\t\\t<p>{{note.profile.email_id}}</p>\\n\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t</ion-card-header>\\n\\t\\t\\t<ion-card-content>\\n\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t{{note.description}}\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<div *ngIf=\\\"note.file_link\\\" class=\\\"pdf-div\\\" (click)=\\\"openPdf(note.file_link)\\\">\\n\\t\\t          <img  [src]=\\\"'bullet.documents.image'\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/pdf.png';\\\">\\n\\t\\t            <ion-icon name=\\\"document-attach-outline\\\"></ion-icon>\\n\\t\\t        </div>\\n\\t\\t\\t\\t<!-- <a   href=\\\"\\\"><ion-icon name=\\\"attach\\\"></ion-icon></a> -->\\n\\t\\t\\t\\t<img *ngIf=\\\"note.image_file\\\" [src]=\\\"note.image_file\\\" class=\\\"images\\\" (click)=\\\"showPhoto(note.image_file)\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/logo.png';\\\">\\n\\t\\t\\t\\t<ion-icon class=\\\"trash\\\" name=\\\"trash-outline\\\" (click)=\\\"deleteNote(note)\\\"></ion-icon>\\n\\t\\t\\t</ion-card-content>\\n\\t\\t</ion-card>\\n    </div>\\n\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}