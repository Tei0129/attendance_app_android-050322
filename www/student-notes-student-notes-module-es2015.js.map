{"version":3,"sources":["./src/app/student-notes/student-notes.module.ts","./src/app/student-notes/student-notes.page.scss","./src/app/student-notes/student-notes-routing.module.ts","./src/app/student-notes/student-notes.page.ts","./src/app/student-notes/student-notes.page.html"],"names":[],"mappings":"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","file":"student-notes-student-notes-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StudentNotesPageRoutingModule } from './student-notes-routing.module';\n\nimport { StudentNotesPage } from './student-notes.page'; \nimport { PipesModule } from '../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    StudentNotesPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [StudentNotesPage]\n})\nexport class StudentNotesPageModule {}\n","export default \".pdf-div img {\\n  width: 16vw;\\n  height: 9vh;\\n}\\n.pdf-div ion-icon {\\n  font-size: 47px;\\n  position: absolute;\\n  right: 9vh;\\n  top: 8vh;\\n  color: #2979ff;\\n}\\n.images {\\n  height: 193px;\\n  width: 100%;\\n  border-radius: 8px;\\n}\\n.notes {\\n  padding: 25px;\\n}\\n.notes .no-data {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3N0dWRlbnQtbm90ZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtDO0VBQ1EsV0FBQTtFQUNMLFdBQUE7QUFKSjtBQU1DO0VBQ0MsZUFBQTtFQUNHLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFFBQUE7RUFDQSxjQUFBO0FBSkw7QUFPQTtFQUNLLGFBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7QUFKTDtBQU1BO0VBQ0MsYUFBQTtBQUhEO0FBSUM7RUFDQyxrQkFBQTtBQUZGIiwiZmlsZSI6InN0dWRlbnQtbm90ZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gLmltYWdlc3tcclxuLy8gXHQgICAgd2lkdGg6IDQydnc7XHJcbi8vICAgICBcdGhlaWdodDogMjl2aDtcclxuLy8gfVxyXG4ucGRmLWRpdntcclxuXHRpbWd7XHJcblx0XHQgICAgICAgd2lkdGg6IDE2dnc7XHJcblx0XHRcdFx0aGVpZ2h0OiA5dmg7XHJcblx0fVxyXG5cdGlvbi1pY29ue1xyXG5cdFx0Zm9udC1zaXplOiA0N3B4O1xyXG5cdCAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0ICAgIHJpZ2h0OiA5dmg7XHJcblx0ICAgIHRvcDogOHZoO1xyXG5cdCAgICBjb2xvcjogIzI5NzlmZjtcclxuXHR9XHJcbn1cclxuLmltYWdlc3tcclxuXHQgICAgaGVpZ2h0OiAxOTNweDtcclxuXHQgICAgd2lkdGg6IDEwMCU7XHJcblx0ICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxufVxyXG4ubm90ZXN7XHJcblx0cGFkZGluZzogMjVweDtcclxuXHQubm8tZGF0YXtcclxuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHR9XHJcbn0iXX0= */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { StudentNotesPage } from './student-notes.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StudentNotesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StudentNotesPageRoutingModule {}\n","import { Component, OnInit,NgZone } from '@angular/core';\nimport { NavController, AlertController, ModalController } from '@ionic/angular';\nimport { AuthService } from '../service/auth/auth.service';\nimport { DataService } from '../service/data/data.service';\nimport { DatabaseService } from '../service/database/database.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport {CreateClassPage } from '../create-class/create-class.page';\nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\nimport {DocumentService} from '../service/document/document.service';\n\n@Component({\n  selector: 'app-student-notes',\n  templateUrl: './student-notes.page.html',\n  styleUrls: ['./student-notes.page.scss'],\n})\nexport class StudentNotesPage implements OnInit {\n\tlang:any;\n  navData:any;\n\tcategory:any;\n\tuserDetails:any;\n\tuserType:any;\n  notes:any;\n  noData=false;\n  constructor(public navCtrl: NavController,\n  \t         // public app: App,\n  \t          public translate: TranslateService,\n              public dataProvider: DataService,\n              public authProvider: AuthService,\n              //public events: Events,\n              public alertCtrl: AlertController,\n              private route : ActivatedRoute,\n              private documentService:DocumentService,\n              public zone:NgZone,\n              private router:Router,\n              private photoViewer: PhotoViewer,\n              public modalCtrl: ModalController) {\n            this.authProvider.event.subscribe((res)=>{\n                  console.log('change',res);\n                  if(res.changeUser){\n                    this.ionViewWillEnter();\n                  }\n                })\n                this.translate.get(\"alertmessages\").subscribe((res)=>{\n                  this.lang = res;\n                  console.log(this.lang);\n                })\n                this.dataProvider.language.subscribe((resq)=>{\n                  this.translate.get(\"alertmessages\").subscribe((res)=>{\n                     // console.log(this.lang);\n                    this.lang = res;\n                  })\n                })\n  }\n\n  ngOnInit() {\n  }\n    showPhoto(url){\n    this.photoViewer.show(url);\n  }\n\n   ionViewWillEnter(){\n       // this.dataProvider.showLoading();\n    if(localStorage.getItem(\"userloggedin\")){\n      this.userDetails = JSON.parse(localStorage.getItem(\"userloggedin\"));\n      console.log('this',this.userDetails);\n      this.navData = this.userDetails.details;\n      this.userType = this.userDetails.details.user_type;\n      this.getClassNotes();\n    }else{\n      this.dataProvider.hideLoading();\n      console.log('not logged in');\n      this.authProvider.flushLocalStorage();\n      this.router.navigate(['login'], { replaceUrl: true });\n    }\n  }\n  doRefresh(event) {\n    console.log('Begin async operation');\n    this.getClassNotes();\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      event.target.complete();\n    }, 2000);\n  }\n\n  getClassNotes(){\n  \tlet data = {\n      \"student_id\": this.userDetails.details.stu_id,\n      \"school_id\": this.userDetails.details.school_id,\n      \"session_id\": this.userDetails.session_id\n    };\n    this.dataProvider.getClassNotes(data).then(res=>{\n    \tconsole.log('notes',res);\n      this.notes=res;\n      if(this.notes){\n        if(this.notes.length<1){\n        console.log('notes:::date31.1.22',res);\n          this.noData=true;\n        }else{\n          this.noData=false;\n\n        }\n      }else{\n      console.log('notes',res);\n          this.noData=true;\n\n      }\n    }).catch(Error=>{\n      // this.dataProvider.showToast(Error);\n    \tconsole.log(Error);\n    })\n  }\n    openPdf(pdf:string){\n    //  window.open(pdf,'_blank')\n    window.open(pdf, '_system');\n    //this.documentService.openPdf(pdf,true);\n  }\n  openCalModal() {\n    const navigation : NavigationExtras ={\n      state:{\n        note:this.notes,\n        state:this.navData,\n        page:'student-note'\n      }\n    };\n    //this.zone.run(() => {\n      this.router.navigate(['note-calendar'],navigation);\n    //});\n    /*const modal = await this.modalCtrl.create({\n      component: NoteCalendarPage,\n      cssClass: 'cal-modal',\n      backdropDismiss: true,\n    });\n    this.sendClassNotes(this.notes);\n\n    return await modal.present();*/\n      \n  }\n\n}\n","export default \"<ion-header mode=\\\"md\\\">\\n  <ion-toolbar>\\n  \\t<ion-buttons slot=\\\"start\\\">\\n  \\t\\t<ion-menu-button></ion-menu-button>\\n  \\t</ion-buttons>\\n\\t  <ion-buttons slot=\\\"secondary\\\">\\n\\t\\t<ion-button class=\\\"small_btn_header\\\" style=\\\"margin-left:12px;\\\" small clear icon-only (click)=\\\"openCalModal()\\\">\\n\\t\\t  <ion-icon name=\\\"calendar-outline\\\" color=\\\"icon-header\\\"></ion-icon>\\n\\t  </ion-button>\\n  </ion-buttons>\\n    <ion-title>{{'student_notes.pagetitle' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content mode=\\\"md\\\">\\n\\t  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n\\t    <ion-refresher-content\\n\\t      pullingIcon=\\\"chevron-down-circle-outline\\\"\\n\\t      pullingText=\\\"Pull to refresh\\\"\\n\\t      refreshingSpinner=\\\"circles\\\"\\n\\t      refreshingText=\\\"Refreshing...\\\">\\n\\t    </ion-refresher-content>\\n\\t  </ion-refresher>\\n    <div *ngIf=\\\"notes\\\">\\n\\t\\t<ion-card *ngFor=\\\" let note of notes\\\">\\n\\t\\t\\t<ion-card-header>\\n\\t\\t\\t\\t<span *ngIf=\\\"note.send_to!='exam' && note.datetime\\\" style=\\\"float: left;\\\">{{note.datetime | dateFormat}}</span>\\n\\t\\t\\t\\t<span *ngIf=\\\"note.send_to=='exam' && note.examNoteDate\\\" style=\\\"float: left;\\\">{{note.examNoteDate | dateFormat}}</span>\\n\\t\\t\\t\\t<ion-item style=\\\"width: 100%;\\\">\\n\\t\\t\\t\\t\\t<ion-avatar slot=\\\"start\\\">\\n\\t\\t\\t\\t\\t\\t<img src=\\\"{{note.created_by.pic}}\\\">\\n\\t\\t\\t\\t\\t</ion-avatar>\\n\\t\\t\\t\\t\\t<ion-label>\\n\\t\\t\\t\\t\\t\\t<h3>{{note.created_by.first_name}}</h3>\\n\\t\\t\\t\\t\\t\\t<!-- <p>{{note.created_by.email_id}}</p> -->\\n\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t</ion-card-header>\\n\\t\\t\\t<ion-card-content>\\n\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t{{note.description}}\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<div *ngIf=\\\"note.file_link\\\" class=\\\"pdf-div\\\" (click)=\\\"openPdf(note.file_link)\\\">\\n\\t\\t          <img  [src]=\\\"'bullet.documents.image'\\\" onerror=\\\"this.onerror=null;this.src='assets/imgs/pdfnew.png';\\\">\\n\\t\\t            <!-- <ion-icon name=\\\"document-attach-outline\\\"></ion-icon> -->\\n\\t\\t        </div>\\n\\t\\t\\t\\t<a *ngIf=\\\"note.pdf\\\" (click)=\\\"openPdf(note.pdf)\\\" href=\\\"\\\">\\n\\t\\t\\t\\t\\t<ion-icon name=\\\"attach\\\"></ion-icon>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<img *ngIf=\\\"note.image_file\\\" [src]=\\\"note.image_file\\\" class=\\\"images\\\" (click)=\\\"showPhoto(note.image_file)\\\">\\n\\t\\t\\t</ion-card-content>\\n\\t\\t</ion-card>\\n    </div>\\n    <div class=\\\"notes\\\" *ngIf=\\\"noData\\\">\\n    \\t<div class=\\\"no-data\\\">\\n    \\t\\t{{'student_notes.no_note' | translate}}\\n    \\t</div>\\n    </div>\\n\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}