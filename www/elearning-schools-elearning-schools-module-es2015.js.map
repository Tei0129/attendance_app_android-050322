{"version":3,"sources":["./src/app/elearning-schools/elearning-schools.module.ts","./src/app/elearning-schools/elearning-schools.page.html","./src/app/elearning-schools/elearning-schools.page.ts","./src/app/elearning-schools/elearning-schools-routing.module.ts","./src/app/elearning-schools/elearning-schools.page.scss"],"names":[],"mappings":"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","file":"elearning-schools-elearning-schools-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ElearningSchoolsPageRoutingModule } from './elearning-schools-routing.module';\n\nimport { ElearningSchoolsPage } from './elearning-schools.page';\nimport { PipesModule } from '../pipes/pipes.module';\nimport { IonicSelectableModule } from 'ionic-selectable';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ElearningSchoolsPageRoutingModule,\n    PipesModule,\n    IonicSelectableModule\n  ],\n  declarations: [ElearningSchoolsPage]\n})\nexport class ElearningSchoolsPageModule {}\n","export default \"<ion-header mode=\\\"md\\\">\\n\\n  <ion-toolbar transparent>\\n   \\t<ion-buttons slot=\\\"end\\\">\\n      <!-- <ion-button icon-only (click)=\\\"selectNewsCountry()\\\">\\n        <ion-icon name=\\\"help-circle-outline\\\" ></ion-icon>\\n      </ion-button> -->\\n   \\t\\t<ion-back-button>\\n   \\t\\t</ion-back-button>\\n   \\t</ion-buttons>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title text-right>{{'eLearning.title' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n \\n<ion-content padding mode=\\\"md\\\">\\n    <ion-row class=\\\"county\\\">\\n\\n        <ion-item >\\n          <ion-label>{{'location.select_country'| translate}}</ion-label>\\n          <ionic-selectable\\n            [(ngModel)]=\\\"selected_country\\\"\\n            [items]=\\\"country\\\"\\n            itemValueField=\\\"code\\\"\\n            itemTextField=\\\"name\\\"\\n            (onChange)=\\\"portChange($event)\\\"\\n            [canSearch]=\\\"true\\\">\\n          </ionic-selectable>\\n        </ion-item>\\n  </ion-row>\\n  <div class=\\\"body\\\">\\n    \\n    <ion-card  *ngFor=\\\"let school of schools\\\" (click)=\\\"openschool(school)\\\">\\n      <ion-card-content>\\n        <ion-item lines=\\\"none\\\">\\n          <ion-avatar item-start>\\n            <img [src]=\\\"school.pic\\\">\\n          </ion-avatar>\\n          <label>\\n  \\t        <h2>{{school.school_name}}</h2>\\n  \\t        <h3>{{school.detail}}</h3>\\n          </label>\\n        </ion-item>\\n      </ion-card-content>\\n    </ion-card>\\n    <ion-label item-center class=\\\"norecord-found\\\" *ngIf = \\\"schools?.length == 0\\\">{{noDataFound}}</ion-label>\\n  </div>\\n</ion-content>\";","import { Component, OnInit,NgZone, ViewChild, EventEmitter } from '@angular/core';\nimport { NavController, NavParams, AlertController,IonContent, Platform,ModalController } from '@ionic/angular';\nimport { AuthService } from '../service/auth/auth.service';\nimport { DataService } from '../service/data/data.service';\nimport { TranslateService } from '@ngx-translate/core';\n//import { TabsPage } from '../tabs/tabs';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { LocationService } from '../service/location/location.service';\nimport {Location} from '@angular/common';\nimport {GeoServiceProvider} from '../service/geo-service/geo-service';\n\n@Component({\n  selector: 'app-elearning-schools',\n  templateUrl: './elearning-schools.page.html',\n  styleUrls: ['./elearning-schools.page.scss'],\n})\nexport class ElearningSchoolsPage implements OnInit {\n  public language: EventEmitter<any>;  \n\n  /**\n   * @member schools Array of schools who have the e learning materials\n   * @member noDataFound used for diplaying the message when no child found\n   * @member lang Contains the language translation object\n   */\n  schools:any = [];\n  noDataFound:string = '';\n  lang:any = {};\n  country_code:any;\n  location_lang:any;\n  country:any;\n  selected_country={\n    code:\"\",\n    name:\"Worldwide\"\n  };\n  langFile:string = '';\n  \n\n  /**\n   *\n   * @param navCtrl Use for navigation between pages\n   * @param translate used for translation service\n   * @param dataProvider Use for getting data from the API\n   */\n  constructor(public navCtrl: NavController,\n  \tpublic translate: TranslateService,\n  \tpublic dataProvider: DataService,\n    private router:Router,\n    public alertController: AlertController,\n  \tprivate route : ActivatedRoute,\n    public locationSrevice:LocationService,\n             private geo:GeoServiceProvider,\n    public zone:NgZone, ) {\n    this.translate.get(\"alertmessages\").subscribe((res)=>{\n      this.lang = res;\n    })\n    this.translate.get(\"location\").subscribe((res)=>{\n      this.location_lang = res;\n    })\n    this.language = new EventEmitter();\n    this.language.subscribe(res=>{\n      console.log('langFile>>>>',res);\n      this.langFile=res;\n    })\n\n  }\n\n  /**\n   * Ionic navigation event will run when page is loaded\n   */\n  ionViewWillEnter() {\n    this.geo.getMyLocation().then(resp=>{\n      console.log(resp.countrycode);\n      if(resp!=''){\n        this.country_code=resp.countryCode;\n      }else{\n        this.dataProvider.showToast(this.location_lang.location_error);\n      }\n    })\n    // this.locationSrevice.checkGPSPermission(resp=>{\n    //   this.country_code=resp.countryCode;\n    //   // this.getSchool(this.country_code);\n    // },e=>{\n    // this.dataProvider.showToast(this.location_lang.location_error);\n    //   console.log(e);\n    // });\n    if(this.langFile=='ar'){\n      this.country=this.geo.getAllCountries();\n    }else{\n      this.country=this.geo.getEnCountries();\n    }\n    // this.country.sort((a,b) => (a.name > b.name) ? 1 : ((b.name > a.name) ? -1 : 0));\n    this.getSchool(null);\n\n  }\n\n  portChange(event){\n    console.log(event)\n      let start = 0;\n      let newsPerPage = 0;\n    if(event.value.code){\n      this.getSchool(event.value.code);\n      // this.getNews(start, newsPerPage,);\n    }else{\n      this.getSchool(null);\n    }\n  }\n  getSchool(location){\n    this.dataProvider.getSchool(location).then((schoolList) => {\n      this.schools = schoolList;\n      if(this.schools && this.schools.length==0){\n        this.noDataFound = this.lang.no_schools_found;\n      }\n    }).catch((err)=>{\n      console.log(err);\n    })\n  }\n\n    async selectNewsCountry(){\n    let start = 0;\n    let newsPerPage = 0;\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: this.location_lang.select_country,\n      message: this.location_lang.select_country_subheading,\n      mode:'ios',\n      buttons: [\n        {\n          text: this.location_lang.local,\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            this.getSchool(this.country_code);\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: this.location_lang.international,\n          handler: () => {\n            this.getSchool(null);\n            console.log('Confirm Okay');\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  /**\n   * Open the school page where all material will be shown\n   * @param school Selected School information object\n   */\n  openschool(school:any) {\n    const navigation: NavigationExtras = {\n\n      state : {schoolInfo: school,country_code:this.country_code}\n      };\n      //console.log(navigation);\n      this.zone.run(() => {\n        this.router.navigate(['elearning-school-video'], navigation);\n      });\n   // this.navCtrl.push(\"ElearningSchoolVideosPage\", {schoolInfo: school});\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ElearningSchoolsPage } from './elearning-schools.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ElearningSchoolsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ElearningSchoolsPageRoutingModule {}\n","export default \"app-elearning-schools:host h2 {\\n  font-weight: 600 !important;\\n}\\n\\n.county {\\n  position: fixed;\\n  z-index: 10;\\n  width: 100%;\\n}\\n\\n.county ion-item {\\n  width: 100%;\\n  --background: #f8f8f8;\\n  font-size: 17px;\\n}\\n\\n.body {\\n  margin-top: 60px;\\n}\\n\\nion-avatar {\\n  margin-left: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2VsZWFybmluZy1zY2hvb2xzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLDJCQUFBO0FBQVI7O0FBR0c7RUFDSyxlQUFBO0VBQ0osV0FBQTtFQUNBLFdBQUE7QUFBSjs7QUFDSTtFQUNJLFdBQUE7RUFDSixxQkFBQTtFQUNJLGVBQUE7QUFDUjs7QUFFQTtFQUNJLGdCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxpQkFBQTtBQUVKIiwiZmlsZSI6ImVsZWFybmluZy1zY2hvb2xzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC1lbGVhcm5pbmctc2Nob29sczpob3N0IHtcclxuICAgIGgye1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDAgIWltcG9ydGFudDtcclxuICAgIH1cclxufVxyXG4gICAuY291bnR5e1xyXG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHotaW5kZXg6IDEwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBpb24taXRlbXtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgIC0tYmFja2dyb3VuZDogI2Y4ZjhmODtcclxuICAgICAgICBmb250LXNpemU6IDE3cHg7XHJcbiAgICB9XHJcbn1cclxuLmJvZHl7XHJcbiAgICBtYXJnaW4tdG9wOiA2MHB4O1xyXG59XHJcbmlvbi1hdmF0YXJ7XHJcbiAgICBtYXJnaW4tbGVmdDoxMHB4O1xyXG59Il19 */\";"],"sourceRoot":"webpack:///"}