{"version":3,"sources":["webpack:///src/app/elearning-schools/elearning-schools.module.ts","webpack:///src/app/elearning-schools/elearning-schools.page.html","webpack:///src/app/elearning-schools/elearning-schools.page.ts","webpack:///src/app/elearning-schools/elearning-schools-routing.module.ts","webpack:///src/app/elearning-schools/elearning-schools.page.scss"],"names":["ElearningSchoolsPageModule","imports","declarations","ElearningSchoolsPage","navCtrl","translate","dataProvider","router","alertController","route","locationSrevice","geo","zone","schools","noDataFound","lang","selected_country","code","name","langFile","get","subscribe","res","location_lang","language","console","log","getMyLocation","then","resp","countrycode","country_code","countryCode","showToast","location_error","country","getAllCountries","getEnCountries","getSchool","event","start","newsPerPage","value","location","schoolList","length","no_schools_found","err","create","cssClass","header","select_country","message","select_country_subheading","mode","buttons","text","local","role","handler","blah","international","alert","present","school","navigation","state","schoolInfo","run","navigate","selector","template","routes","path","component","ElearningSchoolsPageRoutingModule","forChild","exports"],"mappings":"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","file":"elearning-schools-elearning-schools-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ElearningSchoolsPageRoutingModule } from './elearning-schools-routing.module';\n\nimport { ElearningSchoolsPage } from './elearning-schools.page';\nimport { PipesModule } from '../pipes/pipes.module';\nimport { IonicSelectableModule } from 'ionic-selectable';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ElearningSchoolsPageRoutingModule,\n    PipesModule,\n    IonicSelectableModule\n  ],\n  declarations: [ElearningSchoolsPage]\n})\nexport class ElearningSchoolsPageModule {}\n","export default \"<ion-header mode=\\\"md\\\">\\n\\n  <ion-toolbar transparent>\\n   \\t<ion-buttons slot=\\\"end\\\">\\n      <!-- <ion-button icon-only (click)=\\\"selectNewsCountry()\\\">\\n        <ion-icon name=\\\"help-circle-outline\\\" ></ion-icon>\\n      </ion-button> -->\\n   \\t\\t<ion-back-button>\\n   \\t\\t</ion-back-button>\\n   \\t</ion-buttons>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title text-right>{{'eLearning.title' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n \\n<ion-content padding mode=\\\"md\\\">\\n    <ion-row class=\\\"county\\\">\\n\\n        <ion-item >\\n          <ion-label>{{'location.select_country'| translate}}</ion-label>\\n          <ionic-selectable\\n            [(ngModel)]=\\\"selected_country\\\"\\n            [items]=\\\"country\\\"\\n            itemValueField=\\\"code\\\"\\n            itemTextField=\\\"name\\\"\\n            (onChange)=\\\"portChange($event)\\\"\\n            [canSearch]=\\\"true\\\">\\n          </ionic-selectable>\\n        </ion-item>\\n  </ion-row>\\n  <div class=\\\"body\\\">\\n    \\n    <ion-card  *ngFor=\\\"let school of schools\\\" (click)=\\\"openschool(school)\\\">\\n      <ion-card-content>\\n        <ion-item lines=\\\"none\\\">\\n          <ion-avatar item-start>\\n            <img [src]=\\\"school.pic\\\">\\n          </ion-avatar>\\n          <label>\\n  \\t        <h2>{{school.school_name}}</h2>\\n  \\t        <h3>{{school.detail}}</h3>\\n          </label>\\n        </ion-item>\\n      </ion-card-content>\\n    </ion-card>\\n    <ion-label item-center class=\\\"norecord-found\\\" *ngIf = \\\"schools?.length == 0\\\">{{noDataFound}}</ion-label>\\n  </div>\\n</ion-content>\";","import { Component, OnInit,NgZone, ViewChild, EventEmitter } from '@angular/core';\nimport { NavController, NavParams, AlertController,IonContent, Platform,ModalController } from '@ionic/angular';\nimport { AuthService } from '../service/auth/auth.service';\nimport { DataService } from '../service/data/data.service';\nimport { TranslateService } from '@ngx-translate/core';\n//import { TabsPage } from '../tabs/tabs';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { LocationService } from '../service/location/location.service';\nimport {Location} from '@angular/common';\nimport {GeoServiceProvider} from '../service/geo-service/geo-service';\n\n@Component({\n  selector: 'app-elearning-schools',\n  templateUrl: './elearning-schools.page.html',\n  styleUrls: ['./elearning-schools.page.scss'],\n})\nexport class ElearningSchoolsPage implements OnInit {\n  public language: EventEmitter<any>;  \n\n  /**\n   * @member schools Array of schools who have the e learning materials\n   * @member noDataFound used for diplaying the message when no child found\n   * @member lang Contains the language translation object\n   */\n  schools:any = [];\n  noDataFound:string = '';\n  lang:any = {};\n  country_code:any;\n  location_lang:any;\n  country:any;\n  selected_country={\n    code:\"\",\n    name:\"Worldwide\"\n  };\n  langFile:string = '';\n  \n\n  /**\n   *\n   * @param navCtrl Use for navigation between pages\n   * @param translate used for translation service\n   * @param dataProvider Use for getting data from the API\n   */\n  constructor(public navCtrl: NavController,\n  \tpublic translate: TranslateService,\n  \tpublic dataProvider: DataService,\n    private router:Router,\n    public alertController: AlertController,\n  \tprivate route : ActivatedRoute,\n    public locationSrevice:LocationService,\n             private geo:GeoServiceProvider,\n    public zone:NgZone, ) {\n    this.translate.get(\"alertmessages\").subscribe((res)=>{\n      this.lang = res;\n    })\n    this.translate.get(\"location\").subscribe((res)=>{\n      this.location_lang = res;\n    })\n    this.language = new EventEmitter();\n    this.language.subscribe(res=>{\n      console.log('langFile>>>>',res);\n      this.langFile=res;\n    })\n\n  }\n\n  /**\n   * Ionic navigation event will run when page is loaded\n   */\n  ionViewWillEnter() {\n    this.geo.getMyLocation().then(resp=>{\n      console.log(resp.countrycode);\n      if(resp!=''){\n        this.country_code=resp.countryCode;\n      }else{\n        this.dataProvider.showToast(this.location_lang.location_error);\n      }\n    })\n    // this.locationSrevice.checkGPSPermission(resp=>{\n    //   this.country_code=resp.countryCode;\n    //   // this.getSchool(this.country_code);\n    // },e=>{\n    // this.dataProvider.showToast(this.location_lang.location_error);\n    //   console.log(e);\n    // });\n    if(this.langFile=='ar'){\n      this.country=this.geo.getAllCountries();\n    }else{\n      this.country=this.geo.getEnCountries();\n    }\n    // this.country.sort((a,b) => (a.name > b.name) ? 1 : ((b.name > a.name) ? -1 : 0));\n    this.getSchool(null);\n\n  }\n\n  portChange(event){\n    console.log(event)\n      let start = 0;\n      let newsPerPage = 0;\n    if(event.value.code){\n      this.getSchool(event.value.code);\n      // this.getNews(start, newsPerPage,);\n    }else{\n      this.getSchool(null);\n    }\n  }\n  getSchool(location){\n    this.dataProvider.getSchool(location).then((schoolList) => {\n      this.schools = schoolList;\n      if(this.schools && this.schools.length==0){\n        this.noDataFound = this.lang.no_schools_found;\n      }\n    }).catch((err)=>{\n      console.log(err);\n    })\n  }\n\n    async selectNewsCountry(){\n    let start = 0;\n    let newsPerPage = 0;\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: this.location_lang.select_country,\n      message: this.location_lang.select_country_subheading,\n      mode:'ios',\n      buttons: [\n        {\n          text: this.location_lang.local,\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            this.getSchool(this.country_code);\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: this.location_lang.international,\n          handler: () => {\n            this.getSchool(null);\n            console.log('Confirm Okay');\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  /**\n   * Open the school page where all material will be shown\n   * @param school Selected School information object\n   */\n  openschool(school:any) {\n    const navigation: NavigationExtras = {\n\n      state : {schoolInfo: school,country_code:this.country_code}\n      };\n      //console.log(navigation);\n      this.zone.run(() => {\n        this.router.navigate(['elearning-school-video'], navigation);\n      });\n   // this.navCtrl.push(\"ElearningSchoolVideosPage\", {schoolInfo: school});\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ElearningSchoolsPage } from './elearning-schools.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ElearningSchoolsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ElearningSchoolsPageRoutingModule {}\n","export default \"app-elearning-schools:host h2 {\\n  font-weight: 600 !important;\\n}\\n\\n.county {\\n  position: fixed;\\n  z-index: 10;\\n  width: 100%;\\n}\\n\\n.county ion-item {\\n  width: 100%;\\n  --background: #f8f8f8;\\n  font-size: 17px;\\n}\\n\\n.body {\\n  margin-top: 60px;\\n}\\n\\nion-avatar {\\n  margin-left: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2VsZWFybmluZy1zY2hvb2xzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLDJCQUFBO0FBQVI7O0FBR0c7RUFDSyxlQUFBO0VBQ0osV0FBQTtFQUNBLFdBQUE7QUFBSjs7QUFDSTtFQUNJLFdBQUE7RUFDSixxQkFBQTtFQUNJLGVBQUE7QUFDUjs7QUFFQTtFQUNJLGdCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxpQkFBQTtBQUVKIiwiZmlsZSI6ImVsZWFybmluZy1zY2hvb2xzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC1lbGVhcm5pbmctc2Nob29sczpob3N0IHtcclxuICAgIGgye1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDAgIWltcG9ydGFudDtcclxuICAgIH1cclxufVxyXG4gICAuY291bnR5e1xyXG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHotaW5kZXg6IDEwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBpb24taXRlbXtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgIC0tYmFja2dyb3VuZDogI2Y4ZjhmODtcclxuICAgICAgICBmb250LXNpemU6IDE3cHg7XHJcbiAgICB9XHJcbn1cclxuLmJvZHl7XHJcbiAgICBtYXJnaW4tdG9wOiA2MHB4O1xyXG59XHJcbmlvbi1hdmF0YXJ7XHJcbiAgICBtYXJnaW4tbGVmdDoxMHB4O1xyXG59Il19 */\";"]}