{"version":3,"sources":["webpack:///src/app/add-class/add-class.page.ts","webpack:///src/app/add-class/add-class.page.html","webpack:///src/app/add-class/add-class.page.scss","webpack:///src/app/add-class/add-class.module.ts","webpack:///src/app/add-class/add-class-routing.module.ts"],"names":["AddClassPage","navCtrl","dataProvider","translate","alertCtrl","route","router","zone","platform","userDetails","classes","chnagedData","get","subscribe","response","lang","localStorage","getItem","JSON","parse","getClasses","data","details","user_no","school_id","session_id","showLoading","getTeachersClass","then","res","hideLoading","error","showToast","usnexpectedError","console","log","course","eve","isPresent","ind","selectedCourse","courses","cid","detail","checked","i","length","splice","push","setTeachersClass","class_added","navigation","state","isUpdated","run","navigate","selector","template","AddClassPageModule","imports","declarations","routes","path","component","AddClassPageRoutingModule","forChild","exports"],"mappings":"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","file":"add-class-add-class-module-es5.js","sourcesContent":["import { Component, OnInit, NgZone, Input } from '@angular/core';\nimport { NavController, NavParams, AlertController, Platform } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { DataService } from '../service/data/data.service';\n\n@Component({\n\tselector: 'app-add-class',\n\ttemplateUrl: './add-class.page.html',\n\tstyleUrls: ['./add-class.page.scss'],\n})\nexport class AddClassPage implements OnInit {\n\tuserDetails: any = {};\n\tlang: any;\n\tclasses: any = [];\n\tchnagedData = [];\n\n\tconstructor(public navCtrl: NavController,\n\t\tpublic dataProvider: DataService,\n\t\tpublic translate: TranslateService,\n\t\tpublic alertCtrl: AlertController,\n\t\tprivate route: ActivatedRoute,\n\t\tprivate router: Router,\n\t\tpublic zone: NgZone,\n\t\tpublic platform: Platform) {\n\t\tthis.translate.get(\"alertmessages\").subscribe((response) => {\n\t\t\tthis.lang = response;\n\t\t});\n\t}\n\n\tngOnInit() {\n\t\tif (localStorage.getItem(\"userloggedin\")) {\n\t\t\tthis.userDetails = JSON.parse(localStorage.getItem(\"userloggedin\"));\n\t\t\tthis.getClasses();\n\t\t}\n\t}\n\n\tgetClasses() {\n\t\tlet data = {\n\t\t\t\"user_no\": this.userDetails.details.user_no,\n\t\t\t\"school_id\": this.userDetails.details.school_id,\n\t\t\t\"session_id\": this.userDetails.session_id\n\t\t};\n\t\tthis.dataProvider.showLoading();\n\t\tthis.dataProvider.getTeachersClass(data).then(res => {\n\t\t\tthis.dataProvider.hideLoading();\n\t\t\tif (res.data) {\n\t\t\t\tthis.classes = res.data;\n\t\t\t}\n\t\t}).catch(error => {\n\t\t\tthis.dataProvider.hideLoading();\n\t\t\tthis.dataProvider.showToast(this.lang.usnexpectedError);\n\t\t\tconsole.log(error)\n\t\t})\n\t}\n\n\tchangeClass(course, eve) {\n\t\tlet isPresent = false;\n\t\tlet ind: any;\n\t\tlet selectedCourse = {\n\t\t\t'cid': course.courses.cid,\n\t\t\t\"status\": eve.detail.checked\n\t\t};\n\t\tfor (let i = 0; i < this.chnagedData.length; i++) {\n\t\t\tif (this.chnagedData[i]['cid'] == selectedCourse.cid) {\n\t\t\t\tisPresent = true;\n\t\t\t\tind = i;\n\t\t\t}\n\t\t}\n\t\tif (isPresent) {\n\t\t\tthis.chnagedData.splice(ind, 1);\n\t\t} else {\n\t\t\tthis.chnagedData.push(selectedCourse);\n\t\t}\n\t\t// console.log(this.chnagedData);\n\t}\n\n\tsetClasses() {\n\t\tlet data = {\n\t\t\t\"user_no\": this.userDetails.details.user_no,\n\t\t\t\"school_id\": this.userDetails.details.school_id,\n\t\t\t\"session_id\": this.userDetails.session_id,\n\t\t\t\"updates\": this.chnagedData\n\t\t};\n\t\tthis.dataProvider.showLoading();\n\t\tthis.dataProvider.setTeachersClass(data).then(res => {\n\t\t\tthis.dataProvider.showToast(this.lang.class_added);\n\t\t\tthis.dataProvider.hideLoading();\n\t\t\tconst navigation: NavigationExtras = {\n\t\t\t\tstate: {\n\t\t\t\t\tisUpdated: true\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tthis.zone.run(() => {\n\t\t\t\tthis.router.navigate(['tabs/follow-up-student'], navigation);\n\t\t\t});\n\t\t}).catch(error => {\n\t\t\tthis.dataProvider.hideLoading();\n\t\t\tthis.dataProvider.showToast(this.lang.usnexpectedError);\n\t\t\tconsole.log(error)\n\t\t})\n\t}\n\n}\n","export default \"<ion-header mode=\\\"md\\\">\\n  <ion-toolbar>\\n  \\t<ion-buttons slot=\\\"end\\\">\\n  \\t\\t<ion-back-button></ion-back-button>\\n  \\t</ion-buttons>\\n      <ion-title text-right>{{'followUp_student.select_classes' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content mode=\\\"md\\\">\\n\\t<div class=\\\"students\\\" id=\\\"students\\\" *ngIf=\\\"classes\\\" > \\n\\t\\t<!-- <ion-virtual-scroll [items]=\\\"students\\\" approxItemHeight=\\\"320px\\\"> -->\\n\\t\\t<ion-card  class=\\\"text-left body-font card heigt-min\\\"  *ngFor=\\\"let class of classes; let i=index\\\">\\t\\t\\n\\t\\t\\t<ion-item  >\\n\\t\\t\\t\\t<ion-checkbox slot=\\\"end\\\" [checked]=\\\"class.is_selected\\\" (ionChange)=\\\"changeClass(class,$event)\\\"></ion-checkbox>\\n\\t\\t\\t    <ion-label>\\n\\t\\t\\t    \\t<h4>{{class.courses.name}}</h4>\\n\\t\\t\\t    \\t<p>{{class.courses.desc}}</p> \\n\\t\\t\\t    </ion-label>\\n\\t\\t\\t</ion-item>\\n\\t\\t</ion-card> \\n\\t</div>\\n\\n</ion-content>\\n<ion-footer style=\\\"background: #fff;\\\">\\n\\t<ion-button  expand=\\\"block\\\" shape=\\\"round\\\" color=\\\"primary\\\" [disabled]=\\\"!chnagedData.length\\\" (click)=\\\"setClasses()\\\">\\n\\t\\t{{'followUp_student.select_classes' | translate}}\\n\\t</ion-button>\\n</ion-footer>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZGQtY2xhc3MucGFnZS5zY3NzIn0= */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddClassPageRoutingModule } from './add-class-routing.module';\n\nimport { AddClassPage } from './add-class.page';\nimport { PipesModule } from '../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PipesModule,\n    AddClassPageRoutingModule\n  ],\n  declarations: [AddClassPage]\n})\nexport class AddClassPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddClassPage } from './add-class.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddClassPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddClassPageRoutingModule {}\n"]}